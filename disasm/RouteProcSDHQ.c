/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2011 Hex-Rays <info@hex-rays.com>

   Detected compiler: Visual C++
*/

#include <windows.h>
#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Data declarations

extern _UNKNOWN unk_331005; // weak
extern _UNKNOWN unk_3828B1; // weak
extern wchar_t Format[]; // idb
extern wchar_t aEx02d[]; // idb
extern char aSd_exe[]; // idb
extern char aS_test_exe[]; // idb
extern char aSsMF_exe[]; // idb
extern char aSsMF_test_exe[]; // idb
extern char aS_exe[]; // idb
extern int dword_384458; // weak
extern int (__stdcall *off_384460)(int); // weak
extern char aVectorTTooLong[19]; // weak
extern int (__stdcall *off_384480)(int); // weak
extern int (__stdcall *off_38448C)(int); // weak
extern wchar_t aSp103[6]; // weak
extern wchar_t aSp102[6]; // weak
extern wchar_t aSp101[6]; // weak
extern wchar_t aSp100[6]; // weak
extern wchar_t aSp208[6]; // weak
extern wchar_t aSp207[6]; // weak
extern wchar_t aSp206[6]; // weak
extern wchar_t aSp205[6]; // weak
extern wchar_t aSp204[6]; // weak
extern wchar_t aSp203[6]; // weak
extern wchar_t aSp202[6]; // weak
extern wchar_t aSp201[6]; // weak
extern wchar_t aSp200[6]; // weak
extern wchar_t aSp310[6]; // weak
extern wchar_t aSp309[6]; // weak
extern wchar_t aSp308[6]; // weak
extern wchar_t aSp307[6]; // weak
extern wchar_t aSp306[6]; // weak
extern wchar_t aSp305[6]; // weak
extern wchar_t aSp304[6]; // weak
extern wchar_t aSp303[6]; // weak
extern wchar_t aSp302[6]; // weak
extern wchar_t aSp301[6]; // weak
extern wchar_t aSp300[6]; // weak
extern wchar_t aSp434[6]; // weak
extern wchar_t aSp433[6]; // weak
extern wchar_t aSp432[6]; // weak
extern wchar_t aSp431[6]; // weak
extern wchar_t aSp430[6]; // weak
extern wchar_t aSp429[6]; // weak
extern wchar_t aSp428[6]; // weak
extern wchar_t aSp427[6]; // weak
extern wchar_t aSp426[6]; // weak
extern wchar_t aSp425[6]; // weak
extern wchar_t aSp424[6]; // weak
extern wchar_t aSp423[6]; // weak
extern wchar_t aSp422[6]; // weak
extern wchar_t aSp421[6]; // weak
extern wchar_t aSp420[6]; // weak
extern wchar_t aSp419[6]; // weak
extern wchar_t aSp418[6]; // weak
extern wchar_t aSp417[6]; // weak
extern wchar_t aSp416[6]; // weak
extern wchar_t aSp415[6]; // weak
extern wchar_t aSp414[6]; // weak
extern wchar_t aSp413[6]; // weak
extern wchar_t aSp412[6]; // weak
extern wchar_t aSp411[6]; // weak
extern wchar_t aSp410[6]; // weak
extern wchar_t aSp409[6]; // weak
extern wchar_t aSp408[6]; // weak
extern wchar_t aSp407[6]; // weak
extern wchar_t aSp406[6]; // weak
extern wchar_t aSp405[6]; // weak
extern wchar_t aSp404[6]; // weak
extern wchar_t aSp403[6]; // weak
extern wchar_t aSp402[6]; // weak
extern wchar_t aSp401[6]; // weak
extern wchar_t aSp400[6]; // weak
extern wchar_t aSp556[6]; // weak
extern wchar_t aSp555[6]; // weak
extern wchar_t aSp554[6]; // weak
extern wchar_t aSp553[6]; // weak
extern wchar_t aSp552[6]; // weak
extern wchar_t aSp551[6]; // weak
extern wchar_t aSp550[6]; // weak
extern wchar_t aSp549[6]; // weak
extern wchar_t aSp548[6]; // weak
extern wchar_t aSp547[6]; // weak
extern wchar_t aSp546[6]; // weak
extern wchar_t aSp545[6]; // weak
extern wchar_t aSp544[6]; // weak
extern wchar_t aSp543[6]; // weak
extern wchar_t aSp542[6]; // weak
extern wchar_t aSp541[6]; // weak
extern wchar_t aSp540[6]; // weak
extern wchar_t aSp539[6]; // weak
extern wchar_t aSp538[6]; // weak
extern wchar_t aSp537[6]; // weak
extern wchar_t aSp536[6]; // weak
extern wchar_t aSp535[6]; // weak
extern wchar_t aSp534[6]; // weak
extern wchar_t aSp533[6]; // weak
extern wchar_t aSp532[6]; // weak
extern wchar_t aSp531[6]; // weak
extern wchar_t aSp530[6]; // weak
extern wchar_t aSp529[6]; // weak
extern wchar_t aSp528[6]; // weak
extern wchar_t aSp527[6]; // weak
extern wchar_t aSp526[6]; // weak
extern wchar_t aSp525[6]; // weak
extern wchar_t aSp524[6]; // weak
extern wchar_t aSp523[6]; // weak
extern wchar_t aSp522[6]; // weak
extern wchar_t aSp521[6]; // weak
extern wchar_t aSp520[6]; // weak
extern wchar_t aSp519[6]; // weak
extern wchar_t aSp518[6]; // weak
extern wchar_t aSp517[6]; // weak
extern wchar_t aSp516[6]; // weak
extern wchar_t aSp515[6]; // weak
extern wchar_t aSp514[6]; // weak
extern wchar_t aSp513[6]; // weak
extern wchar_t aSp512[6]; // weak
extern wchar_t aSp511[6]; // weak
extern wchar_t aSp510[6]; // weak
extern wchar_t aSp509[6]; // weak
extern wchar_t aSp508[6]; // weak
extern wchar_t aSp507[6]; // weak
extern wchar_t aSp506[6]; // weak
extern wchar_t aSp505[6]; // weak
extern wchar_t aSp504[6]; // weak
extern wchar_t aSp503[6]; // weak
extern wchar_t aSp502[6]; // weak
extern wchar_t aSp501[6]; // weak
extern wchar_t aSp500[6]; // weak
extern wchar_t aSp644[6]; // weak
extern wchar_t aSp643[6]; // weak
extern wchar_t aSp642[6]; // weak
extern wchar_t aSp641[6]; // weak
extern wchar_t aSp640[6]; // weak
extern wchar_t aSp639[6]; // weak
extern wchar_t aSp638[6]; // weak
extern wchar_t aSp637[6]; // weak
extern wchar_t aSp636[6]; // weak
extern wchar_t aSp635[6]; // weak
extern wchar_t aSp634[6]; // weak
extern wchar_t aSp633[6]; // weak
extern wchar_t aSp632[6]; // weak
extern wchar_t aSp631[6]; // weak
extern wchar_t aSp630[6]; // weak
extern wchar_t aSp629[6]; // weak
extern wchar_t aSp628[6]; // weak
extern wchar_t aSp627[6]; // weak
extern wchar_t aSp626[6]; // weak
extern wchar_t aSp625[6]; // weak
extern wchar_t aSp624[6]; // weak
extern wchar_t aSp623[6]; // weak
extern wchar_t aSp622[6]; // weak
extern wchar_t aSp621[6]; // weak
extern wchar_t aSp620[6]; // weak
extern wchar_t aSp619[6]; // weak
extern wchar_t aSp618[6]; // weak
extern wchar_t aSp617[6]; // weak
extern wchar_t aSp616[6]; // weak
extern wchar_t aSp615[6]; // weak
extern wchar_t aSp614[6]; // weak
extern wchar_t aSp613[6]; // weak
extern wchar_t aSp612[6]; // weak
extern wchar_t aSp611[6]; // weak
extern wchar_t aSp610[6]; // weak
extern wchar_t aSp609[6]; // weak
extern wchar_t aSp608[6]; // weak
extern wchar_t aSp607[6]; // weak
extern wchar_t aSp606[6]; // weak
extern wchar_t aSp605[6]; // weak
extern wchar_t aSp604[6]; // weak
extern wchar_t aSp603[6]; // weak
extern wchar_t aSp602[6]; // weak
extern wchar_t aSp601[6]; // weak
extern wchar_t aSp600[6]; // weak
extern wchar_t aRoute[6]; // weak
extern wchar_t a999[4]; // weak
extern wchar_t a998[4]; // weak
extern wchar_t a997[4]; // weak
extern wchar_t a996[4]; // weak
extern wchar_t a995[4]; // weak
extern wchar_t a994[4]; // weak
extern wchar_t a993[4]; // weak
extern wchar_t a992[4]; // weak
extern wchar_t a992_0[4]; // weak
extern wchar_t a991[4]; // weak
extern wchar_t a990[4]; // weak
extern wchar_t a989[4]; // weak
extern wchar_t a988[4]; // weak
extern wchar_t a987[4]; // weak
extern wchar_t a986[4]; // weak
extern wchar_t a999_0[4]; // weak
extern wchar_t a998_0[4]; // weak
extern wchar_t a997_0[4]; // weak
extern wchar_t a996_0[4]; // weak
extern wchar_t a995_0[4]; // weak
extern wchar_t a994_0[4]; // weak
extern wchar_t a993_0[4]; // weak
extern wchar_t a992_1[4]; // weak
extern wchar_t a986_0[4]; // weak
extern wchar_t a977[4]; // weak
extern wchar_t a985[4]; // weak
extern wchar_t a984[4]; // weak
extern wchar_t a983[4]; // weak
extern wchar_t a982[4]; // weak
extern wchar_t a981[4]; // weak
extern wchar_t a980[4]; // weak
extern wchar_t a979[4]; // weak
extern wchar_t a978[4]; // weak
extern wchar_t a963[4]; // weak
extern wchar_t a965[4]; // weak
extern wchar_t a964[4]; // weak
extern wchar_t a962[4]; // weak
extern wchar_t a979_0[4]; // weak
extern wchar_t a978_0[4]; // weak
extern wchar_t a963_0[4]; // weak
extern wchar_t a965_0[4]; // weak
extern wchar_t a964_0[4]; // weak
extern wchar_t a971[4]; // weak
extern wchar_t a962_0[4]; // weak
extern wchar_t a802[4]; // weak
extern wchar_t a979_1[4]; // weak
extern wchar_t a978_1[4]; // weak
extern wchar_t a968[4]; // weak
extern wchar_t a967[4]; // weak
extern wchar_t a966[4]; // weak
extern wchar_t a940[4]; // weak
extern wchar_t a979_2[4]; // weak
extern wchar_t a978_2[4]; // weak
extern wchar_t a971_0[4]; // weak
extern wchar_t a968_0[4]; // weak
extern wchar_t a967_0[4]; // weak
extern wchar_t a966_0[4]; // weak
extern wchar_t a979_3[4]; // weak
extern wchar_t a978_3[4]; // weak
extern wchar_t a968_1[4]; // weak
extern wchar_t a967_1[4]; // weak
extern wchar_t a966_1[4]; // weak
extern wchar_t a940_0[4]; // weak
extern wchar_t a979_4[4]; // weak
extern wchar_t a978_4[4]; // weak
extern wchar_t a976[4]; // weak
extern wchar_t a975[4]; // weak
extern wchar_t a974[4]; // weak
extern wchar_t a973[4]; // weak
extern wchar_t a972[4]; // weak
extern wchar_t a971_1[4]; // weak
extern wchar_t a970[4]; // weak
extern wchar_t a969[4]; // weak
extern wchar_t a968_2[4]; // weak
extern wchar_t a967_2[4]; // weak
extern wchar_t a966_2[4]; // weak
extern wchar_t a940_1[4]; // weak
extern wchar_t a801[4]; // weak
extern wchar_t a976_0[4]; // weak
extern wchar_t a975_0[4]; // weak
extern wchar_t a974_0[4]; // weak
extern wchar_t a973_0[4]; // weak
extern wchar_t a972_0[4]; // weak
extern wchar_t a971_2[4]; // weak
extern wchar_t a969_0[4]; // weak
extern wchar_t a961[4]; // weak
extern wchar_t a960[4]; // weak
extern wchar_t a968_3[4]; // weak
extern wchar_t a967_3[4]; // weak
extern wchar_t a966_3[4]; // weak
extern wchar_t a979_5[4]; // weak
extern wchar_t a978_5[4]; // weak
extern wchar_t a940_2[4]; // weak
extern wchar_t a801_0[4]; // weak
extern wchar_t a979_6[4]; // weak
extern wchar_t a978_6[4]; // weak
extern wchar_t a940_3[4]; // weak
extern wchar_t a801_1[4]; // weak
extern wchar_t a948[4]; // weak
extern wchar_t a928[4]; // weak
extern wchar_t a801_2[4]; // weak
extern wchar_t a950[4]; // weak
extern wchar_t a949[4]; // weak
extern wchar_t a979_7[4]; // weak
extern wchar_t a978_7[4]; // weak
extern wchar_t a950_0[4]; // weak
extern wchar_t a949_0[4]; // weak
extern wchar_t a940_4[4]; // weak
extern wchar_t a933[4]; // weak
extern wchar_t a932[4]; // weak
extern wchar_t a959[4]; // weak
extern wchar_t a958[4]; // weak
extern wchar_t a957[4]; // weak
extern wchar_t a956[4]; // weak
extern wchar_t a803[4]; // weak
extern wchar_t a802_0[4]; // weak
extern wchar_t a940_5[4]; // weak
extern wchar_t a801_3[4]; // weak
extern wchar_t a979_8[4]; // weak
extern wchar_t a978_8[4]; // weak
extern wchar_t a970_0[4]; // weak
extern wchar_t a940_6[4]; // weak
extern wchar_t a939[4]; // weak
extern wchar_t a927[4]; // weak
extern wchar_t a801_4[4]; // weak
extern wchar_t a001[]; // idb
extern wchar_t a002[]; // idb
extern wchar_t a001_0[]; // idb
extern wchar_t a002_0[]; // idb
extern wchar_t aS[]; // idb
extern wchar_t aS_0[]; // idb
extern wchar_t aNumber[]; // idb
extern wchar_t aNumber_0[]; // idb
extern wchar_t aFlagD[]; // idb
extern wchar_t aEnd02d[]; // idb
extern wchar_t aEndclear[9]; // weak
extern wchar_t aEndclear_0[9]; // weak
extern wchar_t aEndno[6]; // weak
extern wchar_t aEndclear_1[9]; // weak
extern wchar_t aRoute_0[6]; // weak
extern wchar_t aScene[6]; // weak
extern wchar_t aScene_0[6]; // weak
extern wchar_t Src[]; // idb
extern wchar_t aScene_1[6]; // weak
extern wchar_t aPvTrial_pv[]; // idb
extern wchar_t aPvSekaiOp[12]; // weak
extern wchar_t aPvKotonohaOp[15]; // weak
extern wchar_t aPvSetunaOp[13]; // weak
extern _UNKNOWN unk_385388; // weak
extern wchar_t aScene_2[6]; // weak
extern wchar_t aFlag_logo[10]; // weak
extern wchar_t aRoute_1[6]; // weak
extern wchar_t word_3853B8; // idb
extern wchar_t aSpD[]; // idb
extern wchar_t aRoute_2[6]; // weak
extern wchar_t aRoute_3[6]; // weak
extern wchar_t aIniFeelingscri[22]; // weak
extern char OutputString[]; // idb
extern wchar_t aIniStanderdscr[23]; // weak
extern char aIniStanderds_0[]; // idb
extern wchar_t aRoute_4[6]; // weak
extern wchar_t aScene_3[6]; // weak
extern wchar_t aRoute_5[6]; // weak
extern wchar_t aRoute_6[6]; // weak
extern wchar_t aEndclear_2[9]; // weak
extern wchar_t aRoute_7[6]; // weak
extern wchar_t aScene_4[6]; // weak
extern wchar_t aRoute_8[6]; // weak
extern wchar_t aRoute_9[6]; // weak
extern wchar_t aRoute_10[6]; // weak
extern wchar_t aScene_5[6]; // weak
extern wchar_t aScene_6[6]; // weak
extern wchar_t aBs0000b00[10]; // weak
extern wchar_t aBs0000b00_0[10]; // weak
extern wchar_t aBs0000h02[10]; // weak
extern wchar_t aBs0000h02_0[10]; // weak
extern wchar_t aScene_7[6]; // weak
extern wchar_t aBs0000b00_1[10]; // weak
extern wchar_t aBs0000h02_1[10]; // weak
extern wchar_t aRoute_11[6]; // weak
extern wchar_t aScene_8[6]; // weak
extern wchar_t aNotice_sdhq_0[]; // idb
extern wchar_t aRoute_12[6]; // weak
extern wchar_t aScene_9[6]; // weak
extern wchar_t aPvTrial_pv_0[]; // idb
extern wchar_t aRoute_13[6]; // weak
extern wchar_t aScene_10[6]; // weak
extern wchar_t aPvSekaiOp_0[]; // idb
extern wchar_t aPvKotonohaOp_0[]; // idb
extern wchar_t aPvSetunaOp_0[]; // idb
extern wchar_t aRoute_14[6]; // weak
extern wchar_t aScene_11[6]; // weak
extern wchar_t aScene_12[6]; // weak
extern wchar_t aScene_13[6]; // weak
extern wchar_t aRoute_15[6]; // weak
extern wchar_t aScene_14[6]; // weak
extern wchar_t aScene_15[6]; // weak
extern wchar_t aBs0100b04[10]; // weak
extern wchar_t aBs0100b05[10]; // weak
extern wchar_t aBs0100b05_0[10]; // weak
extern wchar_t aBs0100d00[10]; // weak
extern wchar_t aBs0100e00[10]; // weak
extern wchar_t aBs0100e01[10]; // weak
extern wchar_t aBs0100e05[10]; // weak
extern wchar_t aBs0100f00[10]; // weak
extern wchar_t aBs0100h00[10]; // weak
extern wchar_t aBs0100g00[10]; // weak
extern wchar_t a999_1[4]; // weak
extern wchar_t a998_1[4]; // weak
extern wchar_t aBs0100i00[10]; // weak
extern wchar_t a986_1[4]; // weak
extern wchar_t aBs0100h06[10]; // weak
extern wchar_t aBs0100h09[10]; // weak
extern wchar_t aBs0100k00[10]; // weak
extern wchar_t aBs0100j05[10]; // weak
extern wchar_t aBs0100k00_0[10]; // weak
extern wchar_t a997_1[4]; // weak
extern wchar_t a995_1[4]; // weak
extern wchar_t a994_1[4]; // weak
extern wchar_t aBs0100n00[10]; // weak
extern wchar_t a996_1[4]; // weak
extern wchar_t aBs0100u00[10]; // weak
extern wchar_t a999_2[4]; // weak
extern wchar_t a997_2[4]; // weak
extern wchar_t a995_2[4]; // weak
extern wchar_t aBs0100n04[10]; // weak
extern wchar_t a992_2[4]; // weak
extern wchar_t aBs0100q00[10]; // weak
extern wchar_t a993_1[4]; // weak
extern wchar_t aBs0100q00_0[10]; // weak
extern wchar_t aBs0100q00_1[10]; // weak
extern wchar_t aBs0100q00_2[10]; // weak
extern wchar_t aBs0100n10[10]; // weak
extern wchar_t a992_3[4]; // weak
extern wchar_t aBs0100n09[10]; // weak
extern wchar_t a993_2[4]; // weak
extern wchar_t aBs0100n09_0[10]; // weak
extern wchar_t a992_4[4]; // weak
extern wchar_t aBs0100q00_3[10]; // weak
extern wchar_t a992_5[4]; // weak
extern wchar_t aBs0100r03[10]; // weak
extern wchar_t aBs0100r04[10]; // weak
extern wchar_t aBs0100r04_0[10]; // weak
extern wchar_t aBs0100r09[10]; // weak
extern wchar_t aBs0100r10[10]; // weak
extern wchar_t aBs0100r08[10]; // weak
extern wchar_t aBs0100r03_0[10]; // weak
extern wchar_t aBs0100j01[10]; // weak
extern wchar_t aBs0100g04[10]; // weak
extern wchar_t aBs0100s04[10]; // weak
extern wchar_t aBs0100q00_4[10]; // weak
extern wchar_t a001_1[4]; // weak
extern wchar_t a002_1[4]; // weak
extern wchar_t aScene_16[6]; // weak
extern wchar_t aBs0100b04_0[10]; // weak
extern wchar_t aBs0100b05_1[10]; // weak
extern wchar_t aBs0100d00_0[10]; // weak
extern wchar_t aBs0100e00_0[10]; // weak
extern wchar_t aBs0100e01_0[10]; // weak
extern wchar_t aBs0100e05_0[10]; // weak
extern wchar_t aBs0100f00_0[10]; // weak
extern wchar_t aBs0100g00_0[10]; // weak
extern wchar_t aBs0100g04_0[10]; // weak
extern wchar_t aBs0100h00_0[10]; // weak
extern wchar_t aBs0100h06_0[10]; // weak
extern wchar_t aBs0100h09_0[10]; // weak
extern wchar_t aBs0100i00_0[10]; // weak
extern wchar_t a999_3[4]; // weak
extern wchar_t a998_2[4]; // weak
extern wchar_t aBs0100j01_0[10]; // weak
extern wchar_t aBs0100j05_0[10]; // weak
extern wchar_t a986_2[4]; // weak
extern wchar_t aBs0100k00_1[10]; // weak
extern wchar_t a996_2[4]; // weak
extern wchar_t aBs0100n00_0[10]; // weak
extern wchar_t a997_3[4]; // weak
extern wchar_t a995_3[4]; // weak
extern wchar_t a994_2[4]; // weak
extern wchar_t aBs0100n04_0[10]; // weak
extern wchar_t aBs0100n09_1[10]; // weak
extern wchar_t a992_6[4]; // weak
extern wchar_t a993_3[4]; // weak
extern wchar_t aBs0100n10_0[10]; // weak
extern wchar_t aBs0100q00_5[10]; // weak
extern wchar_t a992_7[4]; // weak
extern wchar_t aBs0100r03_1[10]; // weak
extern wchar_t aBs0100r04_1[10]; // weak
extern wchar_t aBs0100r08_0[10]; // weak
extern wchar_t aBs0100r09_0[10]; // weak
extern wchar_t aBs0100r10_0[10]; // weak
extern wchar_t aBs0100s04_0[10]; // weak
extern wchar_t aBs0100u00_0[10]; // weak
extern wchar_t aRoute_16[6]; // weak
extern wchar_t aScene_17[6]; // weak
extern wchar_t aScene_18[6]; // weak
extern wchar_t aScene_19[6]; // weak
extern wchar_t aRoute_17[6]; // weak
extern wchar_t aScene_20[6]; // weak
extern wchar_t aScene_21[6]; // weak
extern wchar_t a991_0[4]; // weak
extern wchar_t a990_0[4]; // weak
extern wchar_t a989_0[4]; // weak
extern wchar_t a988_0[4]; // weak
extern wchar_t a987_0[4]; // weak
extern wchar_t aBs011kd00[10]; // weak
extern wchar_t aBs011kc04[10]; // weak
extern wchar_t aBs011kc04_0[10]; // weak
extern wchar_t a991_1[4]; // weak
extern wchar_t a990_1[4]; // weak
extern wchar_t a989_1[4]; // weak
extern wchar_t aBs011ke03[10]; // weak
extern wchar_t a988_1[4]; // weak
extern wchar_t aBs011ke03_0[10]; // weak
extern wchar_t aBs011ke06[10]; // weak
extern wchar_t aBs011kf00[10]; // weak
extern wchar_t a986_3[4]; // weak
extern wchar_t aBs011kk03[10]; // weak
extern wchar_t a986_4[4]; // weak
extern wchar_t aBs011kk07[10]; // weak
extern wchar_t aScene_22[6]; // weak
extern wchar_t aBs011kc04_1[10]; // weak
extern wchar_t aBs011kd00_0[10]; // weak
extern wchar_t a991_2[4]; // weak
extern wchar_t a990_2[4]; // weak
extern wchar_t a989_2[4]; // weak
extern wchar_t a988_2[4]; // weak
extern wchar_t a987_1[4]; // weak
extern wchar_t aBs011ke03_1[10]; // weak
extern wchar_t aBs011ke06_0[10]; // weak
extern wchar_t aBs011kf00_0[10]; // weak
extern wchar_t aBs011kk03_0[10]; // weak
extern wchar_t aBs011kk07_0[10]; // weak
extern wchar_t aRoute_18[6]; // weak
extern wchar_t aScene_23[6]; // weak
extern wchar_t aScene_24[6]; // weak
extern wchar_t aScene_25[6]; // weak
extern wchar_t aRoute_19[6]; // weak
extern wchar_t aScene_26[6]; // weak
extern wchar_t aScene_27[6]; // weak
extern wchar_t aScene_28[6]; // weak
extern wchar_t aRoute_20[6]; // weak
extern wchar_t aScene_29[6]; // weak
extern wchar_t aScene_30[6]; // weak
extern wchar_t aScene_31[6]; // weak
extern wchar_t aRoute_21[6]; // weak
extern wchar_t aScene_32[6]; // weak
extern wchar_t aScene_33[6]; // weak
extern wchar_t aBs022kq00[10]; // weak
extern wchar_t a001_2[4]; // weak
extern wchar_t a002_2[4]; // weak
extern wchar_t aBs022kf03[10]; // weak
extern wchar_t aBs022kf04[10]; // weak
extern wchar_t aBs022kf05[10]; // weak
extern wchar_t aBs022kf06[10]; // weak
extern wchar_t aBs022kf07[10]; // weak
extern wchar_t aBs022kf08[10]; // weak
extern wchar_t aBs022kf09[10]; // weak
extern wchar_t aBs022kf03_0[10]; // weak
extern wchar_t aBs022kg00[10]; // weak
extern wchar_t aBs022kh00[10]; // weak
extern wchar_t aBs022kh06[10]; // weak
extern wchar_t aBs022kj03[10]; // weak
extern wchar_t aBs022kj03_0[10]; // weak
extern wchar_t aBs022kj05[10]; // weak
extern wchar_t aBs022kj06[10]; // weak
extern wchar_t aBs022kj05_0[10]; // weak
extern wchar_t aBs022kj06_0[10]; // weak
extern wchar_t aBs022kj08[10]; // weak
extern wchar_t aBs022kj09[10]; // weak
extern wchar_t a978_9[4]; // weak
extern wchar_t aRep02_2k_j03[13]; // weak
extern wchar_t aBs022kk00[10]; // weak
extern wchar_t aBs022kj08_0[10]; // weak
extern wchar_t aBs022kj09_0[10]; // weak
extern wchar_t a979_9[4]; // weak
extern wchar_t aBs022kj09_1[10]; // weak
extern wchar_t aBs022kk02[10]; // weak
extern wchar_t a978_10[4]; // weak
extern wchar_t aBs022kk02_0[10]; // weak
extern wchar_t a977_0[4]; // weak
extern wchar_t aBs022km00[10]; // weak
extern wchar_t aRep02_2k_l01[13]; // weak
extern wchar_t aBs022km00_0[10]; // weak
extern wchar_t aBs022km05[10]; // weak
extern wchar_t a977_1[4]; // weak
extern wchar_t aBs022ko02[10]; // weak
extern wchar_t aBs022ko03[10]; // weak
extern wchar_t aBs022ko09[10]; // weak
extern wchar_t aRep02_2k_o01[13]; // weak
extern wchar_t aBs022kq00_0[10]; // weak
extern wchar_t aBs022ke05[10]; // weak
extern wchar_t a968_4[4]; // weak
extern wchar_t aRep02_2k_q03[13]; // weak
extern wchar_t aBs022ko02_0[10]; // weak
extern wchar_t aBs022ko03_0[10]; // weak
extern wchar_t aScene_34[6]; // weak
extern wchar_t aBs022ke05_0[10]; // weak
extern wchar_t aBs022kf03_1[10]; // weak
extern wchar_t aBs022kf04_0[10]; // weak
extern wchar_t aBs022kf05_0[10]; // weak
extern wchar_t aBs022kf06_0[10]; // weak
extern wchar_t aBs022kf07_0[10]; // weak
extern wchar_t aBs022kf08_0[10]; // weak
extern wchar_t aBs022kf09_0[10]; // weak
extern wchar_t aBs022kg00_0[10]; // weak
extern wchar_t aBs022kh00_0[10]; // weak
extern wchar_t aBs022kh06_0[10]; // weak
extern wchar_t aBs022kj03_1[10]; // weak
extern wchar_t aBs022kj05_1[10]; // weak
extern wchar_t aBs022kj06_1[10]; // weak
extern wchar_t aBs022kj08_1[10]; // weak
extern wchar_t aBs022kj09_2[10]; // weak
extern wchar_t a979_10[4]; // weak
extern wchar_t aBs022kk00_0[10]; // weak
extern wchar_t a978_11[4]; // weak
extern wchar_t aBs022kk02_1[10]; // weak
extern wchar_t aBs022km00_1[10]; // weak
extern wchar_t a977_2[4]; // weak
extern wchar_t aBs022km05_0[10]; // weak
extern wchar_t aBs022ko09_0[10]; // weak
extern wchar_t aBs022kq00_1[10]; // weak
extern wchar_t a968_5[4]; // weak
extern wchar_t aRoute_22[6]; // weak
extern wchar_t aScene_35[6]; // weak
extern wchar_t aScene_36[6]; // weak
extern wchar_t aScene_37[6]; // weak
extern wchar_t aRoute_23[6]; // weak
extern wchar_t aScene_38[6]; // weak
extern wchar_t aScene_39[6]; // weak
extern wchar_t aBs022sc03[10]; // weak
extern wchar_t aBs022sc07[10]; // weak
extern wchar_t aBs022sc08[10]; // weak
extern wchar_t aBs022sc08_0[10]; // weak
extern wchar_t aBs022sh04[10]; // weak
extern wchar_t aBs022sh04_0[10]; // weak
extern wchar_t aBs022si06[10]; // weak
extern wchar_t aBs022sh04_1[10]; // weak
extern wchar_t a984_0[4]; // weak
extern wchar_t a983_0[4]; // weak
extern wchar_t aBs022sj00[10]; // weak
extern wchar_t a983_1[4]; // weak
extern wchar_t a984_1[4]; // weak
extern wchar_t a982_0[4]; // weak
extern wchar_t aBs022sj00_0[10]; // weak
extern wchar_t a982_1[4]; // weak
extern wchar_t a983_2[4]; // weak
extern wchar_t a985_0[4]; // weak
extern wchar_t aBs022sk01[10]; // weak
extern wchar_t aBs022so00[10]; // weak
extern wchar_t aBs022sa01[10]; // weak
extern wchar_t a985_1[4]; // weak
extern wchar_t aBs022so00_0[10]; // weak
extern wchar_t a981_0[4]; // weak
extern wchar_t aBs022sp03[10]; // weak
extern wchar_t aBs022sp03_0[10]; // weak
extern wchar_t aBs022sp03_1[10]; // weak
extern wchar_t aBs022sa01_0[10]; // weak
extern wchar_t aBs022sp03_2[10]; // weak
extern wchar_t a980_0[4]; // weak
extern wchar_t aBs022sr00[10]; // weak
extern wchar_t a980_1[4]; // weak
extern wchar_t aBs022sr03[10]; // weak
extern wchar_t aBs022sr07[10]; // weak
extern wchar_t a001_3[4]; // weak
extern wchar_t a002_3[4]; // weak
extern wchar_t aRep02_2s_w03[13]; // weak
extern wchar_t aScene_40[6]; // weak
extern wchar_t aBs022sa01_1[10]; // weak
extern wchar_t aBs022sc07_0[10]; // weak
extern wchar_t aBs022sc08_1[10]; // weak
extern wchar_t aBs022sh04_2[10]; // weak
extern wchar_t aBs022si06_0[10]; // weak
extern wchar_t aBs022sj00_1[10]; // weak
extern wchar_t a982_2[4]; // weak
extern wchar_t a983_3[4]; // weak
extern wchar_t a984_2[4]; // weak
extern wchar_t aBs022sk01_0[10]; // weak
extern wchar_t a985_2[4]; // weak
extern wchar_t aBs022so00_1[10]; // weak
extern wchar_t a981_1[4]; // weak
extern wchar_t aBs022sp03_3[10]; // weak
extern wchar_t aBs022sr00_0[10]; // weak
extern wchar_t a980_2[4]; // weak
extern wchar_t aBs022sr03_0[10]; // weak
extern wchar_t aBs022sr07_0[10]; // weak
extern wchar_t aRoute_24[6]; // weak
extern wchar_t aScene_41[6]; // weak
extern wchar_t aScene_42[6]; // weak
extern wchar_t aScene_43[6]; // weak
extern wchar_t aRoute_25[6]; // weak
extern wchar_t aScene_44[6]; // weak
extern wchar_t aScene_45[6]; // weak
extern wchar_t aBs03a0a05[10]; // weak
extern wchar_t aBs03a0a06[10]; // weak
extern wchar_t aBs03a0a05_0[10]; // weak
extern wchar_t aBs03a0a06_0[10]; // weak
extern wchar_t aBs03a0a08[10]; // weak
extern wchar_t aBs03a0a09[10]; // weak
extern wchar_t a978_12[4]; // weak
extern wchar_t aRep03_a0_a00[13]; // weak
extern wchar_t aBs03a0b00[10]; // weak
extern wchar_t aBs03a0a08_0[10]; // weak
extern wchar_t aBs03a0a09_0[10]; // weak
extern wchar_t a979_11[4]; // weak
extern wchar_t aBs03a0a09_1[10]; // weak
extern wchar_t a963_1[4]; // weak
extern wchar_t aBs03a0c00[10]; // weak
extern wchar_t aBs03a1a00[10]; // weak
extern wchar_t aScene_46[6]; // weak
extern wchar_t aBs03a0a05_1[10]; // weak
extern wchar_t aBs03a0a06_1[10]; // weak
extern wchar_t aBs03a0a08_1[10]; // weak
extern wchar_t aBs03a0a09_2[10]; // weak
extern wchar_t a979_12[4]; // weak
extern wchar_t aBs03a0b00_0[10]; // weak
extern wchar_t a978_13[4]; // weak
extern wchar_t aBs03a0c00_0[10]; // weak
extern wchar_t a963_2[4]; // weak
extern wchar_t aRoute_26[6]; // weak
extern wchar_t aScene_47[6]; // weak
extern wchar_t aScene_48[6]; // weak
extern wchar_t aScene_49[6]; // weak
extern wchar_t aRoute_27[6]; // weak
extern wchar_t aScene_50[6]; // weak
extern wchar_t aScene_51[6]; // weak
extern wchar_t aBs03a1b02[10]; // weak
extern wchar_t aBs03a1b03[10]; // weak
extern wchar_t aBs03a1b02_0[10]; // weak
extern wchar_t aBs03a1b03_0[10]; // weak
extern wchar_t a962_1[4]; // weak
extern wchar_t aBs03a1c00[10]; // weak
extern wchar_t aBs03a1b02_1[10]; // weak
extern wchar_t aBs03a1b03_1[10]; // weak
extern wchar_t a962_2[4]; // weak
extern wchar_t aBs03a1d09[10]; // weak
extern wchar_t aBs03a1e00[10]; // weak
extern wchar_t aBs03a1e04[10]; // weak
extern wchar_t aBs03a1e05[10]; // weak
extern wchar_t aBs03a1d09_0[10]; // weak
extern wchar_t aBs03a1e04_0[10]; // weak
extern wchar_t aBs03a1e05_0[10]; // weak
extern wchar_t aBs03a1e00_0[10]; // weak
extern wchar_t aBs03a1d09_1[10]; // weak
extern wchar_t aBs03a1e06[10]; // weak
extern wchar_t a001_4[4]; // weak
extern wchar_t a002_4[4]; // weak
extern wchar_t aBs03a1z02[10]; // weak
extern wchar_t aRep03_a1_e08[13]; // weak
extern wchar_t a942[4]; // weak
extern wchar_t aScene_52[6]; // weak
extern wchar_t aBs03a1a00_0[10]; // weak
extern wchar_t aBs03a1b02_2[10]; // weak
extern wchar_t aBs03a1b03_2[10]; // weak
extern wchar_t aBs03a1c00_0[10]; // weak
extern wchar_t a962_3[4]; // weak
extern wchar_t aBs03a1d09_2[10]; // weak
extern wchar_t aBs03a1e00_1[10]; // weak
extern wchar_t aBs03a1e04_1[10]; // weak
extern wchar_t aBs03a1e05_1[10]; // weak
extern wchar_t aBs03a1e06_0[10]; // weak
extern wchar_t aBs03a1z02_0[10]; // weak
extern wchar_t a942_0[4]; // weak
extern wchar_t aRoute_28[6]; // weak
extern wchar_t aScene_53[6]; // weak
extern wchar_t aScene_54[6]; // weak
extern wchar_t aScene_55[6]; // weak
extern wchar_t aRoute_29[6]; // weak
extern wchar_t aScene_56[6]; // weak
extern wchar_t aScene_57[6]; // weak
extern wchar_t a971_3[4]; // weak
extern wchar_t aRep03_ak_e00[13]; // weak
extern wchar_t aScene_58[6]; // weak
extern wchar_t a971_4[4]; // weak
extern wchar_t aRoute_30[6]; // weak
extern wchar_t aScene_59[6]; // weak
extern wchar_t aScene_60[6]; // weak
extern wchar_t aScene_61[6]; // weak
extern wchar_t aRoute_31[6]; // weak
extern wchar_t aScene_62[6]; // weak
extern wchar_t aScene_63[6]; // weak
extern wchar_t aScene_64[6]; // weak
extern wchar_t aRoute_32[6]; // weak
extern wchar_t aScene_65[6]; // weak
extern wchar_t aScene_66[6]; // weak
extern wchar_t aRoute_33[6]; // weak
extern wchar_t aScene_67[6]; // weak
extern wchar_t aScene_68[6]; // weak
extern wchar_t aBs04kca00[10]; // weak
extern wchar_t aRoute_34[6]; // weak
extern wchar_t aBs04kc[7]; // weak
extern wchar_t aScene_69[6]; // weak
extern wchar_t aBs03b0a00[10]; // weak
extern wchar_t aRoute_35[6]; // weak
extern wchar_t aScene_70[6]; // weak
extern wchar_t aScene_71[6]; // weak
extern wchar_t aScene_72[6]; // weak
extern wchar_t aRoute_36[6]; // weak
extern wchar_t aScene_73[6]; // weak
extern wchar_t aScene_74[6]; // weak
extern wchar_t a971_5[4]; // weak
extern wchar_t aBs04kca00_0[10]; // weak
extern wchar_t aRoute_37[6]; // weak
extern wchar_t aBs04kc_0[7]; // weak
extern wchar_t aScene_75[6]; // weak
extern wchar_t aBs03b1a00[10]; // weak
extern wchar_t a971_6[4]; // weak
extern wchar_t aRoute_38[6]; // weak
extern wchar_t aScene_76[6]; // weak
extern wchar_t aScene_77[6]; // weak
extern wchar_t aScene_78[6]; // weak
extern wchar_t aRoute_39[6]; // weak
extern wchar_t aScene_79[6]; // weak
extern wchar_t aScene_80[6]; // weak
extern wchar_t a001_5[4]; // weak
extern wchar_t a002_5[4]; // weak
extern wchar_t aBs03b2a02[10]; // weak
extern wchar_t aBs03b2a02_0[10]; // weak
extern wchar_t aBs03b2o03[10]; // weak
extern wchar_t aRep03_b2_c00[13]; // weak
extern wchar_t a969_1[4]; // weak
extern wchar_t aBs03bka00[10]; // weak
extern wchar_t aRoute_40[6]; // weak
extern wchar_t aBs03bk[7]; // weak
extern wchar_t aScene_81[6]; // weak
extern wchar_t aBs03b2a02_1[10]; // weak
extern wchar_t aBs03b2o03_0[10]; // weak
extern wchar_t aRoute_41[6]; // weak
extern wchar_t aScene_82[6]; // weak
extern wchar_t aScene_83[6]; // weak
extern wchar_t aScene_84[6]; // weak
extern wchar_t aRoute_42[6]; // weak
extern wchar_t aScene_85[6]; // weak
extern wchar_t aScene_86[6]; // weak
extern wchar_t a969_2[4]; // weak
extern wchar_t aBs03bkg00[10]; // weak
extern wchar_t aBs03bka07[10]; // weak
extern wchar_t aBs03bka03[10]; // weak
extern wchar_t aBs03bkd05[10]; // weak
extern wchar_t aRoute_43[6]; // weak
extern wchar_t aBs04se[7]; // weak
extern wchar_t a801_5[4]; // weak
extern wchar_t aBs03bke02[10]; // weak
extern wchar_t aBs03bke02_0[10]; // weak
extern wchar_t aBs03bkf03[10]; // weak
extern wchar_t aBs03bkf03_0[10]; // weak
extern wchar_t aBs03bkg00_0[10]; // weak
extern wchar_t a970_1[4]; // weak
extern wchar_t aBs03bki04[10]; // weak
extern wchar_t aBs03bki04_0[10]; // weak
extern wchar_t aBs03bki06[10]; // weak
extern wchar_t a001_6[4]; // weak
extern wchar_t a002_6[4]; // weak
extern wchar_t a970_2[4]; // weak
extern wchar_t aBs03bkk05[10]; // weak
extern wchar_t aScene_87[6]; // weak
extern wchar_t aBs03bka00_0[10]; // weak
extern wchar_t aBs03bk_0[7]; // weak
extern wchar_t a969_3[4]; // weak
extern wchar_t aBs03bka03_0[10]; // weak
extern wchar_t aBs03bka07_0[10]; // weak
extern wchar_t aBs03bkd05_0[10]; // weak
extern wchar_t aBs03bke02_1[10]; // weak
extern wchar_t aBs03bkf03_1[10]; // weak
extern wchar_t aBs03bkg00_1[10]; // weak
extern wchar_t aBs03bki04_1[10]; // weak
extern wchar_t aBs03bki06_0[10]; // weak
extern wchar_t aBs03bkk05_0[10]; // weak
extern wchar_t aRoute_44[6]; // weak
extern wchar_t aScene_88[6]; // weak
extern wchar_t aScene_89[6]; // weak
extern wchar_t aScene_90[6]; // weak
extern wchar_t aRoute_45[6]; // weak
extern wchar_t aScene_91[6]; // weak
extern wchar_t aScene_92[6]; // weak
extern wchar_t aBs03kaa05[10]; // weak
extern wchar_t a800[4]; // weak
extern wchar_t aBs03kaa09[10]; // weak
extern wchar_t aBs03kac00[10]; // weak
extern wchar_t aBs03kak00[10]; // weak
extern wchar_t aBs03kaa01[10]; // weak
extern wchar_t a964_1[4]; // weak
extern wchar_t aBs03kac08[10]; // weak
extern wchar_t aBs03kad04[10]; // weak
extern wchar_t aBs03kap00[10]; // weak
extern wchar_t a965_1[4]; // weak
extern wchar_t aBs03kac10[10]; // weak
extern wchar_t aBs03kal02[10]; // weak
extern wchar_t aBs03kah04[10]; // weak
extern wchar_t aBs03kai00[10]; // weak
extern wchar_t aBs03kac04[10]; // weak
extern wchar_t a965_2[4]; // weak
extern wchar_t aBs03kao00[10]; // weak
extern wchar_t aBs03kai08[10]; // weak
extern wchar_t aBs03kai09[10]; // weak
extern wchar_t aBs03kai10[10]; // weak
extern wchar_t aBs03kan00[10]; // weak
extern wchar_t aBs03kaj03[10]; // weak
extern wchar_t aBs03kac04_0[10]; // weak
extern wchar_t aBs03kal02_0[10]; // weak
extern wchar_t aBs03kan00_0[10]; // weak
extern wchar_t a802_1[4]; // weak
extern wchar_t aBs03kac09[10]; // weak
extern wchar_t aBs03kac09_0[10]; // weak
extern wchar_t aBs03kal02_1[10]; // weak
extern wchar_t aBs03kam03[10]; // weak
extern wchar_t a964_2[4]; // weak
extern wchar_t aBs03kam00[10]; // weak
extern wchar_t aBs03kam01[10]; // weak
extern wchar_t aBs03kam02[10]; // weak
extern wchar_t aBs03kam03_0[10]; // weak
extern wchar_t aBs03kao00_0[10]; // weak
extern wchar_t aScene_93[6]; // weak
extern wchar_t aBs03kaa01_0[10]; // weak
extern wchar_t aBs03kaa05_0[10]; // weak
extern wchar_t aBs03kaa09_0[10]; // weak
extern wchar_t a800_0[4]; // weak
extern wchar_t a965_3[4]; // weak
extern wchar_t aBs03kac00_0[10]; // weak
extern wchar_t aBs03kac04_1[10]; // weak
extern wchar_t a964_3[4]; // weak
extern wchar_t aBs03kac08_0[10]; // weak
extern wchar_t aBs03kac09_1[10]; // weak
extern wchar_t a802_2[4]; // weak
extern wchar_t aBs03kac10_0[10]; // weak
extern wchar_t aBs03kad04_0[10]; // weak
extern wchar_t aBs03kah04_0[10]; // weak
extern wchar_t aBs03kai00_0[10]; // weak
extern wchar_t aBs03kai08_0[10]; // weak
extern wchar_t aBs03kai09_0[10]; // weak
extern wchar_t aBs03kai10_0[10]; // weak
extern wchar_t aBs03kaj03_0[10]; // weak
extern wchar_t aBs03kak00_0[10]; // weak
extern wchar_t aBs03kal02_2[10]; // weak
extern wchar_t aBs03kam00_0[10]; // weak
extern wchar_t aBs03kam01_0[10]; // weak
extern wchar_t aBs03kam02_0[10]; // weak
extern wchar_t aBs03kam03_1[10]; // weak
extern wchar_t aBs03kan00_1[10]; // weak
extern wchar_t aBs03kao00_1[10]; // weak
extern wchar_t aBs03kap00_0[10]; // weak
extern wchar_t aRoute_46[6]; // weak
extern wchar_t aScene_94[6]; // weak
extern wchar_t aScene_95[6]; // weak
extern wchar_t aScene_96[6]; // weak
extern wchar_t aRoute_47[6]; // weak
extern wchar_t aScene_97[6]; // weak
extern wchar_t aScene_98[6]; // weak
extern wchar_t aBs03kba04[10]; // weak
extern wchar_t aBs03kba04_0[10]; // weak
extern wchar_t aBs03kba07[10]; // weak
extern wchar_t aBs03kbc00[10]; // weak
extern wchar_t aBs03kbk08[10]; // weak
extern wchar_t a973_1[4]; // weak
extern wchar_t aBs03kbm00[10]; // weak
extern wchar_t aBs03kbk08_0[10]; // weak
extern wchar_t a801_6[4]; // weak
extern wchar_t aBs03kbd04[10]; // weak
extern wchar_t aBs03kbe01[10]; // weak
extern wchar_t aBs03kbe00[10]; // weak
extern wchar_t aBs03kbe02[10]; // weak
extern wchar_t aBs03kbe03[10]; // weak
extern wchar_t a001_7[4]; // weak
extern wchar_t a002_7[4]; // weak
extern wchar_t aBs03kbf00[10]; // weak
extern wchar_t aBs03kbe02_0[10]; // weak
extern wchar_t aBs03kbe03_0[10]; // weak
extern wchar_t a974_1[4]; // weak
extern wchar_t a975_1[4]; // weak
extern wchar_t aBs03kbe00_0[10]; // weak
extern wchar_t aBs03kbe10[10]; // weak
extern wchar_t a976_1[4]; // weak
extern wchar_t aBs03kbf05[10]; // weak
extern wchar_t a976_2[4]; // weak
extern wchar_t aBs03kbf00_0[10]; // weak
extern wchar_t aBs03bka00_1[10]; // weak
extern wchar_t aRoute_48[6]; // weak
extern wchar_t aBs03bk_1[7]; // weak
extern wchar_t aRoute_49[6]; // weak
extern wchar_t aBs04sg[7]; // weak
extern wchar_t a975_2[4]; // weak
extern wchar_t a974_2[4]; // weak
extern wchar_t aBs03kbi03[10]; // weak
extern wchar_t a975_3[4]; // weak
extern wchar_t a974_3[4]; // weak
extern wchar_t a972_1[4]; // weak
extern wchar_t aBs03kbi08[10]; // weak
extern wchar_t aBs03kbk04[10]; // weak
extern wchar_t aBs03kbl00[10]; // weak
extern wchar_t a974_4[4]; // weak
extern wchar_t aBs03kbl00_0[10]; // weak
extern wchar_t a973_2[4]; // weak
extern wchar_t aBs03kbk10[10]; // weak
extern wchar_t aBs03kbk10_0[10]; // weak
extern wchar_t a971_7[4]; // weak
extern wchar_t a973_3[4]; // weak
extern wchar_t aBs03kbm05[10]; // weak
extern wchar_t a973_4[4]; // weak
extern wchar_t aBs03kbm05_0[10]; // weak
extern wchar_t aBs03kbm00_0[10]; // weak
extern wchar_t aBs03kbo03[10]; // weak
extern wchar_t a972_2[4]; // weak
extern wchar_t a972_3[4]; // weak
extern wchar_t a972_4[4]; // weak
extern wchar_t aBs03kbo03_0[10]; // weak
extern wchar_t aBs03kbo03_1[10]; // weak
extern wchar_t aBs03kbo04[10]; // weak
extern wchar_t aBs03kbo07[10]; // weak
extern wchar_t a970_3[4]; // weak
extern wchar_t aRep03_kb_n00[13]; // weak
extern wchar_t a972_5[4]; // weak
extern wchar_t aRep03_kb_n00a[14]; // weak
extern wchar_t aRep03_kb_n00d[14]; // weak
extern wchar_t aBs03kbo07_0[10]; // weak
extern wchar_t aRep03_kb_n00_0[13]; // weak
extern wchar_t a972_6[4]; // weak
extern wchar_t aRep03_kb_n00c[14]; // weak
extern wchar_t aRep03_kb_n00b[14]; // weak
extern wchar_t a969_4[4]; // weak
extern wchar_t aBs03bka00_2[10]; // weak
extern wchar_t aRoute_50[6]; // weak
extern wchar_t aBs03bk_2[7]; // weak
extern wchar_t aBs04sca00[10]; // weak
extern wchar_t aRoute_51[6]; // weak
extern wchar_t aBs04sc[7]; // weak
extern wchar_t asc_38EF98[6]; // weak
extern wchar_t aBs03kba04_1[10]; // weak
extern wchar_t aBs03kba07_0[10]; // weak
extern wchar_t aBs03kbc00_0[10]; // weak
extern wchar_t a971_8[4]; // weak
extern wchar_t a973_5[4]; // weak
extern wchar_t aBs03kbd04_0[10]; // weak
extern wchar_t a801_7[4]; // weak
extern wchar_t aBs03kbe00_1[10]; // weak
extern wchar_t a974_5[4]; // weak
extern wchar_t a975_4[4]; // weak
extern wchar_t aBs03kbe01_0[10]; // weak
extern wchar_t aBs03kbe02_1[10]; // weak
extern wchar_t aBs03kbe03_1[10]; // weak
extern wchar_t aBs03kbe10_0[10]; // weak
extern wchar_t aBs03kbf00_1[10]; // weak
extern wchar_t a976_3[4]; // weak
extern wchar_t aBs03kbf05_0[10]; // weak
extern wchar_t aBs03kbi03_0[10]; // weak
extern wchar_t aBs03kbi08_0[10]; // weak
extern wchar_t a972_7[4]; // weak
extern wchar_t aBs03kbk04_0[10]; // weak
extern wchar_t aBs03kbk08_1[10]; // weak
extern wchar_t aBs03kbk10_1[10]; // weak
extern wchar_t aBs03kbl00_1[10]; // weak
extern wchar_t aBs03kbm00_1[10]; // weak
extern wchar_t a970_4[4]; // weak
extern wchar_t aBs03kbm05_1[10]; // weak
extern wchar_t aBs03kbo03_2[10]; // weak
extern wchar_t aBs03kbo04_0[10]; // weak
extern wchar_t aBs03kbo07_1[10]; // weak
extern wchar_t aRoute_52[6]; // weak
extern wchar_t asc_38F1A8[6]; // weak
extern wchar_t asc_38F1B4[6]; // weak
extern wchar_t asc_38F1C0[6]; // weak
extern wchar_t aRoute_53[6]; // weak
extern wchar_t asc_38F210[6]; // weak
extern wchar_t asc_38F21C[6]; // weak
extern wchar_t aBs03sab07[10]; // weak
extern wchar_t asc_38F23C[6]; // weak
extern wchar_t aRoute_54[6]; // weak
extern wchar_t asc_38F254[6]; // weak
extern wchar_t asc_38F260[6]; // weak
extern wchar_t aRoute_55[6]; // weak
extern wchar_t asc_38FDE4[6]; // weak
extern wchar_t asc_38FDF0[6]; // weak
extern wchar_t aBs03sab04[10]; // weak
extern wchar_t aBs03sai00[10]; // weak
extern wchar_t aRep03_sa_b07[13]; // weak
extern wchar_t a969_5[4]; // weak
extern wchar_t a944[4]; // weak
extern wchar_t aBs03sai00_0[10]; // weak
extern wchar_t a001_8[4]; // weak
extern wchar_t a002_8[4]; // weak
extern wchar_t aBs04sba00[10]; // weak
extern wchar_t a961_0[4]; // weak
extern wchar_t aBs03sag01[10]; // weak
extern wchar_t aBs03sae08[10]; // weak
extern wchar_t a961_1[4]; // weak
extern wchar_t aBs03saf04[10]; // weak
extern wchar_t aBs03saf04_0[10]; // weak
extern wchar_t aBs03saf08[10]; // weak
extern wchar_t aBs03saj04[10]; // weak
extern wchar_t aBs03saj05[10]; // weak
extern wchar_t aBs03sag02[10]; // weak
extern wchar_t aBs03sag08[10]; // weak
extern wchar_t aBs03sag07[10]; // weak
extern wchar_t aBs03sah01[10]; // weak
extern wchar_t a960_0[4]; // weak
extern wchar_t aBs03sae09[10]; // weak
extern wchar_t aBs03sab07_0[10]; // weak
extern wchar_t aBs04sba00_0[10]; // weak
extern wchar_t aBs03saj06[10]; // weak
extern wchar_t aBs03saj04_0[10]; // weak
extern wchar_t aBs03saj05_0[10]; // weak
extern wchar_t aBs03saj07[10]; // weak
extern wchar_t aBs04sba00_1[10]; // weak
extern wchar_t a961_2[4]; // weak
extern wchar_t aBs03saj10[10]; // weak
extern wchar_t aBs03saj10_0[10]; // weak
extern wchar_t asc_39004C[6]; // weak
extern wchar_t aBs03sab04_0[10]; // weak
extern wchar_t aBs03sab07_1[10]; // weak
extern wchar_t a961_3[4]; // weak
extern wchar_t aBs03sae08_0[10]; // weak
extern wchar_t aBs03sae09_0[10]; // weak
extern wchar_t aBs03saf04_1[10]; // weak
extern wchar_t aBs03saf08_0[10]; // weak
extern wchar_t aBs03sag01_0[10]; // weak
extern wchar_t aBs03sag02_0[10]; // weak
extern wchar_t aBs03sag07_0[10]; // weak
extern wchar_t aBs03sag08_0[10]; // weak
extern wchar_t aBs03sah01_0[10]; // weak
extern wchar_t a960_1[4]; // weak
extern wchar_t aBs03sai00_1[10]; // weak
extern wchar_t a944_0[4]; // weak
extern wchar_t aBs03saj04_1[10]; // weak
extern wchar_t aBs03saj05_1[10]; // weak
extern wchar_t aBs03saj06_0[10]; // weak
extern wchar_t aBs03saj07_0[10]; // weak
extern wchar_t aBs03saj10_1[10]; // weak
extern wchar_t aRoute_56[6]; // weak
extern wchar_t asc_3901D0[6]; // weak
extern wchar_t asc_3901DC[6]; // weak
extern wchar_t asc_3901E8[6]; // weak
extern wchar_t aRoute_57[6]; // weak
extern wchar_t asc_390E84[6]; // weak
extern wchar_t asc_390E90[6]; // weak
extern wchar_t aRep03_sb_a00[13]; // weak
extern wchar_t aBs03sba08[10]; // weak
extern wchar_t a001_9[4]; // weak
extern wchar_t a002_9[4]; // weak
extern wchar_t aBs04sca00_0[10]; // weak
extern wchar_t aRoute_58[6]; // weak
extern wchar_t aBs04sc_0[7]; // weak
extern wchar_t aBs03sbc03[10]; // weak
extern wchar_t aBs03sbd00[10]; // weak
extern wchar_t aBs03sbc03_0[10]; // weak
extern wchar_t aBs03sbc07[10]; // weak
extern wchar_t a967_4[4]; // weak
extern wchar_t a966_4[4]; // weak
extern wchar_t aBs03sbg00[10]; // weak
extern wchar_t aBs03sbc07_0[10]; // weak
extern wchar_t aBs03sbf01[10]; // weak
extern wchar_t aBs03sbf02[10]; // weak
extern wchar_t aBs03sbf03[10]; // weak
extern wchar_t a967_5[4]; // weak
extern wchar_t a966_5[4]; // weak
extern wchar_t aBs03sbg00_0[10]; // weak
extern wchar_t aBs03sbf02_0[10]; // weak
extern wchar_t aBs03sbf03_0[10]; // weak
extern wchar_t aBs03sbf08[10]; // weak
extern wchar_t aBs03sbf09[10]; // weak
extern wchar_t aBs03sbf08_0[10]; // weak
extern wchar_t a966_6[4]; // weak
extern wchar_t a967_6[4]; // weak
extern wchar_t a940_7[4]; // weak
extern wchar_t aBs03sbg08[10]; // weak
extern wchar_t aBs03sbg08_0[10]; // weak
extern wchar_t aBs03sbi04[10]; // weak
extern wchar_t aBs03sbh04[10]; // weak
extern wchar_t aBs03b0a00_0[10]; // weak
extern wchar_t aBs03sbh04_0[10]; // weak
extern wchar_t aBs03sba04[10]; // weak
extern wchar_t aBs03b1a00_0[10]; // weak
extern wchar_t aBs03sbi05[10]; // weak
extern wchar_t aBs03sbl00[10]; // weak
extern wchar_t aBs04kca00_1[10]; // weak
extern wchar_t aRoute_59[6]; // weak
extern wchar_t aBs04kc_1[7]; // weak
extern wchar_t aBs03sba04_0[10]; // weak
extern wchar_t aBs03sba04_1[10]; // weak
extern wchar_t aBs03b1a00_1[10]; // weak
extern wchar_t asc_3911A4[6]; // weak
extern wchar_t aBs03sba04_2[10]; // weak
extern wchar_t aBs03sba08_0[10]; // weak
extern wchar_t aBs03sbc03_1[10]; // weak
extern wchar_t aBs03sbc07_1[10]; // weak
extern wchar_t aBs03sbd00_0[10]; // weak
extern wchar_t aBs03sbf01_0[10]; // weak
extern wchar_t aBs03sbf02_1[10]; // weak
extern wchar_t aBs03sbf03_1[10]; // weak
extern wchar_t aBs03sbf08_1[10]; // weak
extern wchar_t aBs03sbf09_0[10]; // weak
extern wchar_t aBs03sbg00_1[10]; // weak
extern wchar_t a967_7[4]; // weak
extern wchar_t a966_7[4]; // weak
extern wchar_t aBs03sbg08_1[10]; // weak
extern wchar_t a940_8[4]; // weak
extern wchar_t a940_9[4]; // weak
extern wchar_t aBs03sbh04_1[10]; // weak
extern wchar_t aBs03sbi04_0[10]; // weak
extern wchar_t aBs03sbi05_0[10]; // weak
extern wchar_t aBs03sbl00_0[10]; // weak
extern wchar_t aRoute_60[6]; // weak
extern wchar_t asc_39131C[6]; // weak
extern wchar_t asc_391328[6]; // weak
extern wchar_t asc_391334[6]; // weak
extern wchar_t aRoute_61[6]; // weak
extern wchar_t asc_391564[6]; // weak
extern wchar_t asc_391570[6]; // weak
extern wchar_t aBs04c0i00[10]; // weak
extern wchar_t aBs05kia00[10]; // weak
extern wchar_t aRoute_62[6]; // weak
extern wchar_t aBs05ki[7]; // weak
extern wchar_t aBs04c0i05[10]; // weak
extern wchar_t aBs04c0i05_0[10]; // weak
extern wchar_t aBs04c0i04[10]; // weak
extern wchar_t aRep04_c0_i00[13]; // weak
extern wchar_t aBs05kca00[10]; // weak
extern wchar_t aRoute_63[6]; // weak
extern wchar_t aBs05kc[7]; // weak
extern wchar_t aBs05kia00_0[10]; // weak
extern wchar_t aRoute_64[6]; // weak
extern wchar_t aBs05ki_0[7]; // weak
extern wchar_t asc_391678[6]; // weak
extern wchar_t aBs04c0i00_0[10]; // weak
extern wchar_t aBs04c0i04_0[10]; // weak
extern wchar_t aBs04c0i05_1[10]; // weak
extern wchar_t aRoute_65[6]; // weak
extern wchar_t asc_3916CC[6]; // weak
extern wchar_t asc_3916D8[6]; // weak
extern wchar_t asc_3916E4[6]; // weak
extern wchar_t aRoute_66[6]; // weak
extern wchar_t asc_39193C[6]; // weak
extern wchar_t asc_391948[6]; // weak
extern wchar_t a978_14[4]; // weak
extern wchar_t a979_13[4]; // weak
extern wchar_t aBs04c1a03[10]; // weak
extern wchar_t aRep04_c1_a00[13]; // weak
extern wchar_t aBs04c1a03_0[10]; // weak
extern wchar_t aRep04_c1_a00a[14]; // weak
extern wchar_t aRep04_c1_a00b[14]; // weak
extern wchar_t asc_3919E0[6]; // weak
extern wchar_t aBs04c1a03_1[10]; // weak
extern wchar_t aRoute_67[6]; // weak
extern wchar_t asc_391A0C[6]; // weak
extern wchar_t asc_391A18[6]; // weak
extern wchar_t asc_391A24[6]; // weak
extern wchar_t aRoute_68[6]; // weak
extern wchar_t asc_391B8C[6]; // weak
extern wchar_t asc_391B98[6]; // weak
extern wchar_t aBs04e0c00[10]; // weak
extern wchar_t aBs04seb02[10]; // weak
extern wchar_t aBs04seh03[10]; // weak
extern wchar_t asc_391BE0[6]; // weak
extern wchar_t aBs04e0c00_0[10]; // weak
extern wchar_t aRoute_69[6]; // weak
extern wchar_t asc_391C0C[6]; // weak
extern wchar_t asc_391C18[6]; // weak
extern wchar_t aRoute_70[6]; // weak
extern wchar_t asc_39247C[6]; // weak
extern wchar_t asc_392488[6]; // weak
extern wchar_t aRep04_ka_b03[13]; // weak
extern wchar_t aRep04_ka_b04[13]; // weak
extern wchar_t aBs04kad05[10]; // weak
extern wchar_t aBs04kad07[10]; // weak
extern wchar_t aRep04_ka_d01[13]; // weak
extern wchar_t aBs04kad05_0[10]; // weak
extern wchar_t aBs04kad07_0[10]; // weak
extern wchar_t aBs04kad05_1[10]; // weak
extern wchar_t aRep04_ka_d01_0[13]; // weak
extern wchar_t a948_0[4]; // weak
extern wchar_t aBs04kaf04[10]; // weak
extern wchar_t aBs04kaf08[10]; // weak
extern wchar_t a948_1[4]; // weak
extern wchar_t aBs04kae01[10]; // weak
extern wchar_t a946[4]; // weak
extern wchar_t aBs04kae01_0[10]; // weak
extern wchar_t a945[4]; // weak
extern wchar_t aBs04kae01_1[10]; // weak
extern wchar_t aBs04kag06[10]; // weak
extern wchar_t aBs04kaj00[10]; // weak
extern wchar_t a947[4]; // weak
extern wchar_t aBs04kag09[10]; // weak
extern wchar_t aRep04_ka_l00[13]; // weak
extern wchar_t asc_39264C[6]; // weak
extern wchar_t a969_6[4]; // weak
extern wchar_t aBs04kad05_2[10]; // weak
extern wchar_t aBs04kad07_1[10]; // weak
extern wchar_t aBs04kae01_2[10]; // weak
extern wchar_t a945_0[4]; // weak
extern wchar_t aBs04kaf04_0[10]; // weak
extern wchar_t a948_2[4]; // weak
extern wchar_t aBs04kaf08_0[10]; // weak
extern wchar_t a946_0[4]; // weak
extern wchar_t aBs04kag06_0[10]; // weak
extern wchar_t aBs04kag09_0[10]; // weak
extern wchar_t a947_0[4]; // weak
extern wchar_t aBs04kaj00_0[10]; // weak
extern wchar_t aRoute_71[6]; // weak
extern wchar_t asc_39272C[6]; // weak
extern wchar_t asc_392738[6]; // weak
extern wchar_t asc_392744[6]; // weak
extern wchar_t aRoute_72[6]; // weak
extern wchar_t asc_392D50[6]; // weak
extern wchar_t asc_392D5C[6]; // weak
extern wchar_t aBs04kbb02[10]; // weak
extern wchar_t a950_1[4]; // weak
extern wchar_t aBs04kbb02_0[10]; // weak
extern wchar_t aBs04kbb04[10]; // weak
extern wchar_t a950_2[4]; // weak
extern wchar_t aBs04kbb09[10]; // weak
extern wchar_t aBs04kbb10[10]; // weak
extern wchar_t aBs04kbb08[10]; // weak
extern wchar_t aBs04kbc04[10]; // weak
extern wchar_t aBs04kbc00[10]; // weak
extern wchar_t aBs04kbc00_0[10]; // weak
extern wchar_t aBs04kbc04_0[10]; // weak
extern wchar_t a949_1[4]; // weak
extern wchar_t aRep04_kb_c03[13]; // weak
extern wchar_t aBs04kbc06[10]; // weak
extern wchar_t a001_10[4]; // weak
extern wchar_t a002_10[4]; // weak
extern wchar_t aBs05sba00[10]; // weak
extern wchar_t aRoute_73[6]; // weak
extern wchar_t aBs05sb[7]; // weak
extern wchar_t aRep04_kb_e01[13]; // weak
extern wchar_t a949_2[4]; // weak
extern wchar_t aBs05kia00_1[10]; // weak
extern wchar_t aRoute_74[6]; // weak
extern wchar_t aBs05ki_1[7]; // weak
extern wchar_t asc_392F0C[6]; // weak
extern wchar_t aBs04kbb02_1[10]; // weak
extern wchar_t a950_3[4]; // weak
extern wchar_t aBs04kbb04_0[10]; // weak
extern wchar_t aBs04kbb08_0[10]; // weak
extern wchar_t aBs04kbb09_0[10]; // weak
extern wchar_t aBs04kbb10_0[10]; // weak
extern wchar_t aBs04kbc00_1[10]; // weak
extern wchar_t aBs04kbc04_1[10]; // weak
extern wchar_t aBs04kbc06_0[10]; // weak
extern wchar_t a949_3[4]; // weak
extern wchar_t aRoute_75[6]; // weak
extern wchar_t asc_392FD4[6]; // weak
extern wchar_t asc_392FE0[6]; // weak
extern wchar_t asc_392FEC[6]; // weak
extern wchar_t aRoute_76[6]; // weak
extern wchar_t asc_3937D8[6]; // weak
extern wchar_t asc_3937E4[6]; // weak
extern wchar_t aBs04kcf00[10]; // weak
extern wchar_t aBs04kcb02[10]; // weak
extern wchar_t a950_4[4]; // weak
extern wchar_t aBs04kcb02_0[10]; // weak
extern wchar_t aBs04kcb04[10]; // weak
extern wchar_t aBs04kcb10[10]; // weak
extern wchar_t aBs04kcb08[10]; // weak
extern wchar_t aBs04kcc00[10]; // weak
extern wchar_t aBs04kcc00_0[10]; // weak
extern wchar_t a949_4[4]; // weak
extern wchar_t aBs04kcc06[10]; // weak
extern wchar_t aRep04_kc_c03[13]; // weak
extern wchar_t a001_11[4]; // weak
extern wchar_t a002_11[4]; // weak
extern wchar_t aBs04kcf00_0[10]; // weak
extern wchar_t aBs05sba00_0[10]; // weak
extern wchar_t aRoute_77[6]; // weak
extern wchar_t aBs05sb_0[7]; // weak
extern wchar_t aRep04_kc_e01[13]; // weak
extern wchar_t aBs04kce08[10]; // weak
extern wchar_t a949_5[4]; // weak
extern wchar_t aBs05saa00[10]; // weak
extern wchar_t aRoute_78[6]; // weak
extern wchar_t aBs05sa[7]; // weak
extern wchar_t asc_39398C[6]; // weak
extern wchar_t aBs04kca00_2[10]; // weak
extern wchar_t aBs04kc_2[7]; // weak
extern wchar_t aBs04kcb02_1[10]; // weak
extern wchar_t a950_5[4]; // weak
extern wchar_t aBs04kcb04_0[10]; // weak
extern wchar_t aBs04kcb08_0[10]; // weak
extern wchar_t aBs04kcb10_0[10]; // weak
extern wchar_t aBs04kcc00_1[10]; // weak
extern wchar_t aBs04kcc06_0[10]; // weak
extern wchar_t a949_6[4]; // weak
extern wchar_t aBs04kce08_0[10]; // weak
extern wchar_t aBs04kcf00_1[10]; // weak
extern wchar_t aRoute_79[6]; // weak
extern wchar_t asc_393A78[6]; // weak
extern wchar_t asc_393A84[6]; // weak
extern wchar_t asc_393A90[6]; // weak
extern wchar_t aRoute_80[6]; // weak
extern wchar_t asc_393F0C[6]; // weak
extern wchar_t asc_393F18[6]; // weak
extern wchar_t aBs04keb07[10]; // weak
extern wchar_t aBs04kec01[10]; // weak
extern wchar_t aBs04keb06[10]; // weak
extern wchar_t aBs04keb06_0[10]; // weak
extern wchar_t aRep04_ke_b07[13]; // weak
extern wchar_t a934[4]; // weak
extern wchar_t a933_0[4]; // weak
extern wchar_t aBs04ked00[10]; // weak
extern wchar_t a932_0[4]; // weak
extern wchar_t aBs04ked00_0[10]; // weak
extern wchar_t aRep04_ke_c01[13]; // weak
extern wchar_t a933_1[4]; // weak
extern wchar_t a932_1[4]; // weak
extern wchar_t aBs04kee03[10]; // weak
extern wchar_t aBs04kee04[10]; // weak
extern wchar_t aBs04kee03_0[10]; // weak
extern wchar_t a001_12[4]; // weak
extern wchar_t a002_12[4]; // weak
extern wchar_t aBs04kee05[10]; // weak
extern wchar_t a934_0[4]; // weak
extern wchar_t aBs04kee05_0[10]; // weak
extern wchar_t aBs05sba00_1[10]; // weak
extern wchar_t aRoute_81[6]; // weak
extern wchar_t aBs05sb_1[7]; // weak
extern wchar_t asc_3940A8[6]; // weak
extern wchar_t aBs04keb06_1[10]; // weak
extern wchar_t aBs04keb07_0[10]; // weak
extern wchar_t aBs04kec01_0[10]; // weak
extern wchar_t aBs04ked00_1[10]; // weak
extern wchar_t a932_2[4]; // weak
extern wchar_t a933_2[4]; // weak
extern wchar_t a934_1[4]; // weak
extern wchar_t aBs04kee03_1[10]; // weak
extern wchar_t aBs04kee04_0[10]; // weak
extern wchar_t aBs04kee05_1[10]; // weak
extern wchar_t aRoute_82[6]; // weak
extern wchar_t asc_394164[6]; // weak
extern wchar_t asc_394170[6]; // weak
extern wchar_t asc_39417C[6]; // weak
extern wchar_t aRoute_83[6]; // weak
extern wchar_t asc_395138[6]; // weak
extern wchar_t asc_395144[6]; // weak
extern wchar_t a955[4]; // weak
extern wchar_t aBs04san00[10]; // weak
extern wchar_t aBs04sae05[10]; // weak
extern wchar_t aBs04sae04[10]; // weak
extern wchar_t aBs04sae08[10]; // weak
extern wchar_t a959_0[4]; // weak
extern wchar_t aBs04saf00[10]; // weak
extern wchar_t aBs04saf04[10]; // weak
extern wchar_t aBs04saf09[10]; // weak
extern wchar_t aBs04saf10[10]; // weak
extern wchar_t aBs04sah00[10]; // weak
extern wchar_t aBs04sal00[10]; // weak
extern wchar_t a959_1[4]; // weak
extern wchar_t aBs04san00_0[10]; // weak
extern wchar_t aBs04sah06[10]; // weak
extern wchar_t a958_0[4]; // weak
extern wchar_t aBs04sal00_0[10]; // weak
extern wchar_t a956_0[4]; // weak
extern wchar_t aBs04saq00[10]; // weak
extern wchar_t a957_0[4]; // weak
extern wchar_t a958_1[4]; // weak
extern wchar_t aBs04sal00_1[10]; // weak
extern wchar_t a957_1[4]; // weak
extern wchar_t aBs04sal03[10]; // weak
extern wchar_t a802_3[4]; // weak
extern wchar_t aBs04sal06[10]; // weak
extern wchar_t a802_4[4]; // weak
extern wchar_t aBs04sal10[10]; // weak
extern wchar_t aBs04sam02[10]; // weak
extern wchar_t a803_0[4]; // weak
extern wchar_t aBs04sar00[10]; // weak
extern wchar_t aBs04san10[10]; // weak
extern wchar_t a803_1[4]; // weak
extern wchar_t aBs04sam03[10]; // weak
extern wchar_t aBs04sao04[10]; // weak
extern wchar_t aBs04sao08[10]; // weak
extern wchar_t aBs04sao09[10]; // weak
extern wchar_t aBs05saa00_0[10]; // weak
extern wchar_t aRoute_84[6]; // weak
extern wchar_t aBs05sa_0[7]; // weak
extern wchar_t a956_1[4]; // weak
extern wchar_t aBs04saq03[10]; // weak
extern wchar_t aBs05saa00_1[10]; // weak
extern wchar_t aRoute_85[6]; // weak
extern wchar_t aBs05sa_1[7]; // weak
extern wchar_t aBs05saa00_2[10]; // weak
extern wchar_t aRoute_86[6]; // weak
extern wchar_t aBs05sa_2[7]; // weak
extern wchar_t asc_395450[6]; // weak
extern wchar_t aBs04sae04_0[10]; // weak
extern wchar_t aBs04sae05_0[10]; // weak
extern wchar_t aBs04sae08_0[10]; // weak
extern wchar_t aBs04saf00_0[10]; // weak
extern wchar_t a959_2[4]; // weak
extern wchar_t aBs04saf04_0[10]; // weak
extern wchar_t aBs04saf09_0[10]; // weak
extern wchar_t aBs04saf10_0[10]; // weak
extern wchar_t aBs04sah00_0[10]; // weak
extern wchar_t aBs04sah06_0[10]; // weak
extern wchar_t a957_2[4]; // weak
extern wchar_t aBs04sal00_2[10]; // weak
extern wchar_t a958_2[4]; // weak
extern wchar_t aBs04sal03_0[10]; // weak
extern wchar_t aBs04sal06_0[10]; // weak
extern wchar_t aBs04sal10_0[10]; // weak
extern wchar_t aBs04sam02_0[10]; // weak
extern wchar_t aBs04sam03_0[10]; // weak
extern wchar_t a803_2[4]; // weak
extern wchar_t aBs04san00_1[10]; // weak
extern wchar_t a958_3[4]; // weak
extern wchar_t aBs04san10_0[10]; // weak
extern wchar_t a955_0[4]; // weak
extern wchar_t aBs04sao04_0[10]; // weak
extern wchar_t aBs04sao08_0[10]; // weak
extern wchar_t aBs04sao09_0[10]; // weak
extern wchar_t aBs04saq00_0[10]; // weak
extern wchar_t a956_2[4]; // weak
extern wchar_t aBs04saq03_0[10]; // weak
extern wchar_t aBs04sar00_0[10]; // weak
extern wchar_t aRoute_87[6]; // weak
extern wchar_t asc_39566C[6]; // weak
extern wchar_t asc_395678[6]; // weak
extern wchar_t asc_395684[6]; // weak
extern wchar_t aRoute_88[6]; // weak
extern wchar_t asc_395DD0[6]; // weak
extern wchar_t asc_395DDC[6]; // weak
extern wchar_t a944_1[4]; // weak
extern wchar_t aBs04sbb03[10]; // weak
extern wchar_t aBs04sbd00[10]; // weak
extern wchar_t a944_2[4]; // weak
extern wchar_t aBs04sbc10[10]; // weak
extern wchar_t a001_13[4]; // weak
extern wchar_t a002_13[4]; // weak
extern wchar_t aBs04sbc10_0[10]; // weak
extern wchar_t aBs04sbe00[10]; // weak
extern wchar_t aBs04sbb05[10]; // weak
extern wchar_t aBs04sbg09[10]; // weak
extern wchar_t aBs04sbi00[10]; // weak
extern wchar_t aRep04_sb_g05[13]; // weak
extern wchar_t aBs04sbb05_0[10]; // weak
extern wchar_t aBs04sbi01[10]; // weak
extern wchar_t aBs04sbi03[10]; // weak
extern wchar_t aBs04sbg09_0[10]; // weak
extern wchar_t aBs04sbi01_0[10]; // weak
extern wchar_t aBs04sbi03_0[10]; // weak
extern wchar_t aRep04_sb_g05_0[13]; // weak
extern wchar_t asc_395F58[6]; // weak
extern wchar_t aBs04sba00_2[10]; // weak
extern wchar_t aBs04sbb03_0[10]; // weak
extern wchar_t aBs04sbb05_1[10]; // weak
extern wchar_t aBs04sbc10_1[10]; // weak
extern wchar_t aBs04sbd00_0[10]; // weak
extern wchar_t aBs04sbe00_0[10]; // weak
extern wchar_t aBs04sbg09_1[10]; // weak
extern wchar_t aBs04sbi00_0[10]; // weak
extern wchar_t aBs04sbi01_1[10]; // weak
extern wchar_t aBs04sbi03_1[10]; // weak
extern wchar_t aRoute_89[6]; // weak
extern wchar_t asc_396038[6]; // weak
extern wchar_t asc_396044[6]; // weak
extern wchar_t asc_396050[6]; // weak
extern wchar_t aRoute_90[6]; // weak
extern wchar_t asc_3963B4[6]; // weak
extern wchar_t asc_3963C0[6]; // weak
extern wchar_t aRep04_sc_b00[13]; // weak
extern wchar_t aBs04scb04[10]; // weak
extern wchar_t aBs04scc04[10]; // weak
extern wchar_t a940_10[4]; // weak
extern wchar_t aBs04scc07[10]; // weak
extern wchar_t a001_14[4]; // weak
extern wchar_t a002_14[4]; // weak
extern wchar_t aRep04_sc_d02[13]; // weak
extern wchar_t aRep04_sc_f00[13]; // weak
extern wchar_t asc_396474[6]; // weak
extern wchar_t aBs04sca00_1[10]; // weak
extern wchar_t aBs04sc_1[7]; // weak
extern wchar_t aBs04scb04_0[10]; // weak
extern wchar_t aBs04scc04_0[10]; // weak
extern wchar_t aBs04scc07_0[10]; // weak
extern wchar_t aRoute_91[6]; // weak
extern wchar_t asc_3964EC[6]; // weak
extern wchar_t asc_3964F8[6]; // weak
extern wchar_t asc_396504[6]; // weak
extern wchar_t aRoute_92[6]; // weak
extern wchar_t asc_396B10[6]; // weak
extern wchar_t asc_396B1C[6]; // weak
extern wchar_t a927_0[4]; // weak
extern wchar_t aBs04sec00[10]; // weak
extern wchar_t aBs04seb05[10]; // weak
extern wchar_t aBs04seb05_0[10]; // weak
extern wchar_t a939_0[4]; // weak
extern wchar_t aBs04seb06[10]; // weak
extern wchar_t a927_1[4]; // weak
extern wchar_t aBs04sed05[10]; // weak
extern wchar_t aBs04sei00[10]; // weak
extern wchar_t a939_1[4]; // weak
extern wchar_t aBs04sed10[10]; // weak
extern wchar_t aBs04seh00[10]; // weak
extern wchar_t aBs04seh01[10]; // weak
extern wchar_t aBs04sed01[10]; // weak
extern wchar_t aBs04seh03_0[10]; // weak
extern wchar_t aBs04seb02_0[10]; // weak
extern wchar_t aBs04seh01_0[10]; // weak
extern wchar_t aBs04sei00_0[10]; // weak
extern wchar_t a927_2[4]; // weak
extern wchar_t a001_15[4]; // weak
extern wchar_t a002_15[4]; // weak
extern wchar_t asc_396C78[6]; // weak
extern wchar_t a927_3[4]; // weak
extern wchar_t aBs04seb02_1[10]; // weak
extern wchar_t aBs04seb05_1[10]; // weak
extern wchar_t aBs04seb06_0[10]; // weak
extern wchar_t a939_2[4]; // weak
extern wchar_t aBs04sec00_0[10]; // weak
extern wchar_t aBs04se_0[7]; // weak
extern wchar_t aBs04sed01_0[10]; // weak
extern wchar_t aBs04sed05_0[10]; // weak
extern wchar_t aBs04sed10_0[10]; // weak
extern wchar_t aBs04see00[10]; // weak
extern wchar_t aBs04se_1[7]; // weak
extern wchar_t aBs04seh00_0[10]; // weak
extern wchar_t aBs04seh01_1[10]; // weak
extern wchar_t aBs04seh03_1[10]; // weak
extern wchar_t aBs04sei00_1[10]; // weak
extern wchar_t a927_4[4]; // weak
extern wchar_t aRoute_93[6]; // weak
extern wchar_t asc_396DB8[6]; // weak
extern wchar_t asc_396DC4[6]; // weak
extern wchar_t asc_396DD0[6]; // weak
extern wchar_t aRoute_94[6]; // weak
extern wchar_t asc_396E64[6]; // weak
extern wchar_t asc_396E70[6]; // weak
extern wchar_t aBs04sec00_1[10]; // weak
extern wchar_t aRoute_95[6]; // weak
extern wchar_t aBs04se_2[7]; // weak
extern wchar_t asc_396EAC[6]; // weak
extern wchar_t aRoute_96[6]; // weak
extern wchar_t asc_396EC4[6]; // weak
extern wchar_t asc_396ED0[6]; // weak
extern wchar_t asc_396EDC[6]; // weak
extern wchar_t aRoute_97[6]; // weak
extern wchar_t asc_396F70[6]; // weak
extern wchar_t asc_396F7C[6]; // weak
extern wchar_t aBs04see00_0[10]; // weak
extern wchar_t aRoute_98[6]; // weak
extern wchar_t aBs04se_3[7]; // weak
extern wchar_t asc_396FB8[6]; // weak
extern wchar_t asc_396FC4[6]; // weak
extern wchar_t asc_396FD0[6]; // weak
extern wchar_t asc_396FDC[6]; // weak
extern wchar_t asc_396FE8[6]; // weak
extern wchar_t asc_3972A0[6]; // weak
extern wchar_t asc_3972AC[6]; // weak
extern wchar_t asc_3972B8[6]; // weak
extern wchar_t aBs055hc03[10]; // weak
extern wchar_t aBs055hc03_0[10]; // weak
extern wchar_t aBs055hc03_1[10]; // weak
extern wchar_t a941[4]; // weak
extern wchar_t aBs055hc08[10]; // weak
extern wchar_t aRep05_5h_c03[13]; // weak
extern wchar_t a941_0[4]; // weak
extern wchar_t aBs055hd03[10]; // weak
extern wchar_t aRep05_5h_d00[13]; // weak
extern wchar_t aBs055hd03_0[10]; // weak
extern wchar_t aRep05_5h_d00a[14]; // weak
extern wchar_t aRep05_5h_d00b[14]; // weak
extern wchar_t a941_1[4]; // weak
extern wchar_t asc_3973C4[6]; // weak
extern wchar_t aBs055hc03_2[10]; // weak
extern wchar_t aBs055hc08_0[10]; // weak
extern wchar_t a941_2[4]; // weak
extern wchar_t aBs055hd03_1[10]; // weak
extern wchar_t asc_397414[6]; // weak
extern wchar_t asc_397420[6]; // weak
extern wchar_t asc_39742C[6]; // weak
extern wchar_t asc_397438[6]; // weak
extern wchar_t asc_397FB0[6]; // weak
extern wchar_t asc_397FBC[6]; // weak
extern wchar_t asc_397FC8[6]; // weak
extern wchar_t aBs055oa08[10]; // weak
extern wchar_t aBs055od02[10]; // weak
extern wchar_t aBs055od09[10]; // weak
extern wchar_t aRep05_5o_d10[13]; // weak
extern wchar_t aBs055oe01[10]; // weak
extern wchar_t aBs055oe03[10]; // weak
extern wchar_t a937[4]; // weak
extern wchar_t aBs055oe07[10]; // weak
extern wchar_t aBs055oe01_0[10]; // weak
extern wchar_t aBs055oe03_0[10]; // weak
extern wchar_t aBs055oe03_1[10]; // weak
extern wchar_t aBs055oe01_1[10]; // weak
extern wchar_t aBs055oe03_2[10]; // weak
extern wchar_t aBs055of00[10]; // weak
extern wchar_t aBs055og00[10]; // weak
extern wchar_t a937_0[4]; // weak
extern wchar_t a937_1[4]; // weak
extern wchar_t aBs055of08[10]; // weak
extern wchar_t aBs055ol02[10]; // weak
extern wchar_t aBs055of01[10]; // weak
extern wchar_t aBs055og00_0[10]; // weak
extern wchar_t aBs055oi00[10]; // weak
extern wchar_t aBs055oi10[10]; // weak
extern wchar_t aBs055od02_0[10]; // weak
extern wchar_t aBs055oi07[10]; // weak
extern wchar_t a937_2[4]; // weak
extern wchar_t aBs055oi07_0[10]; // weak
extern wchar_t a926[4]; // weak
extern wchar_t aBs055of05[10]; // weak
extern wchar_t aBs055oj02[10]; // weak
extern wchar_t aBs055ol02_0[10]; // weak
extern wchar_t a935[4]; // weak
extern wchar_t aBs055ol04[10]; // weak
extern wchar_t a926_0[4]; // weak
extern wchar_t a001_16[4]; // weak
extern wchar_t a002_16[4]; // weak
extern wchar_t asc_398240[6]; // weak
extern wchar_t aBs055oa00[10]; // weak
extern wchar_t aBs055oa08_0[10]; // weak
extern wchar_t aBs055od02_1[10]; // weak
extern wchar_t aBs055od09_0[10]; // weak
extern wchar_t aBs055oe01_2[10]; // weak
extern wchar_t aBs055oe03_3[10]; // weak
extern wchar_t aBs055oe07_0[10]; // weak
extern wchar_t a937_3[4]; // weak
extern wchar_t aBs055of00_0[10]; // weak
extern wchar_t aBs055of01_0[10]; // weak
extern wchar_t aBs055of05_0[10]; // weak
extern wchar_t a926_1[4]; // weak
extern wchar_t aBs055of08_0[10]; // weak
extern wchar_t aBs055og00_1[10]; // weak
extern wchar_t aBs055oi00_0[10]; // weak
extern wchar_t aBs055oi07_1[10]; // weak
extern wchar_t aBs055oi10_0[10]; // weak
extern wchar_t aBs055oj02_0[10]; // weak
extern wchar_t aBs055ol02_1[10]; // weak
extern wchar_t aBs055ol04_0[10]; // weak
extern wchar_t a935_0[4]; // weak
extern wchar_t asc_3983CC[6]; // weak
extern wchar_t asc_3983D8[6]; // weak
extern wchar_t asc_3983E4[6]; // weak
extern wchar_t asc_3983F0[6]; // weak
extern wchar_t asc_398484[6]; // weak
extern wchar_t asc_398490[6]; // weak
extern wchar_t asc_39849C[6]; // weak
extern wchar_t a804[4]; // weak
extern wchar_t asc_3984B0[6]; // weak
extern wchar_t aBs059ha00[10]; // weak
extern wchar_t a804_0[4]; // weak
extern wchar_t asc_3984D8[6]; // weak
extern wchar_t asc_3984E4[6]; // weak
extern wchar_t asc_3984F0[6]; // weak
extern wchar_t asc_398534[6]; // weak
extern wchar_t asc_398540[6]; // weak
extern wchar_t asc_39854C[6]; // weak
extern wchar_t asc_398558[6]; // weak
extern wchar_t asc_398564[6]; // weak
extern wchar_t asc_398570[6]; // weak
extern wchar_t asc_39857C[6]; // weak
extern wchar_t asc_3985C0[6]; // weak
extern wchar_t asc_3985CC[6]; // weak
extern wchar_t asc_3985D8[6]; // weak
extern wchar_t asc_3985E4[6]; // weak
extern wchar_t asc_3985F0[6]; // weak
extern wchar_t asc_3985FC[6]; // weak
extern wchar_t asc_398608[6]; // weak
extern wchar_t asc_39864C[6]; // weak
extern wchar_t asc_398658[6]; // weak
extern wchar_t asc_398664[6]; // weak
extern wchar_t asc_398670[6]; // weak
extern wchar_t asc_39867C[6]; // weak
extern wchar_t asc_398688[6]; // weak
extern wchar_t asc_398694[6]; // weak
extern wchar_t asc_398778[6]; // weak
extern wchar_t asc_398784[6]; // weak
extern wchar_t asc_398790[6]; // weak
extern wchar_t aBs05a0h04[10]; // weak
extern wchar_t aBs05kaa05[10]; // weak
extern wchar_t asc_3987C4[6]; // weak
extern wchar_t aBs05a0h04_0[10]; // weak
extern wchar_t asc_3987E4[6]; // weak
extern wchar_t asc_3987F0[6]; // weak
extern wchar_t asc_3987FC[6]; // weak
extern wchar_t asc_398930[6]; // weak
extern wchar_t asc_39893C[6]; // weak
extern wchar_t asc_398948[6]; // weak
extern wchar_t a001_17[4]; // weak
extern wchar_t a002_17[4]; // weak
extern wchar_t asc_398964[6]; // weak
extern wchar_t asc_398970[6]; // weak
extern wchar_t asc_39897C[6]; // weak
extern wchar_t asc_398988[6]; // weak
extern wchar_t asc_398994[6]; // weak
extern wchar_t asc_398B40[6]; // weak
extern wchar_t asc_398B4C[6]; // weak
extern wchar_t asc_398B58[6]; // weak
extern wchar_t aBs05b0d00[10]; // weak
extern wchar_t asc_398B78[6]; // weak
extern wchar_t aBs05b0a00[10]; // weak
extern wchar_t aBs05b0[7]; // weak
extern wchar_t aBs05b0d00_0[10]; // weak
extern wchar_t aBs05b0_0[7]; // weak
extern wchar_t asc_398BCC[6]; // weak
extern wchar_t asc_398BD8[6]; // weak
extern wchar_t asc_398BE4[6]; // weak
extern wchar_t asc_398BF0[6]; // weak
extern wchar_t asc_39933C[6]; // weak
extern wchar_t asc_399348[6]; // weak
extern wchar_t asc_399354[6]; // weak
extern wchar_t aBs05g0d04[10]; // weak
extern wchar_t aBs05g0e00[10]; // weak
extern wchar_t aBs05g0f02[10]; // weak
extern wchar_t aBs05g0f05[10]; // weak
extern wchar_t aBs05g0g00[10]; // weak
extern wchar_t a001_18[4]; // weak
extern wchar_t a002_18[4]; // weak
extern wchar_t aBs05b0a00_0[10]; // weak
extern wchar_t asc_3993E8[6]; // weak
extern wchar_t aBs05b0_1[7]; // weak
extern wchar_t aBs05b0a00_1[10]; // weak
extern wchar_t asc_399418[6]; // weak
extern wchar_t aBs05b0_2[7]; // weak
extern wchar_t asc_399434[6]; // weak
extern wchar_t aBs05g0d04_0[10]; // weak
extern wchar_t aBs05g0e00_0[10]; // weak
extern wchar_t aBs05g0f02_0[10]; // weak
extern wchar_t aBs05g0f05_0[10]; // weak
extern wchar_t aBs05g0g00_0[10]; // weak
extern wchar_t asc_3994A4[6]; // weak
extern wchar_t asc_3994B0[6]; // weak
extern wchar_t asc_3994BC[6]; // weak
extern wchar_t asc_3994C8[6]; // weak
extern wchar_t asc_399AA0[6]; // weak
extern wchar_t asc_399AAC[6]; // weak
extern wchar_t asc_399AB8[6]; // weak
extern wchar_t a947_1[4]; // weak
extern wchar_t aBs05kab05[10]; // weak
extern wchar_t aRep05_ka_a05[13]; // weak
extern wchar_t aBs05kag00[10]; // weak
extern wchar_t aBs05kab02[10]; // weak
extern wchar_t a946_1[4]; // weak
extern wchar_t aBs05kab08[10]; // weak
extern wchar_t a946_2[4]; // weak
extern wchar_t aBs05kac04[10]; // weak
extern wchar_t a945_1[4]; // weak
extern wchar_t aBs05kaf00[10]; // weak
extern wchar_t aBs05kaa05_0[10]; // weak
extern wchar_t aBs05kaa05_1[10]; // weak
extern wchar_t asc_399BA0[6]; // weak
extern wchar_t aBs05kaa05_2[10]; // weak
extern wchar_t aBs05kab02_0[10]; // weak
extern wchar_t aBs05kab05_0[10]; // weak
extern wchar_t aBs05kab08_0[10]; // weak
extern wchar_t aBs05kac04_0[10]; // weak
extern wchar_t aBs05kaf00_0[10]; // weak
extern wchar_t aBs05kag00_0[10]; // weak
extern wchar_t asc_399C38[6]; // weak
extern wchar_t asc_399C44[6]; // weak
extern wchar_t asc_399C50[6]; // weak
extern wchar_t asc_399C5C[6]; // weak
extern wchar_t asc_39A414[6]; // weak
extern wchar_t asc_39A420[6]; // weak
extern wchar_t asc_39A42C[6]; // weak
extern wchar_t aBs05kbd04[10]; // weak
extern wchar_t aBs05kbe00[10]; // weak
extern wchar_t aBs05kbf02[10]; // weak
extern wchar_t aBs05kbf05[10]; // weak
extern wchar_t aBs05kbg00[10]; // weak
extern wchar_t a001_19[4]; // weak
extern wchar_t a002_19[4]; // weak
extern wchar_t aBs05b0a00_2[10]; // weak
extern wchar_t asc_39A4C0[6]; // weak
extern wchar_t aBs05b0_3[7]; // weak
extern wchar_t aBs05b0a00_3[10]; // weak
extern wchar_t asc_39A4F0[6]; // weak
extern wchar_t aBs05b0_4[7]; // weak
extern wchar_t asc_39A50C[6]; // weak
extern wchar_t aBs05kbd04_0[10]; // weak
extern wchar_t aBs05kbe00_0[10]; // weak
extern wchar_t aBs05kbf02_0[10]; // weak
extern wchar_t aBs05kbf05_0[10]; // weak
extern wchar_t aBs05kbg00_0[10]; // weak
extern wchar_t asc_39A57C[6]; // weak
extern wchar_t asc_39A588[6]; // weak
extern wchar_t asc_39A594[6]; // weak
extern wchar_t asc_39A5A0[6]; // weak
extern wchar_t asc_39A808[6]; // weak
extern wchar_t asc_39A814[6]; // weak
extern wchar_t asc_39A820[6]; // weak
extern wchar_t aRep05_kc_a00[13]; // weak
extern wchar_t aRep05_kc_a02[13]; // weak
extern wchar_t aBs05kcf00[10]; // weak
extern wchar_t aBs05kch00[10]; // weak
extern wchar_t aRep05_kc_d00[13]; // weak
extern wchar_t aRep05_kc_d00_0[13]; // weak
extern wchar_t aRep05_kc_e00[13]; // weak
extern wchar_t asc_39A8E0[6]; // weak
extern wchar_t aBs05kcf00_0[10]; // weak
extern wchar_t aBs05kc_0[7]; // weak
extern wchar_t aBs05kch00_0[10]; // weak
extern wchar_t asc_39A924[6]; // weak
extern wchar_t asc_39A930[6]; // weak
extern wchar_t asc_39A93C[6]; // weak
extern wchar_t asc_39A948[6]; // weak
extern wchar_t asc_39B100[6]; // weak
extern wchar_t asc_39B10C[6]; // weak
extern wchar_t asc_39B118[6]; // weak
extern wchar_t a931[4]; // weak
extern wchar_t aBs05kfb04[10]; // weak
extern wchar_t aBs05kfc04[10]; // weak
extern wchar_t aBs05kfd04[10]; // weak
extern wchar_t aBs05kfg04[10]; // weak
extern wchar_t a931_0[4]; // weak
extern wchar_t aBs05kfb01[10]; // weak
extern wchar_t aBs05kfg04_0[10]; // weak
extern wchar_t aBs05b0d00_1[10]; // weak
extern wchar_t asc_39B1C0[6]; // weak
extern wchar_t aBs05b0_5[7]; // weak
extern wchar_t a931_1[4]; // weak
extern wchar_t aBs05kfh03[10]; // weak
extern wchar_t a931_2[4]; // weak
extern wchar_t aBs05kfh06[10]; // weak
extern wchar_t a001_20[4]; // weak
extern wchar_t a002_20[4]; // weak
extern wchar_t aBs05sbe01[10]; // weak
extern wchar_t asc_39B238[6]; // weak
extern wchar_t aBs05sb_2[7]; // weak
extern wchar_t aBs05sbe02[10]; // weak
extern wchar_t asc_39B268[6]; // weak
extern wchar_t aBs05sb_3[7]; // weak
extern wchar_t asc_39B284[6]; // weak
extern wchar_t aBs05kfb01_0[10]; // weak
extern wchar_t a931_3[4]; // weak
extern wchar_t aBs05kfb04_0[10]; // weak
extern wchar_t aBs05kfc04_0[10]; // weak
extern wchar_t aBs05kfd04_0[10]; // weak
extern wchar_t aBs05kfg04_1[10]; // weak
extern wchar_t aBs05kfh03_0[10]; // weak
extern wchar_t aBs05kfh06_0[10]; // weak
extern wchar_t asc_39B324[6]; // weak
extern wchar_t asc_39B330[6]; // weak
extern wchar_t asc_39B33C[6]; // weak
extern wchar_t asc_39B348[6]; // weak
extern wchar_t asc_39B6C8[6]; // weak
extern wchar_t asc_39B6D4[6]; // weak
extern wchar_t asc_39B6E0[6]; // weak
extern wchar_t aBs05kgc05[10]; // weak
extern wchar_t aBs05kgc09[10]; // weak
extern wchar_t aBs05kgc10[10]; // weak
extern wchar_t a944_3[4]; // weak
extern wchar_t aBs05kgd03[10]; // weak
extern wchar_t asc_39B744[6]; // weak
extern wchar_t aBs05kgc05_0[10]; // weak
extern wchar_t aBs05kgc09_0[10]; // weak
extern wchar_t aBs05kgc10_0[10]; // weak
extern wchar_t aBs05kgd03_0[10]; // weak
extern wchar_t asc_39B7A0[6]; // weak
extern wchar_t asc_39B7AC[6]; // weak
extern wchar_t asc_39B7B8[6]; // weak
extern wchar_t asc_39B7C4[6]; // weak
extern wchar_t asc_39BF7C[6]; // weak
extern wchar_t asc_39BF88[6]; // weak
extern wchar_t asc_39BF94[6]; // weak
extern wchar_t aBs05kid04[10]; // weak
extern wchar_t aBs05kie00[10]; // weak
extern wchar_t aBs05kif02[10]; // weak
extern wchar_t aBs05kif05[10]; // weak
extern wchar_t aBs05kig00[10]; // weak
extern wchar_t a001_21[4]; // weak
extern wchar_t a002_21[4]; // weak
extern wchar_t aBs05b0a00_4[10]; // weak
extern wchar_t asc_39C028[6]; // weak
extern wchar_t aBs05b0_6[7]; // weak
extern wchar_t aBs05b0a00_5[10]; // weak
extern wchar_t asc_39C058[6]; // weak
extern wchar_t aBs05b0_7[7]; // weak
extern wchar_t asc_39C074[6]; // weak
extern wchar_t aBs05kia00_2[10]; // weak
extern wchar_t aBs05ki_2[7]; // weak
extern wchar_t aBs05kid04_0[10]; // weak
extern wchar_t aBs05kie00_0[10]; // weak
extern wchar_t aBs05kif02_0[10]; // weak
extern wchar_t aBs05kif05_0[10]; // weak
extern wchar_t aBs05kig00_0[10]; // weak
extern wchar_t asc_39C108[6]; // weak
extern wchar_t asc_39C114[6]; // weak
extern wchar_t asc_39C120[6]; // weak
extern wchar_t asc_39C12C[6]; // weak
extern wchar_t asc_39C4FC[6]; // weak
extern wchar_t asc_39C508[6]; // weak
extern wchar_t asc_39C514[6]; // weak
extern wchar_t a955_1[4]; // weak
extern wchar_t aBs05sac02[10]; // weak
extern wchar_t a001_22[4]; // weak
extern wchar_t a002_22[4]; // weak
extern wchar_t a942_1[4]; // weak
extern wchar_t aBs059ha00_0[10]; // weak
extern wchar_t aBs05sai00[10]; // weak
extern wchar_t aRep05_sa_i00[13]; // weak
extern wchar_t a942_2[4]; // weak
extern wchar_t aBs059ha00_1[10]; // weak
extern wchar_t a804_1[4]; // weak
extern wchar_t aBs05sab00[10]; // weak
extern wchar_t asc_39C5D0[6]; // weak
extern wchar_t aBs05saa00_3[10]; // weak
extern wchar_t aBs05sa_3[7]; // weak
extern wchar_t aBs05sab00_0[10]; // weak
extern wchar_t aBs05sa_4[7]; // weak
extern wchar_t aBs05sac02_0[10]; // weak
extern wchar_t aBs05sai00_0[10]; // weak
extern wchar_t asc_39C64C[6]; // weak
extern wchar_t asc_39C658[6]; // weak
extern wchar_t asc_39C664[6]; // weak
extern wchar_t asc_39C670[6]; // weak
extern wchar_t asc_39CB30[6]; // weak
extern wchar_t asc_39CB3C[6]; // weak
extern wchar_t asc_39CB48[6]; // weak
extern wchar_t aBs05sbd04[10]; // weak
extern wchar_t aBs05sbd05[10]; // weak
extern wchar_t aBs05sbd04_0[10]; // weak
extern wchar_t aBs05sbi01[10]; // weak
extern wchar_t a001_23[4]; // weak
extern wchar_t a002_23[4]; // weak
extern wchar_t aBs05sbe01_0[10]; // weak
extern wchar_t aBs05sbh04[10]; // weak
extern wchar_t aBs05sbd05_0[10]; // weak
extern wchar_t aBs05sbi01_0[10]; // weak
extern wchar_t aRep05_sb_i01[13]; // weak
extern wchar_t asc_39CC20[6]; // weak
extern wchar_t aBs05sba00_2[10]; // weak
extern wchar_t aBs05sb_4[7]; // weak
extern wchar_t aBs05sbd04_1[10]; // weak
extern wchar_t aBs05sbd05_1[10]; // weak
extern wchar_t aBs05sbe01_1[10]; // weak
extern wchar_t aBs05sb_5[7]; // weak
extern wchar_t aBs05sbh04_0[10]; // weak
extern wchar_t aBs05sbi01_1[10]; // weak
extern wchar_t asc_39CCC4[6]; // weak
extern wchar_t asc_39CCD0[6]; // weak
extern wchar_t asc_39CCDC[6]; // weak
extern wchar_t asc_39CCE8[6]; // weak
extern wchar_t asc_39D478[6]; // weak
extern wchar_t asc_39D484[6]; // weak
extern wchar_t asc_39D490[6]; // weak
extern wchar_t aBs05scd04[10]; // weak
extern wchar_t aBs05sce00[10]; // weak
extern wchar_t aBs05scf02[10]; // weak
extern wchar_t aBs05scf05[10]; // weak
extern wchar_t aBs05scg00[10]; // weak
extern wchar_t a001_24[4]; // weak
extern wchar_t a002_24[4]; // weak
extern wchar_t aBs05b0a00_6[10]; // weak
extern wchar_t asc_39D524[6]; // weak
extern wchar_t aBs05b0_8[7]; // weak
extern wchar_t aBs05b0a00_7[10]; // weak
extern wchar_t asc_39D554[6]; // weak
extern wchar_t aBs05b0_9[7]; // weak
extern wchar_t asc_39D570[6]; // weak
extern wchar_t aBs05scd04_0[10]; // weak
extern wchar_t aBs05sce00_0[10]; // weak
extern wchar_t aBs05scf02_0[10]; // weak
extern wchar_t aBs05scf05_0[10]; // weak
extern wchar_t aBs05scg00_0[10]; // weak
extern wchar_t asc_39D5E0[6]; // weak
extern wchar_t asc_39D5EC[6]; // weak
extern wchar_t asc_39D5F8[6]; // weak
extern wchar_t asc_39D604[6]; // weak
extern wchar_t asc_39DA4C[6]; // weak
extern wchar_t asc_39DA58[6]; // weak
extern wchar_t asc_39DA64[6]; // weak
extern wchar_t aBs05sda01[10]; // weak
extern wchar_t aRep05_sd_a02[13]; // weak
extern wchar_t aBs05sdd05[10]; // weak
extern wchar_t aBs05sdd04[10]; // weak
extern wchar_t aBs05sdd05_0[10]; // weak
extern wchar_t aRep05_sd_d05[13]; // weak
extern wchar_t aBs05sda01_0[10]; // weak
extern wchar_t asc_39DB0C[6]; // weak
extern wchar_t aBs05sda01_1[10]; // weak
extern wchar_t aBs05sdd04_0[10]; // weak
extern wchar_t aBs05sdd05_1[10]; // weak
extern wchar_t asc_39DB54[6]; // weak
extern wchar_t asc_39DB60[6]; // weak
extern wchar_t asc_39DB6C[6]; // weak
extern wchar_t asc_39DB78[6]; // weak
extern wchar_t asc_39E2E0[6]; // weak
extern wchar_t asc_39E2EC[6]; // weak
extern wchar_t asc_39E2F8[6]; // weak
extern wchar_t aBs05sec04[10]; // weak
extern wchar_t aBs05sec08[10]; // weak
extern wchar_t aBs05sec09[10]; // weak
extern wchar_t aBs05sem00[10]; // weak
extern wchar_t aBs05sec09_0[10]; // weak
extern wchar_t aBs05sed04[10]; // weak
extern wchar_t aBs05sen00[10]; // weak
extern wchar_t aBs05sec06[10]; // weak
extern wchar_t aBs05sem03[10]; // weak
extern wchar_t aBs05sem06[10]; // weak
extern wchar_t aBs05sem03_0[10]; // weak
extern wchar_t aRep05_se_n00[13]; // weak
extern wchar_t aBs05kcf00_1[10]; // weak
extern wchar_t asc_39E410[6]; // weak
extern wchar_t aBs05kc_1[7]; // weak
extern wchar_t aBs05sec08_0[10]; // weak
extern wchar_t a001_25[4]; // weak
extern wchar_t a002_25[4]; // weak
extern wchar_t aBs05sen00_0[10]; // weak
extern wchar_t asc_39E464[6]; // weak
extern wchar_t aBs05sec04_0[10]; // weak
extern wchar_t aBs05sec06_0[10]; // weak
extern wchar_t aBs05sec08_1[10]; // weak
extern wchar_t aBs05sec09_1[10]; // weak
extern wchar_t aBs05sed04_0[10]; // weak
extern wchar_t aBs05sem00_0[10]; // weak
extern wchar_t aBs05sem03_1[10]; // weak
extern wchar_t aBs05sem06_0[10]; // weak
extern wchar_t aBs05sen00_1[10]; // weak
extern wchar_t asc_39E524[6]; // weak
extern wchar_t asc_39E530[6]; // weak
extern wchar_t asc_39E53C[6]; // weak
extern wchar_t asc_39E548[6]; // weak
extern wchar_t asc_39E5A8[6]; // weak
extern wchar_t asc_39E5B4[6]; // weak
extern wchar_t asc_39E5C0[6]; // weak
extern wchar_t aBs05sab00_1[10]; // weak
extern wchar_t asc_39E5E0[6]; // weak
extern wchar_t aBs05sa_5[7]; // weak
extern wchar_t asc_39E5FC[6]; // weak
extern wchar_t asc_39E608[6]; // weak
extern wchar_t asc_39E614[6]; // weak
extern wchar_t asc_39E620[6]; // weak
extern wchar_t asc_39E62C[6]; // weak
extern wchar_t asc_39E68C[6]; // weak
extern wchar_t asc_39E698[6]; // weak
extern wchar_t asc_39E6A4[6]; // weak
extern wchar_t aBs05sab00_2[10]; // weak
extern wchar_t asc_39E6C4[6]; // weak
extern wchar_t aBs05sa_6[7]; // weak
extern wchar_t asc_39E6E0[6]; // weak
extern wchar_t asc_39E6EC[6]; // weak
extern wchar_t asc_39E6F8[6]; // weak
extern wchar_t asc_39E704[6]; // weak
extern wchar_t asc_39E710[6]; // weak
extern int (__thiscall *off_39E750)(void *, char); // weak
extern int (__thiscall *off_39E758)(void *, char); // weak
extern int (__thiscall *off_39E78C)(void *, char); // weak
extern char aGetprocesswind[]; // idb
extern char aGetuserobjecti[26]; // weak
extern char aGetlastactivep[19]; // weak
extern char aGetactivewindo[16]; // weak
extern char aMessageboxa[]; // idb
extern char LibFileName[]; // idb
extern int (__thiscall *off_3A0140)(void *, char); // weak
extern int (__thiscall *off_3A0148)(void *, char); // weak
extern char aStringTooLong[16]; // weak
extern char aInvalidStringP[24]; // weak
extern _UNKNOWN unk_3A0498; // weak
extern _UNKNOWN unk_3A04A0; // weak
extern _UNKNOWN unk_3A05C8; // weak
extern _UNKNOWN unk_3A0674; // weak
extern _UNKNOWN unk_3A1018; // weak
extern _UNKNOWN unk_3A1034; // weak
extern _UNKNOWN unk_3A1068; // weak
extern wchar_t *folder_names[30]; // weak
extern LPARAM off_3A2108; // idb
extern wchar_t *route_files_0; // idb
extern LPARAM route_files_short_0; // idb
extern int dword_3A2294; // weak
extern wchar_t *route_files_1; // idb
extern LPARAM route_files_short_1; // idb
extern wchar_t *route_files_2; // idb
extern LPARAM route_files_short_1k; // idb
extern wchar_t *route_files_3; // idb
extern LPARAM route_files_short_1s; // idb
extern wchar_t *route_files_4; // idb
extern LPARAM route_files_short_2k; // idb
extern wchar_t *route_files_5; // idb
extern LPARAM route_files_short_2s; // idb
extern wchar_t *route_files_6; // idb
extern LPARAM route_files_short_3a0; // idb
extern wchar_t *route_files_7; // idb
extern LPARAM route_files_short_3a1; // idb
extern wchar_t *route_files_8; // idb
extern LPARAM route_files_short_3ak; // idb
extern wchar_t *route_files_9; // idb
extern LPARAM route_files_short_3as; // idb
extern wchar_t *route_files_10; // idb
extern LPARAM route_files_short_3b0; // idb
extern wchar_t *route_files_11; // idb
extern LPARAM route_files_short_3b1; // idb
extern wchar_t *route_files_12; // idb
extern LPARAM route_files_short_3b2; // idb
extern wchar_t *route_files_13; // idb
extern LPARAM route_files_short_3bk; // idb
extern wchar_t *route_files_14; // idb
extern LPARAM route_files_short_3ka; // idb
extern wchar_t *route_files_15; // idb
extern LPARAM route_files_short_3kb; // idb
extern wchar_t *route_files_16; // idb
extern LPARAM route_files_short_3s0; // idb
extern wchar_t *route_files_17; // idb
extern LPARAM route_files_short_3sa; // idb
extern wchar_t *route_files_18; // idb
extern LPARAM route_files_short_3sb; // idb
extern wchar_t *route_files_19; // idb
extern LPARAM route_files_short_4c0; // idb
extern wchar_t *route_files_20; // idb
extern LPARAM route_files_short_4c1; // idb
extern wchar_t *route_files_21; // idb
extern LPARAM route_files_short_4e0; // idb
extern wchar_t *route_files_22; // idb
extern LPARAM route_files_short_4ka; // idb
extern wchar_t *route_files_23; // idb
extern LPARAM route_files_short_4kb; // idb
extern wchar_t *route_files_24; // idb
extern LPARAM route_files_short_4kc; // idb
extern wchar_t *route_files_25; // idb
extern LPARAM route_files_short_4ke; // idb
extern wchar_t *route_files_26; // idb
extern LPARAM route_files_short_4sa; // idb
extern wchar_t *route_files_27; // idb
extern LPARAM route_files_short_4sb; // idb
extern wchar_t *route_files_28; // idb
extern LPARAM route_files_short_4sc; // idb
extern wchar_t *route_files_29; // idb
extern LPARAM route_files_short_4se; // idb
extern wchar_t *route_files_30; // idb
extern LPARAM route_files_short_4sf; // idb
extern wchar_t *route_files_31; // idb
extern LPARAM route_files_short_4sg; // idb
extern wchar_t *route_files_32; // idb
extern LPARAM route_files_short_55h; // idb
extern wchar_t *route_files_33; // idb
extern LPARAM route_files_short_55o; // idb
extern wchar_t *route_files_34; // idb
extern LPARAM route_files_short_59h; // idb
extern wchar_t *route_files_35; // idb
extern LPARAM route_files_short_59k; // idb
extern wchar_t *route_files_36; // idb
extern LPARAM route_files_short_59o; // idb
extern wchar_t *route_files_37; // idb
extern LPARAM route_files_short_59s; // idb
extern wchar_t *route_files_38; // idb
extern LPARAM route_files_short_5a0; // idb
extern wchar_t *route_files_39; // idb
extern LPARAM route_files_short_5a2; // idb
extern wchar_t *route_files_40; // idb
extern LPARAM route_files_short_5b0; // idb
extern wchar_t *route_files_41; // idb
extern LPARAM route_files_short_5g0; // idb
extern wchar_t *route_files_42; // idb
extern LPARAM route_files_short_5ka; // idb
extern wchar_t *route_files_43; // idb
extern LPARAM route_files_short_5kb; // idb
extern wchar_t *route_files_44; // idb
extern LPARAM route_files_short_5kc; // idb
extern wchar_t *route_files_45; // idb
extern LPARAM route_files_short_5kf; // idb
extern wchar_t *route_files_46; // idb
extern LPARAM route_files_short_5kg; // idb
extern wchar_t *route_files_47; // idb
extern LPARAM route_files_short_5ki; // idb
extern wchar_t *route_files_48; // idb
extern LPARAM route_files_short_6sa; // idb
extern wchar_t *route_files_49; // idb
extern LPARAM route_files_short_5sb; // idb
extern wchar_t *route_files_50; // idb
extern LPARAM route_files_short_5sc; // idb
extern wchar_t *route_files_51; // idb
extern LPARAM route_files_short_5sd; // idb
extern wchar_t *route_files_52; // idb
extern LPARAM route_files_short_5se; // idb
extern wchar_t *route_files_53; // idb
extern LPARAM route_files_short_5sg; // idb
extern wchar_t *route_files_54; // idb
extern LPARAM route_files_short_5sh; // idb
extern int __security_cookie; // weak
extern void *off_3A6108; // weak
extern void *off_3A6648; // weak
extern int dword_3A6AB0; // weak
extern int dword_3A6AB4; // weak
extern int dword_3A6AB8; // weak
extern int dword_3A6ABC; // weak
extern int dword_3A6AC0; // weak
extern int dword_3A6AC4; // weak
extern int dword_3A6AC8; // weak
extern int dword_3A6ACC; // weak
extern int dword_3A6AD0; // weak
extern int dword_3A6AD4; // weak
extern int dword_3A6AD8; // weak
extern int dword_3A6ADC; // weak
extern int (__stdcall *off_3A6EE0)(_DWORD, _DWORD); // idb
extern VARIANTARG pvarg; // idb
extern int dword_3A6F40; // weak
extern int dword_3A6F44; // weak
extern _UNKNOWN unk_3A6F48; // weak
extern _UNKNOWN Script_Feeling; // weak
extern _UNKNOWN Scripr_Standerd; // weak
extern _UNKNOWN unk_3A6F9C; // weak
extern int dword_3A6FB4; // weak
extern int dword_3A6FB8; // weak
extern int dword_3A6FC8; // weak
extern int dword_3A7324; // weak
extern _UNKNOWN unk_3A7328; // weak
extern void *dword_3A732C; // idb
extern int dword_3A75C8; // weak
extern int dword_3A7974; // weak
extern int dword_3A798C; // weak
extern int dword_3A7990; // weak
extern int dword_3A79AC; // weak
extern int dword_3A79B0; // weak
extern int dword_3A79B4; // weak
extern int dword_3A79B8; // weak
extern int dword_3A79BC; // weak
extern int dword_3A7A78; // weak
extern UINT uNumber; // idb
extern int dword_3A8AC0[]; // idb
extern int dword_3A8BD4; // weak

//-------------------------------------------------------------------------
// Function declarations

#define __thiscall __cdecl // Test compile in C mode

BOOL __stdcall DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved);
int __stdcall SetPackName(wchar_t *Dst, size_t SizeInWords, wchar_t *a3, int a4); // idb
signed int __cdecl GetPatchMax();
int __stdcall GetPackFile(signed int pack_idx); // idb
signed int __cdecl GetPackMax();
void *__cdecl sub_3312A0(void *a1, LPCSTR lpFileName);
signed int __cdecl sub_331480(int a1);
void *__thiscall sub_3315E0(void *this, LPCSTR lpMultiByteStr);
LONG __thiscall sub_331680(int *this);
int __thiscall sub_3316A0(void *this);
LONG __thiscall sub_331750(int *this);
int __thiscall sub_331780(int this, LPCSTR lpMultiByteStr);
int __thiscall sub_3317C0(int this, BSTR psz, char a3);
LONG __thiscall sub_331830(int this);
void *__thiscall sub_331880(BSTR *this, char a2);
int __cdecl sub_3318B0(size_t); // idb
void __thiscall sub_3318D0(BSTR *this);
void __thiscall sub_3318F0(BSTR *this);
char *__cdecl sub_331930(const char *a1, const char *a2);
int __thiscall sub_331950(void *this);
void *__thiscall sub_331980(void *this, wchar_t *a2);
int __thiscall sub_3319C0(void *this, int a2);
int __thiscall sub_331A00(int this);
int __thiscall sub_331A20(void *this, int a2);
int __thiscall sub_331A40(void *this, const wchar_t *a2);
void *__thiscall sub_331A60(int this);
int __thiscall sub_331AC0(void *this);
bool __thiscall IsScriptLoaded(int this);
int __thiscall sub_331B00(int this);
int __thiscall sub_331B60(void *this, int a2);
int __thiscall sub_331B90(void *this, int a2, unsigned int a3, int a4);
int __thiscall sub_331C50(void *this, const wchar_t *Src);
size_t __cdecl wstrlen(const wchar_t *a1);
void *__thiscall sub_331CA0(int this, void *a2, char a3, int a4, char a5, int a6);
void *__thiscall sub_331D30(int this, void *a2);
void *__thiscall sub_331D60(int this, void *a2);
int __thiscall sub_331D90(int this, char a2, int a3);
void *__thiscall sub_331E10(void *this, char a2);
void *__thiscall sub_331E30(void *this, int a2);
void *__thiscall sub_331E50(int this, void *a2);
void *__thiscall sub_331E80(int this, void *a2);
int __thiscall sub_331EB0(int this, int a2, int a3, unsigned int a4, int a5, unsigned int a6);
int __thiscall sub_331F50(int this, char *Src, int len);
int __thiscall sub_331FE0(int this, unsigned int a2, int a3);
// int __thiscall unknown_libname_1(_DWORD); weak
int __thiscall sub_3320A0(int this, int a2);
// _DWORD __cdecl unknown_libname_2(_DWORD, _DWORD); weak
bool __thiscall sub_332100(void *this, int a2, char a3);
int __cdecl sub_3321A0(char a1, int a2, char a3);
// int __thiscall unknown_libname_3(int this);
void *__thiscall sub_332200(int this, void *a2, int a3, unsigned int a4);
int __stdcall sub_332220(int a2, int a3);
void *__thiscall sub_332250(void *this, unsigned int a2, int a3);
void *__thiscall sub_332270(void *this, unsigned int a2, int a3);
bool __thiscall sub_332290(void *this, int a2);
int __cdecl sub_3322C0();
int __thiscall sub_332300(void *this, int a2, int a3);
bool __thiscall sub_332480(int this, char *a2);
int __thiscall sub_3324C0(void *this, unsigned int a2, int a3);
int __thiscall sub_332530(void *this, int a2);
bool __thiscall sub_332580(void *this);
void *__thiscall sub_3325A0(void *this, unsigned int a2, int a3);
void *__thiscall sub_332600(void *this, int a2);
bool __thiscall sub_332620(void *this, int a2);
bool __thiscall sub_332670(void *this, int a2);
// int __cdecl std::_String_base::_String_base(_DWORD); weak
int __thiscall sub_3326B0(void *this);
// int __thiscall std::_Container_base::_Container_base(_DWORD); weak
_DWORD __stdcall sub_3326F0(_DWORD); // weak
// int unknown_libname_4(void); weak
int _vswprintf_s(wchar_t *Dst, const wchar_t *Format, ...);
int __thiscall sub_332770(int this, void *Dst, int a3, void *Src, int a5);
int __cdecl sub_3327A0(char a1, char a2, int a3);
void *__thiscall sub_332810(int this, void *Dst, int a3, void *Src, int a5);
int __cdecl sub_332840(int a1, int a2);
// _DWORD __cdecl unknown_libname_5(_DWORD); weak
void *__thiscall sub_3328D0(void *this, char a2);
void __thiscall sub_332900(void *this);
void *__thiscall sub_332920(void *this, char a2);
void *__thiscall sub_332950(void *this, int a2);
int __cdecl sub_332980(void *Dst, int, void *Src, int); // idb
// int __cdecl unknown_libname_107(void *Dst, int, void *Src, int); idb
int __cdecl sub_3329F0(int a1);
// _DWORD __cdecl unknown_libname_6(_DWORD); weak
int __cdecl sub_332A20(int a1, int a2, int a3);
void *__cdecl sub_332A80(void *Dst, int a2, void *Src, int a4);
void *__cdecl sub_332AA0(void *Dst, int a2, void *Src, int a4);
// int __cdecl wmemmove_s(void *Dst, int, void *Src, int); idb
int __cdecl sub_332AF0(int a1, int a2);
_DWORD __stdcall sub_332B20(_DWORD); // weak
int __cdecl sub_332B40(int a1);
void *__cdecl sub_332B50(int a1, int a2, void *a3);
int __cdecl sub_332B90(int a1);
int __thiscall sub_332BA0(int this, char a2);
int __thiscall sub_332BD0(void *this);
int __thiscall sub_332C40(void **this);
char __thiscall sub_332C60(int this, unsigned int a2);
void *__thiscall sub_332CE0(void *this, char a2);
int __thiscall sub_332D20(void **this);
// int __thiscall std::_Init_locks::__Init_locks(_DWORD); weak
// int __thiscall _LocaleUpdate::GetLocaleT(_DWORD); weak
signed int __cdecl sub_332DA0();
void __cdecl sub_332DC0();
int __thiscall sub_332E40(int this, int a2);
int __thiscall sub_332E70(int this, int a2);
void *__thiscall sub_332F00(void *this, char a2);
void __thiscall sub_332F30(void *this);
void __thiscall sub_332F60(void *this);
void *__thiscall sub_332F80(void *this, char a2);
void *__thiscall sub_332FB0(void *this, int a2);
int __thiscall sub_333020(void *this, char *a2);
void *__thiscall sub_333060(void *this, int a2);
int __thiscall sub_3330A0(int this);
int __thiscall sub_3330C0(void *this);
int __thiscall sub_3330E0(void *this, int a2, int a3, int a4);
int __thiscall sub_3331A0(void *this, char *Src);
// int __cdecl std::char_traits<char>::length(char *); idb
int __thiscall sub_3331F0(int this, char a2, rsize_t MaxCount);
// int __cdecl unknown_libname_7(_DWORD); weak
int __thiscall sub_3332A0(void *this, char *Src, rsize_t MaxCount);
int __thiscall sub_333330(int this, unsigned int a2, int a3);
int __thiscall sub_3333D0(int this, int a2);
// _DWORD __cdecl std::char_traits<char>::assign(_DWORD, _DWORD); weak
bool __thiscall sub_333420(void *this, int a2, char a3);
void *__thiscall sub_3334C0(void *this, char a2);
// void *__cdecl operator new(unsigned int, void *); idb
// int __cdecl _initp_misc_winxfltr(_DWORD, _DWORD); weak
// _DWORD __stdcall sub_3335A0(_DWORD); weak
_DWORD __stdcall sub_3335C0(_DWORD); // weak
void *__thiscall sub_3335E0(void *this, int a2);
// int __thiscall unknown_libname_105(_DWORD); weak
int __thiscall sub_333650(void *this, int a2, int MaxCount);
bool __thiscall sub_3337D0(void *this, unsigned int a2);
signed int __cdecl sub_333810();
int __stdcall sub_333840(unsigned int a1);
// int __stdcall std::allocator<char>::allocate(size_t); idb
int __thiscall sub_3338B0(int this, void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount);
int __thiscall sub_3338E0(int this, void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount);
// _DWORD __stdcall std::_Init_locks::operator_(_DWORD); weak
int __cdecl sub_333920(unsigned int a1);
int __cdecl sub_333970(unsigned int a1);
// char __fastcall unknown_libname_8(int a1);
// int __cdecl std::_Traits_helper::copy_s<std::char_traits<char>>(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount); idb
// int __cdecl std::_Traits_helper::move_s<std::char_traits<char>>(void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount); idb
int __thiscall sub_333AA0(ScriptObject *this);
ScriptObject *__thiscall sub_333B00(ScriptObject *this);
// int __stdcall unknown_libname_108(void *, int); idb
signed int __cdecl CheckScript_by_flags_route_0(ScriptObject *a1);
_DWORD __cdecl CheckScript_by_flags_route_1(_DWORD); // weak
_DWORD __cdecl CheckScript_by_flags_route_4(_DWORD); // weak
_DWORD __cdecl CheckScript_by_flags_route_6(_DWORD); // weak
_DWORD __cdecl CheckScript_by_flags_route_19(_DWORD); // weak
_DWORD __cdecl CheckScript_by_flags_route_32(_DWORD); // weak
int __cdecl ClearIndexies(ScriptObject *a1);
void __cdecl sub_335C60(ScriptObject *a1, const wchar_t *a2, int a3);
void __cdecl sub_335CE0(ScriptObject *a1, const wchar_t *a2, int a3);
int __cdecl sub_335D60(int, wchar_t *Dst, rsize_t SizeInWords, int); // idb
int __cdecl sub_335EB0(ScriptObject *a1, wchar_t *a2, int a3);
signed int __cdecl sub_336000(int this, wchar_t *str); // idb
_DWORD __cdecl sub_336150(char); // weak
int __cdecl sub_336230(const wchar_t *a1);
void *__cdecl sub_336410(void *a1, int a2, int a3);
_DWORD __cdecl sub_336590(_DWORD, _DWORD); // weak
int __cdecl searchRoot_route_start(ScriptObject *a1);
errno_t __cdecl sub_336690(int this, wchar_t *Dst, rsize_t SizeInWords, int a4); // idb
int __cdecl sub_3366C0(int, wchar_t *Dst, rsize_t SizeInWords, int); // idb
errno_t __cdecl sub_3366F0(int this, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5); // idb
errno_t __cdecl sub_336760(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4);
unsigned int __cdecl sub_3367C0(ScriptObject *a1, int a2, int a3, int a4);
double __stdcall GetVersionToRoute(ScriptObject *a1);
signed int __stdcall GetNextScriptFile(int this, wchar_t *Dst, rsize_t SizeInWords); // idb
signed int __stdcall GetBackScriptFile(int a1, wchar_t *Dst, rsize_t SizeInWords);
void __stdcall LoadInitScript(int a1);
int __stdcall ZeroReset(ScriptObject *a1);
int __stdcall SetRoot(int route, int scene, ScriptObject *a3); // idb
signed int __stdcall searchRoot(const wchar_t *file_name, signed int route, ScriptObject *obj); // idb
signed int __stdcall CheckScript(ScriptObject *obj, int story); // idb
signed int __stdcall GetStory(ScriptObject *a1);
errno_t __stdcall SetScript(errno_t a1, int start_idx, wchar_t *Dst, rsize_t SizeInWords); // idb
LRESULT __stdcall SetDigScript(HWND hDlg, int nIDDlgItem, int a3);
int __stdcall GetReadScriptCount(ScriptObject *obj);
signed int __cdecl GetScriptMax();
signed int __stdcall CheckInputScript(const wchar_t *a1);
signed int __stdcall CheckScriptNo(ScriptObject *a1);
int __stdcall SetFeeling(ScriptObject *obj, int a2);
signed int __stdcall GetRouteMapPage(ScriptObject *obj, int story); // idb
VARIANTARG *__thiscall sub_33C390(VARIANTARG *this);
int __thiscall sub_33C3B0(int this, const OLECHAR *psz);
HRESULT __thiscall sub_33C400(VARIANTARG *this);
int __thiscall sub_33C420(int this, int a2, __int16 a3);
int __thiscall sub_33C4A0(ScriptObject *this);
unsigned int __thiscall sub_33C4C0(void *this, unsigned int a2);
int __thiscall sub_33C4F0(ScriptObject *this, int a2);
int __thiscall sub_33C570(void *this);
void *__thiscall sub_33C5A0(void *this, int a2);
int __thiscall sub_33C5F0(void *this);
int __thiscall sub_33C630(int this, int a2, int a3, __int16 a4);
int __cdecl sub_33C680(int a1, int a2, __int16 a3);
// _DWORD __cdecl wmemset(_DWORD, __int16, _DWORD); weak
int __thiscall sub_33C6E0(int this);
int __thiscall sub_33C720(ScriptObject *this, int a2, int a3, int a4, int a5);
int __stdcall sub_33C7A0(void *a1, int a2, int a3);
void *__thiscall sub_33C7E0(void *this, int a2, int a3, unsigned int a4, int a5);
int __thiscall sub_33CB90(int this, int a2, int a3);
int __thiscall sub_33CBD0(void *this, int a2);
void *__thiscall sub_33CC20(void *this, int a2);
void *__thiscall sub_33CC40(void *this, int a2);
int __thiscall sub_33CCC0(void *this);
// int __thiscall unknown_libname_9(_DWORD); weak
int __cdecl sub_33CD00(void *a1, int a2, int a3);
// _DWORD __stdcall unknown_libname_10(_DWORD, _DWORD, _DWORD); weak
_DWORD __cdecl sub_33CD80(char, char, _DWORD); // weak
_DWORD __cdecl sub_33CDB0(char, char, _DWORD); // weak
int __cdecl sub_33CE20(void *a1, int a2, int a3);
int __cdecl sub_33CEE0(char a1, char a2, int a3);
int __cdecl sub_33CF30(void *a1, void *a2, int a3);
int __cdecl sub_33CF60(int a1, int a2, int a3);
int __stdcall sub_33CFC0(void *a1, int a2);
int __cdecl sub_33CFE0(int a1, int a2, int a3);
void *__cdecl sub_33D0E0(int a1, int a2, void *a3);
int __cdecl sub_33D120(void *a1, int a2);
void *__cdecl sub_33D1A0(void *a1, int a2);
void *__thiscall sub_33D1C0(void *this, int a2);
char __cdecl sub_33D310();
unsigned int __cdecl sub_33D320(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_0(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_0(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *this);
int __cdecl GetBackScriptFile_route_0(wchar_t *Dst, rsize_t SizeInWords, int); // idb
signed int __cdecl searchRoot_route0(const wchar_t *file_name, ScriptObject *obj); // idb
signed int __cdecl CheckScript_route_0(ScriptObject *a1);
signed int __cdecl CheckInputScript_route_0(const wchar_t *a1);
int __cdecl SetFeeling_route_0(ScriptObject *a1, int a2);
unsigned int __cdecl sub_33E1C0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_1(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_1(wchar_t *Dst, rsize_t SizeInWords, int this); // idb
signed int __cdecl GetBackScriptFile_route_1(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_1(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_1(_DWORD); // weak
signed int __cdecl CheckInputScript_route_1(const wchar_t *a1);
int __cdecl SetFeeling_route_1(ScriptObject *a1, int a2);
unsigned int __cdecl sub_341190(ScriptObject *this, int a2, int scene);
errno_t __cdecl GetScriptFile_2(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_2(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *this);
signed int __cdecl GetBackScriptFile_route_2(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_1k(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_2(_DWORD); // weak
signed int __cdecl CheckInputScript_route_2(const wchar_t *a1);
int __cdecl SetFeeling_route_2(ScriptObject *a1, int a2);
unsigned int __cdecl sub_342180(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_3(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_3(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *this);
signed int __cdecl GetBackScriptFile_route_3(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_1s(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_3(_DWORD); // weak
signed int __cdecl CheckInputScript_route_3(const wchar_t *a1);
int __cdecl SetFeeling_route_3(int a1);
unsigned int __cdecl sub_3429D0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_4(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_4(wchar_t *Dst, rsize_t SizeInWords, int this); // idb
signed int __cdecl GetBackScriptFile_route_4(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_2k(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_4(_DWORD); // weak
signed int __cdecl CheckInputScript_route_4(const wchar_t *a1);
int __cdecl SetFeeling_route_4(ScriptObject *a1, int a2);
unsigned int __cdecl sub_3452E0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_5(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_5(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *this);
signed int __cdecl GetBackScriptFile_route_5(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_2s(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_5(_DWORD); // weak
signed int __cdecl CheckInputScript_route_5(const wchar_t *a1);
int __cdecl SetFeeling_route_5(ScriptObject *a1, int a2);
unsigned int __cdecl sub_347C20(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_6(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_6(wchar_t *Dst, rsize_t SizeInWords, int this); // idb
signed int __cdecl GetBackScriptFile_route_6(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3a0(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_6(_DWORD); // weak
signed int __cdecl CheckInputScript_route_6(const wchar_t *a1);
int __cdecl SetFeeling_route_6(ScriptObject *a1, int a2);
unsigned int __cdecl sub_348700(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_7(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
int __cdecl GetNextScript_7(wchar_t *Dst, rsize_t SizeInWords, int); // idb
signed int __cdecl GetBackScriptFile_route_7(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3a1(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_7(_DWORD); // weak
signed int __cdecl CheckInputScript_route_7(const wchar_t *a1);
int __cdecl SetFeeling_route_7(ScriptObject *a1, int a2);
unsigned int __cdecl sub_3499E0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_8(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_8(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_8(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3ak(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_8(_DWORD); // weak
signed int __cdecl CheckInputScript_route_8(const wchar_t *a1);
int __cdecl SetFeeling_route_8(int a1);
unsigned int __cdecl sub_349E60(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_9(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_9(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_9(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3as(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_9(_DWORD); // weak
signed int __cdecl CheckInputScript_route_9(const wchar_t *a1);
int __cdecl SetFeeling_route_9(int a1);
unsigned int __cdecl sub_34A220(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_10(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_10(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_10(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3b0(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_10(_DWORD); // weak
signed int __cdecl CheckInputScript_route_10(const wchar_t *a1);
int __cdecl SetFeeling_route_10(int a1);
unsigned int __cdecl sub_34A660(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_11(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_11(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_11(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3b1(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_11(_DWORD); // weak
signed int __cdecl CheckInputScript_route_11(const wchar_t *a1);
int __cdecl SetFeeling_route_11(int a1);
unsigned int __cdecl sub_34AB10(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_12(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_12(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_12(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3b2(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_12(_DWORD); // weak
signed int __cdecl CheckInputScript_route_12(const wchar_t *a1);
int __cdecl SetFeeling_route_12(ScriptObject *a1, int a2);
unsigned int __cdecl sub_34B3E0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_13(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_13(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_13(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3bk(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_13(_DWORD); // weak
signed int __cdecl CheckInputScript_route_13(const wchar_t *a1);
int __cdecl SetFeeling_route_13(ScriptObject *a1, int a2);
unsigned int __cdecl sub_34C770(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_14(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_14(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_14(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3ka(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_14(_DWORD); // weak
signed int __cdecl CheckInputScript_route_14(const wchar_t *a1);
int __cdecl SetFeeling_route_14(ScriptObject *a1, int a2);
unsigned int __cdecl sub_34EED0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_15(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
int __cdecl GetNextScript_15(wchar_t *Dst, rsize_t SizeInWords, int); // idb
signed int __cdecl GetBackScriptFile_route_15(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3kb(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_15(_DWORD); // weak
signed int __cdecl CheckInputScript_route_15(const wchar_t *a1);
int __cdecl SetFeeling_route_15(ScriptObject *a1, int a2);
unsigned int __cdecl sub_351E40(ScriptObject *a1, int a2, int a3);
errno_t __cdecl sub_351E70(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_16(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_16(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3s0(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_16(_DWORD); // weak
signed int __cdecl CheckInputScript_route_16(const wchar_t *a1);
int __cdecl SetFeeling_route_16(int a1);
unsigned int __cdecl sub_352150(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_17(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_17(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_17(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3sa(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_17(_DWORD); // weak
signed int __cdecl CheckInputScript_route_17(const wchar_t *a1);
int __cdecl SetFeeling_route_17(ScriptObject *a1, int a2);
unsigned int __cdecl sub_3541D0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_18(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_18(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_18(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_3sb(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_18(_DWORD); // weak
signed int __cdecl CheckInputScript_route_18(const wchar_t *a1);
int __cdecl SetFeeling_route_18(ScriptObject *a1, int a2);
unsigned int __cdecl sub_356720(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_19(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_19(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_19(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4c0(const wchar_t *a1, int a2);
signed int __cdecl CheckScript_route_19(int a1);
signed int __cdecl CheckInputScript_route_19(const wchar_t *a1);
int __cdecl SetFeeling_route_19(int a1, int a2);
unsigned int __cdecl sub_357110(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_20(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_20(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_20(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4c1(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_20(_DWORD); // weak
signed int __cdecl CheckInputScript_route_20(const wchar_t *a1);
int __cdecl SetFeeling_route_20(ScriptObject *a1, int a2);
unsigned int __cdecl sub_3578D0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_21(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_21(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_21(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4e0(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_21(_DWORD); // weak
signed int __cdecl CheckInputScript_route_21(const wchar_t *a1);
int __cdecl SetFeeling_route_21(ScriptObject *a1, int a2);
unsigned int __cdecl sub_357E40(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_22(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_22(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_22(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4ka(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_22(_DWORD); // weak
signed int __cdecl CheckInputScript_route_22(const wchar_t *a1);
int __cdecl SetFeeling_route_22(ScriptObject *a1, int a2);
unsigned int __cdecl sub_3595C0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_23(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_23(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_23(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4kb(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_23(_DWORD); // weak
signed int __cdecl CheckInputScript_route_23(const wchar_t *a1);
int __cdecl SetFeeling_route_23(ScriptObject *a1, int a2);
unsigned int __cdecl sub_35A8A0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_24(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_24(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_24(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4kc(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_24(_DWORD); // weak
signed int __cdecl CheckInputScript_route_24(const wchar_t *a1);
int __cdecl SetFeeling_route_24(ScriptObject *a1, int a2);
unsigned int __cdecl sub_35C000(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_25(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_25(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_25(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4ke(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_25(_DWORD); // weak
signed int __cdecl CheckInputScript_route_25(const wchar_t *a1);
int __cdecl SetFeeling_route_25(ScriptObject *a1, int a2);
unsigned int __cdecl sub_35CF70(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_26(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_26(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_26(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4sa(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_26(_DWORD); // weak
signed int __cdecl CheckInputScript_route_26(const wchar_t *a1);
int __cdecl SetFeeling_route_26(ScriptObject *a1, int a2);
unsigned int __cdecl sub_35F880(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_27(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_27(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_27(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4sb(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_27(_DWORD); // weak
signed int __cdecl CheckInputScript_route_27(const wchar_t *a1);
int __cdecl SetFeeling_route_27(ScriptObject *a1, int a2);
unsigned int __cdecl sub_360DF0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_28(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_28(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_28(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4sc(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_28(_DWORD); // weak
signed int __cdecl CheckInputScript_route_28(const wchar_t *a1);
int __cdecl SetFeeling_route_28(ScriptObject *a1, int a2);
unsigned int __cdecl sub_361830(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_29(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
int __cdecl GetNextScript_29(wchar_t *Dst, rsize_t SizeInWords, int); // idb
signed int __cdecl GetBackScriptFile_route_29(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4se(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_29(_DWORD); // weak
signed int __cdecl CheckInputScript_route_29(const wchar_t *a1);
int __cdecl SetFeeling_route_29(ScriptObject *a1, int a2);
unsigned int __cdecl sub_362BF0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_30(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_30(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_30(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4sf(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_30(_DWORD); // weak
signed int __cdecl CheckInputScript_route_30(const wchar_t *a1);
int __cdecl SetFeeling_route_30(int a1);
unsigned int __cdecl sub_362FF0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_31(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_31(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_31(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_4sg(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_31(_DWORD); // weak
signed int __cdecl CheckInputScript_route_31(const wchar_t *a1);
int __cdecl SetFeeling_route_31(int a1);
unsigned int __cdecl sub_3633F0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_32(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_32(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_32(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_55h(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_32(_DWORD); // weak
signed int __cdecl CheckInputScript_route_32(const wchar_t *a1);
int __cdecl SetFeeling_route_32(ScriptObject *a1, int a2);
unsigned int __cdecl sub_363E40(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_33(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
int __cdecl GetNextScript_33(wchar_t *Dst, rsize_t SizeInWords, int); // idb
signed int __cdecl GetBackScriptFile_route_33(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_550(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_33(_DWORD); // weak
signed int __cdecl CheckInputScript_route_33(const wchar_t *a1);
int __cdecl SetFeeling_route_33(ScriptObject *a1, int a2);
unsigned int __cdecl sub_365E60(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_34(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_34(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_34(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_59h(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_34(_DWORD); // weak
signed int __cdecl CheckInputScript_route_34(const wchar_t *a1);
int __cdecl SetFeeling_route_34(int a1);
unsigned int __cdecl sub_366220(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_35(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_35(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_35(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_59k(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_35(_DWORD); // weak
signed int __cdecl CheckInputScript_route_35(const wchar_t *a1);
int __cdecl SetFeeling_route_35(int a1);
unsigned int __cdecl sub_366520(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_36(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_36(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_36(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_59o(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_36(_DWORD); // weak
signed int __cdecl CheckInputScript_route_36(const wchar_t *a1);
int __cdecl SetFeeling_route_36(int a1);
unsigned int __cdecl sub_366820(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_37(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_37(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_37(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_59s(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_37(_DWORD); // weak
signed int __cdecl CheckInputScript_route_37(const wchar_t *a1);
int __cdecl SetFeeling_route_37(int a1);
unsigned int __cdecl sub_366B20(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_38(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_38(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_38(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5a0(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_38(_DWORD); // weak
signed int __cdecl CheckInputScript_route_38(const wchar_t *a1);
int __cdecl SetFeeling_route_38(ScriptObject *a1, int a2);
unsigned int __cdecl sub_366FA0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_39(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_39(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_39(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5a2(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_39(_DWORD); // weak
signed int __cdecl CheckInputScript_route_39(const wchar_t *a1);
int __cdecl SetFeeling_route_39(int a1);
unsigned int __cdecl sub_367520(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_40(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_40(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_40(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5b0(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_40(_DWORD); // weak
signed int __cdecl CheckInputScript_route_40(const wchar_t *a1);
int __cdecl SetFeeling_route_40(int a1);
unsigned int __cdecl sub_367BD0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_41(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_41(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_41(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5g0(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_41(_DWORD); // weak
signed int __cdecl CheckInputScript_route_41(const wchar_t *a1);
int __cdecl SetFeeling_route_41(ScriptObject *a1, int a2);
unsigned int __cdecl sub_368DA0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_42(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_42(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_42(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5ka(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_42(_DWORD); // weak
signed int __cdecl CheckInputScript_route_42(const wchar_t *a1);
int __cdecl SetFeeling_route_42(ScriptObject *a1, int a2);
unsigned int __cdecl sub_369CA0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_43(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_43(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_43(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5kb(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_43(_DWORD); // weak
signed int __cdecl CheckInputScript_route_43(const wchar_t *a1);
int __cdecl SetFeeling_route_43(ScriptObject *a1, int a2);
unsigned int __cdecl sub_36AF40(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_44(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_44(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_44(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5kc(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_44(_DWORD); // weak
signed int __cdecl CheckInputScript_route_44(const wchar_t *a1);
int __cdecl SetFeeling_route_44(ScriptObject *a1, int a2);
unsigned int __cdecl sub_36B830(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_45(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_45(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_45(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5kf(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_45(_DWORD); // weak
signed int __cdecl CheckInputScript_route_45(const wchar_t *a1);
int __cdecl SetFeeling_route_45(ScriptObject *a1, int a2);
unsigned int __cdecl sub_36CC10(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_46(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_46(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_46(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5kg(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_46(_DWORD); // weak
signed int __cdecl CheckInputScript_route_46(const wchar_t *a1);
int __cdecl SetFeeling_route_46(ScriptObject *a1, int a2);
unsigned int __cdecl sub_36D5C0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_47(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_47(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_47(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5ki(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_47(_DWORD); // weak
signed int __cdecl CheckInputScript_route_47(const wchar_t *a1);
int __cdecl SetFeeling_route_47(ScriptObject *a1, int a2);
unsigned int __cdecl sub_36E8B0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_48(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_48(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_48(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5sa(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_48(_DWORD); // weak
signed int __cdecl CheckInputScript_route_48(const wchar_t *a1);
int __cdecl SetFeeling_route_48(ScriptObject *a1, int a2);
unsigned int __cdecl sub_36F4D0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_49(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_49(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_49(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5sb(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_49(_DWORD); // weak
signed int __cdecl CheckInputScript_route_49(const wchar_t *a1);
int __cdecl SetFeeling_route_49(ScriptObject *a1, int a2);
unsigned int __cdecl sub_3702B0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_50(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_50(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_50(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5sc(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_50(_DWORD); // weak
signed int __cdecl CheckInputScript_route_50(const wchar_t *a1);
int __cdecl SetFeeling_route_50(ScriptObject *a1, int a2);
unsigned int __cdecl sub_371510(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_51(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
int __cdecl GetNextScript_51(wchar_t *Dst, rsize_t SizeInWords, int); // idb
signed int __cdecl GetBackScriptFile_route_51(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5sd(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_51(_DWORD); // weak
signed int __cdecl CheckInputScript_route_51(const wchar_t *a1);
int __cdecl SetFeeling_route_51(ScriptObject *a1, int a2);
unsigned int __cdecl sub_3721C0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_52(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_52(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_52(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5se(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_52(_DWORD); // weak
signed int __cdecl CheckInputScript_route_52(const wchar_t *a1);
int __cdecl SetFeeling_route_52(ScriptObject *a1, int a2);
unsigned int __cdecl sub_373600(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_53(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_53(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_53(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5sg(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_53(_DWORD); // weak
signed int __cdecl CheckInputScript_route_53(const wchar_t *a1);
int __cdecl SetFeeling_route_53(int a1);
unsigned int __cdecl sub_3739C0(ScriptObject *a1, int a2, int a3);
errno_t __cdecl GetScriptFile_54(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5);
signed int __cdecl GetNextScript_54(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl GetBackScriptFile_route_54(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3);
signed int __cdecl searchRoot_route_5sh(const wchar_t *a1, int a2);
_DWORD __cdecl CheckScript_route_54(_DWORD); // weak
signed int __cdecl CheckInputScript_route_54(const wchar_t *a1);
int __cdecl SetFeeling_route_54(int a1);
// _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *); weak
// int __thiscall __security_check_cookie(_DWORD); weak
// int swprintf_s(wchar_t *Dst, size_t SizeInWords, const wchar_t *Format, ...);
void __cdecl sub_37418A(void *a1);
// int __cdecl unknown_libname_106(_DWORD); weak
// void __cdecl operator delete(void *); idb
// int __cdecl operator new(size_t); idb
// int sprintf_s(char *DstBuf, size_t SizeInBytes, const char *Format, ...);
// char *__cdecl strstr(const char *, const char *);
// size_t __cdecl wcslen(const wchar_t *);
// _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD); weak
int __cdecl sub_37433C(int a1);
// int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int _invalid_parameter_noinfo(void); weak
// int __cdecl vswprintf_s(wchar_t *Dst, size_t SizeInWords, const wchar_t *Format, va_list ArgList);
void __thiscall sub_374649(void *this);
void *__thiscall sub_374659(void *this, char a2);
int __thiscall sub_37469A(int this);
// _DWORD __stdcall std::exception::exception(_DWORD); weak
// _DWORD __stdcall std::exception::exception(_DWORD); weak
void __thiscall sub_374778(int this);
void *__thiscall sub_37479B(void *this, char a2);
// int __cdecl atexit(void (__cdecl *)());
// int __cdecl wcscmp(const wchar_t *, const wchar_t *);
// errno_t __cdecl wcscpy_s(wchar_t *Dst, rsize_t SizeInWords, const wchar_t *Src);
// wchar_t *__cdecl wcsstr(const wchar_t *, const wchar_t *);
int __cdecl sub_374B72(int a1);
int __cdecl sub_374B88(_DWORD); // weak
void *__thiscall sub_374E65(void *this, char a2);
void __thiscall sub_374E83(int this);
void *__thiscall sub_374E8E(void *this, char a2);
// void __usercall sub_3751AD(int a1<ebp>);
// _DWORD __cdecl _encode_pointer(_DWORD); weak
// int _encoded_null(void); weak
// _DWORD __cdecl _decode_pointer(_DWORD); weak
// int _getptd(void); weak
// _DWORD __stdcall _LocaleUpdate::_LocaleUpdate(_DWORD); weak
// int *__cdecl _errno();
// unsigned __int32 *__cdecl __doserrno();
// void __cdecl free(void *);
// void *__cdecl malloc(size_t);
int __cdecl sub_37672F(int a1);
void __cdecl sub_37698E();
void __cdecl sub_377662(int a1);
int __cdecl loc_3776C9(int); // weak
// int __cdecl _except_handler4(int, PVOID TargetFrame, int); idb
// _DWORD __cdecl _LN31(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
int __cdecl sub_378726(int a1, int a2, int a3);
int (*__cdecl sub_3799EB())(void);
int (*__cdecl sub_379A11())(void);
// _DWORD __cdecl _lock(_DWORD); weak
// int __cdecl _write_nolock(int, int, DWORD nNumberOfBytesToWrite); idb
int __cdecl sub_37B444(int, int, DWORD nNumberOfBytesToWrite); // idb
int __cdecl loc_37B516(int, int, DWORD nNumberOfBytesToWrite); // weak
void **__cdecl sub_37B5CD();
// int unknown_libname_100(void); weak
int __cdecl sub_37D7A4();
int __cdecl sub_37DF52();
int __cdecl sub_37E11E(int a1);
int __cdecl sub_37E12D(int a1);
signed int __cdecl sub_37E63D(int a1, int a2, int a3);
signed int __cdecl sub_37E6E5(int a1, int a2, int a3);
// _DWORD __cdecl __lock_fhandle(_DWORD); weak
// _DWORD __cdecl flsall(_DWORD); weak
int __cdecl sub_37FA94();
int __cdecl load_procs(int a1, int a2, int a3);
signed int __cdecl sub_38012B(int a1, int a2);
signed int __cdecl sub_38066F(int a1, int a2);
// _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// _DWORD __cdecl _alloca_probe_16(char); weak
void __stdcall sub_3828A0(int a1);
// int __userpurge sub_3828C0<eax>(int a1<eax>, LPCSTR lpMultiByteStr);
void __cdecl sub_382A80(int a1, int a2);
int __thiscall sub_382AC0(int this, int a2);
void *__thiscall sub_382B00(void *this, char a2);
int __thiscall sub_382B50(int this, int a2);
void __thiscall sub_382B6D(void *this);
void *__thiscall sub_382B78(void *this, char a2);
void __cdecl sub_382B9F();
void __stdcall sub_382BD7(int a1);
void *__thiscall sub_382C0F(void *this, int a2);
// int __usercall sub_382C40<eax>(int a1<ebp>);
// int __usercall sub_382C48<eax>(int a1<ebp>);
// LONG __usercall sub_382C6B<eax>(int a1<ebp>);
// int __usercall sub_382C76<eax>(int a1<ebp>);
int __cdecl sub_382C81(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// void __usercall sub_382CB0(int a1<ebp>);
int __cdecl sub_382CBB(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
int __cdecl sub_382CE0(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382D00<eax>(int a1<ebp>);
int __cdecl sub_382D08(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382D30<eax>(int a1<ebp>);
int __cdecl sub_382D38(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382D60<eax>(int a1<ebp>);
int __cdecl sub_382D68(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// void __usercall sub_382D90(int a1<ebp>);
int __cdecl sub_382D98(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382DC0<eax>(int a1<ebp>);
// int __usercall sub_382DC8<eax>(int a1<ebp>);
int __cdecl sub_382DD9(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
int __cdecl sub_382E00(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382E20<eax>(int a1<ebp>);
int __cdecl sub_382E28(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382E50<eax>(int a1<ebp>);
int __cdecl sub_382E58(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382E7D<eax>(int a1<ebp>);
int __cdecl sub_382E85(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382EAD<eax>(int a1<ebp>);
int __cdecl sub_382EB5(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382F00<eax>(int a1<ebp>);
// int __usercall sub_382F08<eax>(int a1<ebp>);
int __cdecl sub_382F13(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382F3B<eax>(int a1<ebp>);
// LONG __usercall sub_382F43<eax>(int a1<ebp>);
// int __usercall sub_382F4B<eax>(int a1<ebp>);
int __cdecl sub_382F53(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382F80<eax>(int a1<ebp>);
// int __usercall sub_382F88<eax>(int a1<ebp>);
int __cdecl sub_382F90(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
int __cdecl sub_382FC0(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_382FE0<eax>(int a1<ebp>);
int __cdecl sub_382FE8(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_383010<eax>(int a1<ebp>);
int __cdecl sub_383021(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_383040<eax>(int a1<ebp>);
int __cdecl sub_383048(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
int __cdecl sub_38306D(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
// int __usercall sub_383088<eax>(int a1<ebp>);
int __cdecl sub_383090(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4);
int __cdecl sub_3830B0();
int __cdecl sub_3830D0();
int __cdecl sub_3830F0();
int __cdecl sub_383110();
int __cdecl sub_383130();
int __cdecl sub_383140();
int __cdecl sub_383150();
int __cdecl sub_383160();
int __cdecl sub_383170();
void __cdecl sub_38317F();
HRESULT __cdecl VarianClear();
// BOOL __stdcall ReadFile(HANDLE hFile, LPVOID lpBuffer, DWORD nNumberOfBytesToRead, LPDWORD lpNumberOfBytesRead, LPOVERLAPPED lpOverlapped);
// DWORD __stdcall GetFileSize(HANDLE hFile, LPDWORD lpFileSizeHigh);
// HANDLE __stdcall CreateFileA(LPCSTR lpFileName, DWORD dwDesiredAccess, DWORD dwShareMode, LPSECURITY_ATTRIBUTES lpSecurityAttributes, DWORD dwCreationDisposition, DWORD dwFlagsAndAttributes, HANDLE hTemplateFile);
// HANDLE __stdcall FindFirstFileA(LPCSTR lpFileName, LPWIN32_FIND_DATAA lpFindFileData);
// LONG __stdcall InterlockedDecrement(volatile LONG *lpAddend);
// DWORD __stdcall GetModuleFileNameA(HMODULE hModule, LPSTR lpFilename, DWORD nSize);
// void __stdcall OutputDebugStringA(LPCSTR lpOutputString);
// HANDLE __stdcall GetProcessHeap();
// int __stdcall lstrlenA(LPCSTR lpString);
// FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName);
// DWORD __stdcall GetLastError();
// BOOL __stdcall HeapFree(HANDLE hHeap, DWORD dwFlags, LPVOID lpMem);
// int __stdcall MultiByteToWideChar(UINT CodePage, DWORD dwFlags, LPCSTR lpMultiByteStr, int cbMultiByte, LPWSTR lpWideCharStr, int cchWideChar);
// HMODULE __stdcall LoadLibraryA(LPCSTR lpLibFileName);
// HRESULT __stdcall VariantClear(VARIANTARG *pvarg);
// BSTR __stdcall SysAllocString(const OLECHAR *psz);
// void __stdcall VariantInit(VARIANTARG *pvarg);
// HRESULT __stdcall VariantChangeType(VARIANTARG *pvargDest, const VARIANTARG *pvarSrc, USHORT wFlags, VARTYPE vt);
// void __stdcall SysFreeString(BSTR bstrString);
// UINT __stdcall SysStringByteLen(BSTR bstr);
// BSTR __stdcall SysAllocStringByteLen(LPCSTR psz, UINT len);
// HWND __stdcall GetDlgItem(HWND hDlg, int nIDDlgItem);
// LRESULT __stdcall SendMessageA(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam);


//----- (00331000) --------------------------------------------------------
BOOL __stdcall DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved)
{
  JUMPOUT(unk_331005);
}

//----- (003311E0) --------------------------------------------------------
int __stdcall SetPackName(wchar_t *Dst, size_t SizeInWords, wchar_t *a3, int a4)
{
  return swprintf_s(Dst, SizeInWords, L"%s.%03d", a3, a4);
}

//----- (00331210) --------------------------------------------------------
signed int __cdecl GetPatchMax()
{
  return 10;
}

//----- (00331220) --------------------------------------------------------
int __stdcall GetPackFile(signed int pack_idx)
{
  int result; // eax@2
  wchar_t Dst; // [sp+0h] [bp-48h]@3
  unsigned int v3; // [sp+44h] [bp-4h]@1
  int v4; // [sp+48h] [bp+0h]@1

  v3 = &v4 ^ __security_cookie;
  if ( pack_idx >= 30 )
  {
    _vswprintf_s(&Dst, L"Ex%02d", pack_idx - 29);
    sub_331A40(&unk_3A6F48, &Dst);
    result = sub_331AC0(&unk_3A6F48);
  }
  else
  {
    result = folder_names[pack_idx];
  }
  return result;
}
// 3A2008: using guessed type wchar_t *folder_names[30];
// 3A5C70: using guessed type int __security_cookie;

//----- (00331290) --------------------------------------------------------
signed int __cdecl GetPackMax()
{
  return 40;
}

//----- (003312A0) --------------------------------------------------------
void *__cdecl sub_3312A0(void *a1, LPCSTR lpFileName)
{
  int v2; // eax@3
  char v4; // [sp+10h] [bp-194h]@3
  char v5; // [sp+2Ch] [bp-178h]@3
  DWORD v6; // [sp+30h] [bp-174h]@2
  DWORD FileSizeHigh; // [sp+34h] [bp-170h]@2
  HANDLE hFile; // [sp+3Ch] [bp-168h]@2
  LPVOID lpMultiByteStr; // [sp+40h] [bp-164h]@2
  DWORD NumberOfBytesRead; // [sp+44h] [bp-160h]@2
  DWORD nNumberOfBytesToRead; // [sp+48h] [bp-15Ch]@2
  DWORD v12; // [sp+4Ch] [bp-158h]@2
  struct _WIN32_FIND_DATAA FindFileData; // [sp+50h] [bp-154h]@1
  unsigned int v14; // [sp+190h] [bp-14h]@1
  HANDLE v15; // [sp+194h] [bp-10h]@1
  int v16; // [sp+1A0h] [bp-4h]@3
  int v17; // [sp+1A4h] [bp+0h]@1

  v14 = &v17 ^ __security_cookie;
  v15 = FindFirstFileA(lpFileName, &FindFileData);
  if ( v15 != -1HINSTANCE_ERROR|HANDLE_FLAG_PROTECT_FROM_CLOSE|HANDLE_FLAG_INHERIT )
  {
    hFile = CreateFileA(lpFileName, 0x80000000u, 1u, 0, 3u, 0x80u, 0);
    v6 = GetFileSize(hFile, &FileSizeHigh);
    lpMultiByteStr = unknown_libname_106(v6);
    nNumberOfBytesToRead = v6;
    v12 = FileSizeHigh;
    if ( ReadFile(hFile, lpMultiByteStr, v6, &NumberOfBytesRead, 0) )
    {
      sub_3315E0(&v5, lpMultiByteStr);
      v16 = 0;
      v2 = sub_3316A0(&v5);
      sub_331980(&v4, *v2);
      LOBYTE(v16) = 1;
      sub_37418A(lpMultiByteStr);
      sub_3319C0(a1, &v4);
      LOBYTE(v16) = 0;
      sub_331A00(&v4);
      v16 = -1;
      sub_331680(&v5);
      return a1;
    }
    sub_37418A(lpMultiByteStr);
  }
  sub_331950(a1);
  return a1;
}
// 374195: using guessed type int __cdecl unknown_libname_106(_DWORD);
// 3A5C70: using guessed type int __security_cookie;

//----- (00331480) --------------------------------------------------------
signed int __cdecl sub_331480(int a1)
{
  signed int i; // [sp+4h] [bp-424h]@1
  CHAR Filename; // [sp+8h] [bp-420h]@1
  char DstBuf; // [sp+318h] [bp-110h]@4
  unsigned int v5; // [sp+424h] [bp-4h]@1
  int v6; // [sp+428h] [bp+0h]@1

  v5 = &v6 ^ __security_cookie;
  GetModuleFileNameA(0, &Filename, 0x30Cu);
  for ( i = 0; i < 7; ++i )
  {
    switch ( i )
    {
      case 0:
        sprintf_s(&DstBuf, 0x104u, "%sd.exe", a1);
        break;
      case 1:
        sprintf_s(&DstBuf, 0x104u, "%s_Test.exe", a1);
        break;
      case 2:
        sprintf_s(&DstBuf, 0x104u, "%s.exe", a1);
        break;
      case 3:
        sprintf_s(&DstBuf, 0x104u, "%s_Test.exe", a1);
        break;
      default:
        sprintf_s(&DstBuf, 0x104u, "%s.exe", a1);
        break;
    }
    if ( sub_331930(&Filename, &DstBuf) )
      return 1;
  }
  return 0;
}
// 3A5C70: using guessed type int __security_cookie;

//----- (003315E0) --------------------------------------------------------
void *__thiscall sub_3315E0(void *this, LPCSTR lpMultiByteStr)
{
  int v3; // [sp+4h] [bp-1Ch]@2
  void *v4; // [sp+8h] [bp-18h]@1
  int v5; // [sp+Ch] [bp-14h]@1

  v4 = this;
  v5 = sub_3318B0(0xCu);
  if ( v5 )
    v3 = sub_331780(v5, lpMultiByteStr);
  else
    v3 = 0;
  *v4 = v3;
  if ( !*v4 )
    sub_3828A0(-2147024882);
  return v4;
}

//----- (00331680) --------------------------------------------------------
LONG __thiscall sub_331680(int *this)
{
  return sub_331750(this);
}

//----- (003316A0) --------------------------------------------------------
int __thiscall sub_3316A0(void *this)
{
  int v2; // [sp+4h] [bp-1Ch]@3
  void *v3; // [sp+8h] [bp-18h]@1
  int v4; // [sp+Ch] [bp-14h]@2

  v3 = this;
  if ( !*this )
  {
    v4 = sub_3318B0(0xCu);
    if ( v4 )
      v2 = sub_3317C0(v4, 0, 0);
    else
      v2 = 0;
    *v3 = v2;
    if ( !*v3 )
      sub_3828A0(-2147024882);
  }
  return _LocaleUpdate::GetLocaleT(*v3);
}
// 332D90: using guessed type int __thiscall _LocaleUpdate__GetLocaleT(_DWORD);

//----- (00331750) --------------------------------------------------------
LONG __thiscall sub_331750(int *this)
{
  LONG result; // eax@1
  int *v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  result = this;
  if ( *this )
  {
    result = sub_331830(*this);
    *v2 = 0;
  }
  return result;
}

//----- (00331780) --------------------------------------------------------
int __thiscall sub_331780(int this, LPCSTR lpMultiByteStr)
{
  int v2; // ST04_4@1

  v2 = this;
  *(this + 4) = 0;
  *(this + 8) = 1;
  *this = sub_3828C0(this, lpMultiByteStr);
  return v2;
}

//----- (003317C0) --------------------------------------------------------
int __thiscall sub_3317C0(int this, BSTR psz, char a3)
{
  UINT v3; // eax@3
  int v5; // [sp+0h] [bp-4h]@1

  v5 = this;
  *(this + 4) = 0;
  *(this + 8) = 1;
  if ( a3 && psz )
  {
    v3 = SysStringByteLen(psz);
    *v5 = SysAllocStringByteLen(psz, v3);
    if ( !*v5 )
      sub_3828A0(-2147024882);
  }
  else
  {
    *this = psz;
  }
  return v5;
}

//----- (00331830) --------------------------------------------------------
LONG __thiscall sub_331830(int this)
{
  BSTR *v2; // [sp+4h] [bp-10h]@1
  LONG v3; // [sp+10h] [bp-4h]@1

  v2 = this;
  v3 = InterlockedDecrement((this + 8));
  if ( !v3 && v2 )
    sub_331880(v2, 1);
  return v3;
}

//----- (00331880) --------------------------------------------------------
void *__thiscall sub_331880(BSTR *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_3318D0(this);
  if ( a2 & 1 )
    operator delete(v3);
  return v3;
}

//----- (003318B0) --------------------------------------------------------
int __cdecl sub_3318B0(size_t a1)
{
  return operator new(a1);
}

//----- (003318D0) --------------------------------------------------------
void __thiscall sub_3318D0(BSTR *this)
{
  sub_3318F0(this);
}

//----- (003318F0) --------------------------------------------------------
void __thiscall sub_3318F0(BSTR *this)
{
  BSTR *v1; // [sp+0h] [bp-8h]@1

  v1 = this;
  if ( *this )
    SysFreeString(*this);
  if ( v1[1] )
    operator delete(v1[1]);
}

//----- (00331930) --------------------------------------------------------
char *__cdecl sub_331930(const char *a1, const char *a2)
{
  return strstr(a1, a2);
}

//----- (00331950) --------------------------------------------------------
int __thiscall sub_331950(void *this)
{
  void *v2; // [sp-4h] [bp-Ch]@1
  void *v3; // [sp+0h] [bp-8h]@1

  v3 = this;
  v2 = this;
  _LocaleUpdate::GetLocaleT(&v2);
  sub_331E10(v3, v2);
  sub_331D90(v3, 0, 0);
  return v3;
}
// 332D90: using guessed type int __thiscall _LocaleUpdate__GetLocaleT(_DWORD);

//----- (00331980) --------------------------------------------------------
void *__thiscall sub_331980(void *this, wchar_t *a2)
{
  void *v3; // [sp-4h] [bp-Ch]@1
  void *v4; // [sp+0h] [bp-8h]@1

  v4 = this;
  v3 = this;
  _LocaleUpdate::GetLocaleT(&v3);
  sub_331E10(v4, v3);
  sub_331D90(v4, 0, 0);
  sub_331C50(v4, a2);
  return v4;
}
// 332D90: using guessed type int __thiscall _LocaleUpdate__GetLocaleT(_DWORD);

//----- (003319C0) --------------------------------------------------------
int __thiscall sub_3319C0(void *this, int a2)
{
  int v2; // ST0C_4@1

  v2 = this;
  sub_331E30(this, a2);
  sub_331D90(v2, 0, 0);
  sub_331B90(v2, a2, 0, dword_384458);
  return v2;
}
// 384458: using guessed type int dword_384458;

//----- (00331A00) --------------------------------------------------------
int __thiscall sub_331A00(int this)
{
  return sub_331D90(this, 1, 0);
}

//----- (00331A20) --------------------------------------------------------
int __thiscall sub_331A20(void *this, int a2)
{
  return sub_331B60(this, a2);
}

//----- (00331A40) --------------------------------------------------------
int __thiscall sub_331A40(void *this, const wchar_t *a2)
{
  return sub_331C50(this, a2);
}

//----- (00331A60) --------------------------------------------------------
void *__thiscall sub_331A60(int this)
{
  int v1; // ST14_4@1
  void *v2; // eax@1
  int v3; // edx@1
  void *v4; // eax@1
  int v5; // edx@1
  char v7; // [sp+4h] [bp-28h]@1
  char v8; // [sp+Ch] [bp-20h]@1
  int v9; // [sp+14h] [bp-18h]@1
  int v10; // [sp+18h] [bp-14h]@1
  char v11; // [sp+1Ch] [bp-10h]@1
  int v12; // [sp+24h] [bp-8h]@1
  int v13; // [sp+28h] [bp-4h]@1

  v1 = this;
  v2 = sub_331D60(this, &v11);
  v3 = *(v2 + 1);
  v12 = *v2;
  v13 = v3;
  v4 = sub_331D30(v1, &v8);
  v5 = *(v4 + 1);
  v9 = *v4;
  v10 = v5;
  return sub_331CA0(v1, &v7, v9, v5, v12, v13);
}

//----- (00331AC0) --------------------------------------------------------
int __thiscall sub_331AC0(void *this)
{
  return unknown_libname_3(this);
}

//----- (00331AE0) --------------------------------------------------------
bool __thiscall IsScriptLoaded(int this)
{
  return *(this + 20) == 0;
}

//----- (00331B00) --------------------------------------------------------
int __thiscall sub_331B00(int this)
{
  int v1; // ST14_4@1
  void *v2; // eax@1
  unsigned int v3; // edx@1
  void *v4; // eax@1
  unsigned int v5; // edx@1
  char v7; // [sp+4h] [bp-28h]@1
  char v8; // [sp+Ch] [bp-20h]@1
  int v9; // [sp+14h] [bp-18h]@1
  unsigned int v10; // [sp+18h] [bp-14h]@1
  char v11; // [sp+1Ch] [bp-10h]@1
  int v12; // [sp+24h] [bp-8h]@1
  unsigned int v13; // [sp+28h] [bp-4h]@1

  v1 = this;
  v2 = sub_331E80(this, &v11);
  v3 = *(v2 + 1);
  v12 = *v2;
  v13 = v3;
  v4 = sub_331E50(v1, &v8);
  v5 = *(v4 + 1);
  v9 = *v4;
  v10 = v5;
  return sub_331EB0(v1, &v7, v9, v5, v12, v13);
}

//----- (00331B60) --------------------------------------------------------
int __thiscall sub_331B60(void *this, int a2)
{
  return sub_331B90(this, a2, 0, dword_384458);
}
// 384458: using guessed type int dword_384458;

//----- (00331B90) --------------------------------------------------------
int __thiscall sub_331B90(void *this, int a2, unsigned int a3, int a4)
{
  void *v4; // ST08_4@8
  int v5; // ST04_4@8
  int v6; // eax@8
  int v7; // ecx@8
  int v9; // [sp+0h] [bp-8h]@1
  unsigned int v10; // [sp+4h] [bp-4h]@3

  v9 = this;
  if ( unknown_libname_1(a2) < a3 )
    sub_382BD7(v9);
  v10 = unknown_libname_1(a2) - a3;
  if ( a4 < v10 )
    v10 = a4;
  if ( v9 == a2 )
  {
    sub_331FE0(v9, v10 + a3, dword_384458);
    sub_331FE0(v9, 0, a3);
  }
  else
  {
    if ( sub_332100(v9, v10, 0) )
    {
      v4 = (unknown_libname_3(a2) + 2 * a3);
      v5 = *(v9 + 24);
      v6 = unknown_libname_3(v9);
      sub_332770(v7, v6, v5, v4, v10);
      sub_3320A0(v9, v10);
    }
  }
  return v9;
}
// 332080: using guessed type int __thiscall unknown_libname_1(_DWORD);
// 384458: using guessed type int dword_384458;

//----- (00331C50) --------------------------------------------------------
int __thiscall sub_331C50(void *this, const wchar_t *Src)
{
  int v2; // ST08_4@1
  int len; // eax@1

  v2 = this;
  len = wstrlen(Src);
  return sub_331F50(v2, Src, len);
}

//----- (00331C80) --------------------------------------------------------
size_t __cdecl wstrlen(const wchar_t *a1)
{
  return wcslen(a1);
}

//----- (00331CA0) --------------------------------------------------------
void *__thiscall sub_331CA0(int this, void *a2, char a3, int a4, char a5, int a6)
{
  int v6; // ST10_4@1
  void *v7; // eax@1
  int v8; // edx@1
  int v9; // eax@1
  int v10; // eax@1
  char v12; // [sp+4h] [bp-14h]@1
  int v13; // [sp+Ch] [bp-Ch]@1
  int v14; // [sp+10h] [bp-8h]@1
  int v15; // [sp+14h] [bp-4h]@1

  v6 = this;
  v7 = sub_331D30(this, &v12);
  v8 = *(v7 + 1);
  v13 = *v7;
  v14 = v8;
  v15 = sub_3321A0(a3, a4, v13);
  v9 = sub_3321A0(a5, a6, a3);
  sub_331FE0(v6, v15, v9);
  v10 = unknown_libname_3(v6);
  sub_332250(a2, v10 + 2 * v15, v6);
  return a2;
}

//----- (00331D30) --------------------------------------------------------
void *__thiscall sub_331D30(int this, void *a2)
{
  int v2; // ST04_4@1
  int v3; // eax@1

  v2 = this;
  v3 = unknown_libname_3(this);
  sub_332250(a2, v3, v2);
  return a2;
}

//----- (00331D60) --------------------------------------------------------
void *__thiscall sub_331D60(int this, void *a2)
{
  int v2; // ST08_4@1
  int v3; // ST04_4@1
  int v4; // eax@1

  v2 = this;
  v3 = this;
  v4 = unknown_libname_3(this);
  sub_332250(a2, v4 + 2 * *(v2 + 20), v3);
  return a2;
}

//----- (00331D90) --------------------------------------------------------
int __thiscall sub_331D90(int this, char a2, int a3)
{
  int v4; // [sp+0h] [bp-8h]@1
  void *Src; // [sp+4h] [bp-4h]@3

  v4 = this;
  if ( a2 && *(this + 24) >= 8u )
  {
    Src = *(this + 4);
    if ( a3 )
      sub_332770(a3, (this + 4), 8, Src, a3);
    unknown_libname_108(Src, *(v4 + 24) + 1);
  }
  *(v4 + 24) = 7;
  return sub_3320A0(v4, a3);
}

//----- (00331E10) --------------------------------------------------------
void *__thiscall sub_331E10(void *this, char a2)
{
  void *v2; // ST04_4@1

  v2 = this;
  std::_Init_locks::operator_(&a2);
  return v2;
}
// 333910: using guessed type _DWORD __stdcall std___Init_locks__operator_(_DWORD);

//----- (00331E30) --------------------------------------------------------
void *__thiscall sub_331E30(void *this, int a2)
{
  void *v2; // ST04_4@1

  v2 = this;
  std::_Init_locks::operator_(a2);
  return v2;
}
// 333910: using guessed type _DWORD __stdcall std___Init_locks__operator_(_DWORD);

//----- (00331E50) --------------------------------------------------------
void *__thiscall sub_331E50(int this, void *a2)
{
  sub_332270(a2, *(this + 12), this);
  return a2;
}

//----- (00331E80) --------------------------------------------------------
void *__thiscall sub_331E80(int this, void *a2)
{
  sub_332270(a2, *(this + 16), this);
  return a2;
}

//----- (00331EB0) --------------------------------------------------------
int __thiscall sub_331EB0(int this, int a2, int a3, unsigned int a4, int a5, unsigned int a6)
{
  int v6; // ST10_4@2
  int v8; // [sp+0h] [bp-18h]@1
  char v9; // [sp+8h] [bp-10h]@1
  int v10; // [sp+Ch] [bp-Ch]@2
  int v11; // [sp+10h] [bp-8h]@1
  int v12; // [sp+14h] [bp-4h]@2

  v8 = this;
  sub_332200(this, &v11, a3, a4);
  sub_332200(v8, &v9, a5, a6);
  if ( sub_332290(&v11, &v9) )
  {
    v6 = sub_3327A0(v10, *(v8 + 16), v12);
    sub_332220(v6, *(v8 + 16));
    *(v8 + 16) = v6;
  }
  *a2 = v11;
  *(a2 + 4) = v12;
  return a2;
}

//----- (00331F50) --------------------------------------------------------
int __thiscall sub_331F50(int this, char *Src, int len)
{
  int v3; // eax@2
  int result; // eax@2
  int v5; // ST04_4@4
  int v6; // eax@4
  int v7; // ecx@4
  int v8; // [sp+0h] [bp-4h]@1

  v8 = this;
  if ( sub_332480(this, Src) )
  {
    v3 = unknown_libname_3(v8);
    result = sub_331B90(v8, v8, &Src[-v3] >> 1, len);
  }
  else
  {
    if ( sub_332100(v8, len, 0) )
    {
      v5 = *(v8 + 24);
      v6 = unknown_libname_3(v8);
      sub_332770(v7, v6, v5, Src, len);
      sub_3320A0(v8, len);
    }
    result = v8;
  }
  return result;
}

//----- (00331FE0) --------------------------------------------------------
int __thiscall sub_331FE0(int this, unsigned int a2, int a3)
{
  int v3; // ST0C_4@6
  void *v4; // ST08_4@6
  int v5; // ST04_4@6
  int v6; // eax@6
  int v7; // ecx@6
  int v9; // [sp+0h] [bp-8h]@1

  v9 = this;
  if ( *(this + 20) < a2 )
    sub_382BD7(this);
  if ( *(this + 20) - a2 < a3 )
    a3 = *(this + 20) - a2;
  if ( a3 )
  {
    v3 = *(this + 20) - a2 - a3;
    v4 = (unknown_libname_3(this) + 2 * a2 + 2 * a3);
    v5 = *(v9 + 24) - a2;
    v6 = unknown_libname_3(v9);
    sub_332810(v7, (v6 + 2 * a2), v5, v4, v3);
    sub_3320A0(v9, *(v9 + 20) - a3);
  }
  return v9;
}

//----- (003320A0) --------------------------------------------------------
int __thiscall sub_3320A0(int this, int a2)
{
  int v2; // eax@1
  __int16 v4; // [sp+6h] [bp-2h]@1

  v4 = 0;
  *(this + 20) = a2;
  v2 = unknown_libname_3(this);
  return unknown_libname_2(v2 + 2 * a2, &v4);
}
// 3320E0: using guessed type _DWORD __cdecl unknown_libname_2(_DWORD, _DWORD);

//----- (00332100) --------------------------------------------------------
bool __thiscall sub_332100(void *this, int a2, char a3)
{
  int v4; // [sp+0h] [bp-8h]@8
  int v5; // [sp+4h] [bp-4h]@1

  v5 = this;
  if ( sub_3322C0() < a2 )
    sub_382B9F();
  if ( *(v5 + 24) >= a2 )
  {
    if ( a3 && a2 < 8 )
    {
      if ( a2 >= *(v5 + 20) )
        v4 = *(v5 + 20);
      else
        v4 = a2;
      sub_331D90(v5, 1, v4);
    }
    else
    {
      if ( !a2 )
        sub_3320A0(v5, 0);
    }
  }
  else
  {
    sub_332300(v5, a2, *(v5 + 20));
  }
  return a2 > 0;
}

//----- (003321A0) --------------------------------------------------------
int __cdecl sub_3321A0(char a1, int a2, char a3)
{
  int v4; // [sp+0h] [bp-4h]@2

  if ( a2 )
    v4 = sub_332530(&a1, &a3);
  else
    v4 = 0;
  return v4;
}

//----- (00332200) --------------------------------------------------------
void *__thiscall sub_332200(int this, void *a2, int a3, unsigned int a4)
{
  sub_332270(a2, a4, this);
  return a2;
}

//----- (00332220) --------------------------------------------------------
int __stdcall sub_332220(int a2, int a3)
{
  return sub_332840(a2, a3);
}

//----- (00332250) --------------------------------------------------------
void *__thiscall sub_332250(void *this, unsigned int a2, int a3)
{
  void *v3; // ST08_4@1

  v3 = this;
  sub_3324C0(this, a2, a3);
  return v3;
}

//----- (00332270) --------------------------------------------------------
void *__thiscall sub_332270(void *this, unsigned int a2, int a3)
{
  void *v3; // ST08_4@1

  v3 = this;
  sub_3325A0(this, a2, a3);
  return v3;
}

//----- (00332290) --------------------------------------------------------
bool __thiscall sub_332290(void *this, int a2)
{
  return sub_332620(this, a2) == 0;
}

//----- (003322C0) --------------------------------------------------------
int __cdecl sub_3322C0()
{
  int v1; // [sp+0h] [bp-Ch]@2
  int v2; // [sp+8h] [bp-4h]@1

  v2 = unknown_libname_4();
  if ( v2 > 1 )
    v1 = v2 - 1;
  else
    v1 = 1;
  return v1;
}
// 332710: using guessed type int unknown_libname_4(void);

//----- (00332300) --------------------------------------------------------
int __thiscall sub_332300(void *this, int a2, int a3)
{
  int v3; // eax@7
  int v4; // ecx@7
  int v6; // [sp+0h] [bp-34h]@1
  void *v7; // [sp+14h] [bp-20h]@6
  int v8; // [sp+18h] [bp-1Ch]@1
  int v9; // [sp+1Ch] [bp-18h]@1
  void *Dst; // [sp+20h] [bp-14h]@6
  int *v11; // [sp+24h] [bp-10h]@1
  int v12; // [sp+30h] [bp-4h]@6

  v11 = &v6;
  v8 = this;
  v9 = a2 | 7;
  if ( sub_3322C0() >= (a2 | 7u) )
  {
    if ( v9 / 3u < *(v8 + 24) >> 1 && *(v8 + 24) <= (sub_3322C0() - (*(v8 + 24) >> 1)) )
      v9 = *(v8 + 24) + (*(v8 + 24) >> 1);
  }
  else
  {
    v9 = a2;
  }
  Dst = 0;
  v12 = 0;
  v7 = sub_3326F0(v9 + 1);
  Dst = v7;
  v12 = -1;
  if ( a3 )
  {
    v3 = unknown_libname_3(v8);
    sub_332770(v4, Dst, v9 + 1, v3, a3);
  }
  sub_331D90(v8, 1, 0);
  *(v8 + 4) = Dst;
  *(v8 + 24) = v9;
  return sub_3320A0(v8, a3);
}
// 3326F0: using guessed type _DWORD __stdcall sub_3326F0(_DWORD);

//----- (00332480) --------------------------------------------------------
bool __thiscall sub_332480(int this, char *a2)
{
  int v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  return a2 && a2 >= unknown_libname_3(this) && unknown_libname_3(v3) + 2 * *(v3 + 20) > a2;
}

//----- (003324C0) --------------------------------------------------------
int __thiscall sub_3324C0(void *this, unsigned int a2, int a3)
{
  int v4; // [sp+0h] [bp-4h]@1

  std::_String_base::_String_base(this);
  if ( !a3 || !a2 || unknown_libname_3(a3) > a2 || a2 > unknown_libname_3(a3) + 2 * *(a3 + 20) )
    _invalid_parameter_noinfo();
  *v4 = a3;
  *(v4 + 4) = a2;
  return v4;
}
// 332690: using guessed type int __cdecl std___String_base___String_base(_DWORD);
// 374499: using guessed type int _invalid_parameter_noinfo(void);

//----- (00332530) --------------------------------------------------------
int __thiscall sub_332530(void *this, int a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  if ( *this != -4 && (!sub_332580(this) || !sub_332670(v3, a2)) )
    _invalid_parameter_noinfo();
  return (*(v3 + 1) - *(a2 + 4)) >> 1;
}
// 374499: using guessed type int _invalid_parameter_noinfo(void);

//----- (00332580) --------------------------------------------------------
bool __thiscall sub_332580(void *this)
{
  return *this != 0;
}

//----- (003325A0) --------------------------------------------------------
void *__thiscall sub_3325A0(void *this, unsigned int a2, int a3)
{
  void *v4; // [sp+0h] [bp-4h]@1

  v4 = this;
  sub_3326B0(this);
  if ( !a3 || *(a3 + 12) > a2 || a2 > *(a3 + 16) )
    _invalid_parameter_noinfo();
  sub_332600(v4, a3);
  *(v4 + 1) = a2;
  return v4;
}
// 374499: using guessed type int _invalid_parameter_noinfo(void);

//----- (00332600) --------------------------------------------------------
void *__thiscall sub_332600(void *this, int a2)
{
  void *result; // eax@1

  result = this;
  *this = *a2;
  return result;
}

//----- (00332620) --------------------------------------------------------
bool __thiscall sub_332620(void *this, int a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  if ( !sub_332580(this) || !sub_332670(v3, a2) )
    _invalid_parameter_noinfo();
  return *(v3 + 1) == *(a2 + 4);
}
// 374499: using guessed type int _invalid_parameter_noinfo(void);

//----- (00332670) --------------------------------------------------------
bool __thiscall sub_332670(void *this, int a2)
{
  return *this == *a2;
}

//----- (003326B0) --------------------------------------------------------
int __thiscall sub_3326B0(void *this)
{
  int v1; // ST00_4@1

  std::_String_base::_String_base(this);
  return v1;
}
// 332690: using guessed type int __cdecl std___String_base___String_base(_DWORD);

//----- (003326F0) --------------------------------------------------------
int __stdcall sub_3326F0(int a1)
{
  return unknown_libname_5(a1);
}
// 3326F0: using guessed type _DWORD __stdcall sub_3326F0(_DWORD);
// 332880: using guessed type _DWORD __cdecl unknown_libname_5(_DWORD);

//----- (00332740) --------------------------------------------------------
int _vswprintf_s(wchar_t *Dst, const wchar_t *Format, ...)
{
  va_list va; // [sp+14h] [bp+10h]@1

  va_start(va, Format);
  return vswprintf_s(Dst, 0x20u, Format, va);
}

//----- (00332770) --------------------------------------------------------
int __thiscall sub_332770(int this, void *Dst, int a3, void *Src, int a5)
{
  unknown_libname_8(this);
  return sub_332980(Dst, a3, Src, a5);
}

//----- (003327A0) --------------------------------------------------------
int __cdecl sub_3327A0(char a1, char a2, int a3)
{
  int v3; // ST0C_4@1
  int v4; // ST08_4@1
  int v5; // ST04_4@1
  int v6; // eax@1
  char v8; // [sp+1h] [bp-3h]@1
  char v9; // [sp+2h] [bp-2h]@1
  char v10; // [sp+3h] [bp-1h]@1

  v10 = 0;
  v9 = unknown_libname_8(&a3);
  v3 = *unknown_libname_6(&v8);
  v4 = a3;
  v5 = sub_3329F0(&a2);
  v6 = sub_3329F0(&a1);
  return sub_332A20(v6, v5, v4);
}
// 332A10: using guessed type _DWORD __cdecl unknown_libname_6(_DWORD);

//----- (00332810) --------------------------------------------------------
void *__thiscall sub_332810(int this, void *Dst, int a3, void *Src, int a5)
{
  unknown_libname_8(this);
  return sub_332A80(Dst, a3, Src, a5);
}

//----- (00332840) --------------------------------------------------------
int __cdecl sub_332840(int a1, int a2)
{
  unknown_libname_8(&a1);
  return sub_332AF0(a1, a2);
}

//----- (003328D0) --------------------------------------------------------
void *__thiscall sub_3328D0(void *this, char a2)
{
  void *v2; // ST04_4@1

  v2 = this;
  std::exception::exception(&a2);
  *v2 = &off_384460;
  return v2;
}
// 3746AB: using guessed type _DWORD __stdcall std__exception__exception(_DWORD);
// 384460: using guessed type int (__stdcall *off_384460)(int);

//----- (00332900) --------------------------------------------------------
void __thiscall sub_332900(void *this)
{
  *this = &off_384460;
  sub_374778(this);
}
// 384460: using guessed type int (__stdcall *off_384460)(int);

//----- (00332920) --------------------------------------------------------
void *__thiscall sub_332920(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_332900(this);
  if ( a2 & 1 )
    operator delete(v3);
  return v3;
}

//----- (00332950) --------------------------------------------------------
void *__thiscall sub_332950(void *this, int a2)
{
  void *v2; // ST04_4@1

  v2 = this;
  std::exception::exception(a2);
  *v2 = &off_384460;
  return v2;
}
// 37471B: using guessed type _DWORD __stdcall std__exception__exception(_DWORD);
// 384460: using guessed type int (__stdcall *off_384460)(int);

//----- (00332980) --------------------------------------------------------
int __cdecl sub_332980(void *Dst, int a2, void *Src, int a4)
{
  return unknown_libname_107(Dst, a2, Src, a4);
}

//----- (003329F0) --------------------------------------------------------
int __cdecl sub_3329F0(int a1)
{
  return sub_332B40(a1);
}

//----- (00332A20) --------------------------------------------------------
int __cdecl sub_332A20(int a1, int a2, int a3)
{
  int v3; // ST1C_4@1
  int v4; // eax@1

  v3 = a3 + 28 * (a2 - a1) / 28;
  v4 = sub_3329F0(&a3);
  sub_332B50(a1, a2, v4);
  return v3;
}

//----- (00332A80) --------------------------------------------------------
void *__cdecl sub_332A80(void *Dst, int a2, void *Src, int a4)
{
  return sub_332AA0(Dst, a2, Src, a4);
}

//----- (00332AA0) --------------------------------------------------------
void *__cdecl sub_332AA0(void *Dst, int a2, void *Src, int a4)
{
  wmemmove_s(Dst, a2, Src, a4);
  return Dst;
}

//----- (00332AF0) --------------------------------------------------------
int __cdecl sub_332AF0(int a1, int a2)
{
  int result; // eax@2

  while ( a1 != a2 )
  {
    sub_332B20(a1);
    result = a1 + 28;
    a1 += 28;
  }
  return result;
}
// 332B20: using guessed type _DWORD __stdcall sub_332B20(_DWORD);

//----- (00332B20) --------------------------------------------------------
int __stdcall sub_332B20(int a1)
{
  return sub_332B90(a1);
}
// 332B20: using guessed type _DWORD __stdcall sub_332B20(_DWORD);

//----- (00332B40) --------------------------------------------------------
int __cdecl sub_332B40(int a1)
{
  return *a1;
}

//----- (00332B50) --------------------------------------------------------
void *__cdecl sub_332B50(int a1, int a2, void *a3)
{
  while ( a1 != a2 )
  {
    sub_331A20(a3, a1);
    a3 = a3 + 28;
    a1 += 28;
  }
  return a3;
}

//----- (00332B90) --------------------------------------------------------
int __cdecl sub_332B90(int a1)
{
  return sub_332BA0(a1, 0);
}

//----- (00332BA0) --------------------------------------------------------
int __thiscall sub_332BA0(int this, char a2)
{
  int v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_331A00(this);
  if ( a2 & 1 )
    operator delete(v3);
  return v3;
}

//----- (00332BD0) --------------------------------------------------------
int __thiscall sub_332BD0(void *this)
{
  void *v2; // [sp-4h] [bp-1Ch]@1
  void *v3; // [sp+4h] [bp-14h]@1
  void **v4; // [sp+8h] [bp-10h]@1
  int v5; // [sp+14h] [bp-4h]@1

  v3 = this;
  v2 = this;
  v4 = &v2;
  _LocaleUpdate::GetLocaleT(&v2);
  sub_332CE0(v3, v2);
  v5 = 0;
  sub_332C60(v3, 0);
  return v3;
}
// 332D90: using guessed type int __thiscall _LocaleUpdate__GetLocaleT(_DWORD);

//----- (00332C40) --------------------------------------------------------
int __thiscall sub_332C40(void **this)
{
  return sub_332D20(this);
}

//----- (00332C60) --------------------------------------------------------
char __thiscall sub_332C60(int this, unsigned int a2)
{
  char result; // al@2
  int v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  *(this + 12) = 0;
  *(this + 16) = 0;
  *(this + 20) = 0;
  if ( a2 )
  {
    if ( sub_332DA0() < a2 )
      sub_332DC0();
    *(v3 + 12) = sub_3335C0(a2);
    *(v3 + 16) = *(v3 + 12);
    *(v3 + 20) = *(v3 + 12) + 28 * a2;
    result = 1;
  }
  else
  {
    result = 0;
  }
  return result;
}
// 3335C0: using guessed type _DWORD __stdcall sub_3335C0(_DWORD);

//----- (00332CE0) --------------------------------------------------------
void *__thiscall sub_332CE0(void *this, char a2)
{
  void *v3; // [sp-4h] [bp-Ch]@1
  void *v4; // [sp+0h] [bp-8h]@1
  void **v5; // [sp+4h] [bp-4h]@1

  v4 = this;
  v3 = this;
  v5 = &v3;
  std::_Init_locks::operator_(&a2);
  sub_3334C0(v4, v3);
  std::_Init_locks::operator_(&a2);
  return v4;
}
// 333910: using guessed type _DWORD __stdcall std___Init_locks__operator_(_DWORD);

//----- (00332D20) --------------------------------------------------------
int __thiscall sub_332D20(void **this)
{
  void **v1; // ST0C_4@1

  v1 = this;
  unknown_libname_108(*this, 1);
  return std::_Init_locks::__Init_locks(v1);
}
// 332D80: using guessed type int __thiscall std___Init_locks____Init_locks(_DWORD);

//----- (00332DA0) --------------------------------------------------------
signed int __cdecl sub_332DA0()
{
  return sub_333810();
}

//----- (00332DC0) --------------------------------------------------------
void __cdecl sub_332DC0()
{
  char v0; // [sp+4h] [bp-50h]@1
  char v1; // [sp+20h] [bp-34h]@1
  int v2; // [sp+50h] [bp-4h]@1

  sub_333020(&v0, "vector<T> too long");
  v2 = 0;
  sub_332E40(&v1, &v0);
  _CxxThrowException(&v1, &unk_3A0674);
}
// 3742F0: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (00332E40) --------------------------------------------------------
int __thiscall sub_332E40(int this, int a2)
{
  int v2; // ST04_4@1

  v2 = this;
  sub_332E70(this, a2);
  *v2 = &off_384480;
  return v2;
}
// 384480: using guessed type int (__stdcall *off_384480)(int);

//----- (00332E70) --------------------------------------------------------
int __thiscall sub_332E70(int this, int a2)
{
  int v2; // ST08_4@1

  v2 = this;
  sub_37469A(this);
  *v2 = &off_38448C;
  sub_333060((v2 + 12), a2);
  return v2;
}
// 38448C: using guessed type int (__stdcall *off_38448C)(int);

//----- (00332F00) --------------------------------------------------------
void *__thiscall sub_332F00(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_332F30(this);
  if ( a2 & 1 )
    operator delete(v3);
  return v3;
}

//----- (00332F30) --------------------------------------------------------
void __thiscall sub_332F30(void *this)
{
  int v1; // ST00_4@1

  v1 = this;
  *this = &off_38448C;
  sub_3330A0((this + 12));
  sub_374778(v1);
}
// 38448C: using guessed type int (__stdcall *off_38448C)(int);

//----- (00332F60) --------------------------------------------------------
void __thiscall sub_332F60(void *this)
{
  *this = &off_384480;
  sub_332F30(this);
}
// 384480: using guessed type int (__stdcall *off_384480)(int);

//----- (00332F80) --------------------------------------------------------
void *__thiscall sub_332F80(void *this, char a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  sub_332F60(this);
  if ( a2 & 1 )
    operator delete(v3);
  return v3;
}

//----- (00332FB0) --------------------------------------------------------
void *__thiscall sub_332FB0(void *this, int a2)
{
  void *v2; // ST08_4@1

  v2 = this;
  std::exception::exception(a2);
  *v2 = &off_38448C;
  sub_333060(v2 + 12, a2 + 12);
  return v2;
}
// 37471B: using guessed type _DWORD __stdcall std__exception__exception(_DWORD);
// 38448C: using guessed type int (__stdcall *off_38448C)(int);

//----- (00333020) --------------------------------------------------------
int __thiscall sub_333020(void *this, char *a2)
{
  void *v3; // [sp-4h] [bp-Ch]@1
  void *v4; // [sp+0h] [bp-8h]@1

  v4 = this;
  v3 = this;
  _LocaleUpdate::GetLocaleT(&v3);
  sub_331E10(v4, v3);
  sub_3331F0(v4, 0, 0);
  sub_3331A0(v4, a2);
  return v4;
}
// 332D90: using guessed type int __thiscall _LocaleUpdate__GetLocaleT(_DWORD);

//----- (00333060) --------------------------------------------------------
void *__thiscall sub_333060(void *this, int a2)
{
  void *v2; // ST0C_4@1

  v2 = this;
  sub_331E30(this, a2);
  sub_3331F0(v2, 0, 0);
  sub_3330E0(v2, a2, 0, dword_384458);
  return v2;
}
// 384458: using guessed type int dword_384458;

//----- (003330A0) --------------------------------------------------------
int __thiscall sub_3330A0(int this)
{
  return sub_3331F0(this, 1, 0);
}

//----- (003330C0) --------------------------------------------------------
int __thiscall sub_3330C0(void *this)
{
  return unknown_libname_7(this);
}
// 333270: using guessed type int __cdecl unknown_libname_7(_DWORD);

//----- (003330E0) --------------------------------------------------------
int __thiscall sub_3330E0(void *this, int a2, int a3, int a4)
{
  void *v4; // ST08_4@8
  void *v5; // eax@8
  int v6; // ecx@8
  rsize_t v7; // ST04_4@8
  rsize_t v8; // ST0C_4@8
  int v10; // [sp+0h] [bp-8h]@1
  int MaxCount; // [sp+4h] [bp-4h]@3

  v10 = this;
  if ( unknown_libname_1(a2) < a3 )
    sub_382BD7(v10);
  MaxCount = unknown_libname_1(a2) - a3;
  if ( a4 < MaxCount )
    MaxCount = a4;
  if ( v10 == a2 )
  {
    sub_333330(v10, MaxCount + a3, dword_384458);
    sub_333330(v10, 0, a3);
  }
  else
  {
    if ( sub_333420(v10, MaxCount, 0) )
    {
      v4 = (a3 + unknown_libname_7(MaxCount));
      v5 = unknown_libname_7(*(v10 + 24));
      sub_3338B0(v6, v5, v7, v4, v8);
      sub_3333D0(v10, MaxCount);
    }
  }
  return v10;
}
// 332080: using guessed type int __thiscall unknown_libname_1(_DWORD);
// 333270: using guessed type int __cdecl unknown_libname_7(_DWORD);
// 384458: using guessed type int dword_384458;

//----- (003331A0) --------------------------------------------------------
int __thiscall sub_3331A0(void *this, char *Src)
{
  void *v2; // ST08_4@1
  rsize_t v3; // eax@1

  v2 = this;
  v3 = std::char_traits<char>::length(Src);
  return sub_3332A0(v2, Src, v3);
}

//----- (003331F0) --------------------------------------------------------
int __thiscall sub_3331F0(int this, char a2, rsize_t MaxCount)
{
  int v4; // [sp+0h] [bp-8h]@1
  void *Src; // [sp+4h] [bp-4h]@3

  v4 = this;
  if ( a2 && *(this + 24) >= 0x10u )
  {
    Src = *(this + 4);
    if ( MaxCount )
      sub_3338B0(MaxCount, (this + 4), 0x10u, Src, MaxCount);
    unknown_libname_108(Src, *(v4 + 24) + 1);
  }
  *(v4 + 24) = 15;
  return sub_3333D0(v4, MaxCount);
}

//----- (003332A0) --------------------------------------------------------
int __thiscall sub_3332A0(void *this, char *Src, rsize_t MaxCount)
{
  int v3; // eax@2
  int v4; // ST0C_4@2
  int result; // eax@2
  void *v6; // eax@4
  int v7; // ecx@4
  rsize_t v8; // ST04_4@4
  int v9; // [sp+0h] [bp-4h]@1

  v9 = this;
  if ( sub_3337D0(this, Src) )
  {
    v3 = unknown_libname_7(MaxCount);
    result = sub_3330E0(v9, v9, &Src[-v3], v4);
  }
  else
  {
    if ( sub_333420(v9, MaxCount, 0) )
    {
      v6 = unknown_libname_7(*(v9 + 24));
      sub_3338B0(v7, v6, v8, Src, MaxCount);
      sub_3333D0(v9, MaxCount);
    }
    result = v9;
  }
  return result;
}
// 333270: using guessed type int __cdecl unknown_libname_7(_DWORD);

//----- (00333330) --------------------------------------------------------
int __thiscall sub_333330(int this, unsigned int a2, int a3)
{
  void *v3; // ST08_4@6
  int v4; // eax@6
  int v5; // ecx@6
  rsize_t v6; // ST04_4@6
  rsize_t v7; // ST0C_4@6
  int v9; // [sp+0h] [bp-8h]@1

  v9 = this;
  if ( *(this + 20) < a2 )
    sub_382BD7(this);
  if ( *(this + 20) - a2 < a3 )
    a3 = *(this + 20) - a2;
  if ( a3 )
  {
    v3 = (a3 + a2 + unknown_libname_7(*(this + 20) - a2 - a3));
    v4 = unknown_libname_7(*(v9 + 24) - a2);
    sub_3338E0(v5, (a2 + v4), v6, v3, v7);
    sub_3333D0(v9, *(v9 + 20) - a3);
  }
  return v9;
}
// 333270: using guessed type int __cdecl unknown_libname_7(_DWORD);

//----- (003333D0) --------------------------------------------------------
int __thiscall sub_3333D0(int this, int a2)
{
  int v2; // eax@1
  int v3; // ST04_4@1
  char v5; // [sp+7h] [bp-1h]@1

  v5 = 0;
  *(this + 20) = a2;
  v2 = unknown_libname_7(&v5);
  return std::char_traits<char>::assign(a2 + v2, v3);
}
// 333270: using guessed type int __cdecl unknown_libname_7(_DWORD);
// 333410: using guessed type _DWORD __cdecl std__char_traits_char___assign(_DWORD, _DWORD);

//----- (00333420) --------------------------------------------------------
bool __thiscall sub_333420(void *this, int a2, char a3)
{
  rsize_t MaxCount; // [sp+0h] [bp-8h]@8
  int v5; // [sp+4h] [bp-4h]@1

  v5 = this;
  if ( unknown_libname_105(this) < a2 )
    sub_382B9F();
  if ( *(v5 + 24) >= a2 )
  {
    if ( a3 && a2 < 0x10 )
    {
      if ( a2 >= *(v5 + 20) )
        MaxCount = *(v5 + 20);
      else
        MaxCount = a2;
      sub_3331F0(v5, 1, MaxCount);
    }
    else
    {
      if ( !a2 )
        sub_3333D0(v5, 0);
    }
  }
  else
  {
    sub_333650(v5, a2, *(v5 + 20));
  }
  return a2 > 0;
}
// 333610: using guessed type int __thiscall unknown_libname_105(_DWORD);

//----- (003334C0) --------------------------------------------------------
void *__thiscall sub_3334C0(void *this, char a2)
{
  int v2; // ST14_4@1
  int v4; // [sp+4h] [bp-20h]@2
  void *v5; // [sp+8h] [bp-1Ch]@1

  v5 = this;
  _LocaleUpdate::GetLocaleT(this);
  std::_Init_locks::operator_(&a2);
  v2 = sub_333840(1u);
  if ( operator new(4u, v2) )
    v4 = sub_3335A0(v5);
  else
    v4 = 0;
  *v5 = v4;
  return v5;
}
// 332D90: using guessed type int __thiscall _LocaleUpdate__GetLocaleT(_DWORD);
// 3335A0: using guessed type _DWORD __stdcall sub_3335A0(_DWORD);
// 333910: using guessed type _DWORD __stdcall std___Init_locks__operator_(_DWORD);

//----- (003335C0) --------------------------------------------------------
int __stdcall sub_3335C0(unsigned int a1)
{
  return sub_333920(a1);
}
// 3335C0: using guessed type _DWORD __stdcall sub_3335C0(_DWORD);

//----- (003335E0) --------------------------------------------------------
void *__thiscall sub_3335E0(void *this, int a2)
{
  void *v2; // ST04_4@1

  v2 = this;
  sub_332FB0(this, a2);
  *v2 = &off_384480;
  return v2;
}
// 384480: using guessed type int (__stdcall *off_384480)(int);

//----- (00333650) --------------------------------------------------------
int __thiscall sub_333650(void *this, int a2, int MaxCount)
{
  int v3; // esi@4
  int v4; // eax@4
  void *v5; // eax@7
  int v6; // ecx@7
  rsize_t v7; // ST0C_4@7
  int v9; // [sp+0h] [bp-34h]@1
  void *v10; // [sp+14h] [bp-20h]@6
  int v11; // [sp+18h] [bp-1Ch]@1
  int v12; // [sp+1Ch] [bp-18h]@1
  void *Dst; // [sp+20h] [bp-14h]@6
  int *v14; // [sp+24h] [bp-10h]@1
  int v15; // [sp+30h] [bp-4h]@6

  v14 = &v9;
  v11 = this;
  v12 = a2 | 0xF;
  if ( (unknown_libname_105)() >= (a2 | 0xFu) )
  {
    if ( v12 / 3u < *(v11 + 24) >> 1 )
    {
      v3 = *(v11 + 24) >> 1;
      v4 = unknown_libname_105(v11);
      if ( *(v11 + 24) <= (v4 - v3) )
        v12 = *(v11 + 24) + (*(v11 + 24) >> 1);
    }
  }
  else
  {
    v12 = a2;
  }
  Dst = 0;
  v15 = 0;
  v10 = std::allocator<char>::allocate(v12 + 1);
  Dst = v10;
  v15 = -1;
  if ( MaxCount )
  {
    v5 = unknown_libname_7(MaxCount);
    sub_3338B0(v6, Dst, v12 + 1, v5, v7);
  }
  sub_3331F0(v11, 1, 0);
  *(v11 + 4) = Dst;
  *(v11 + 24) = v12;
  return sub_3333D0(v11, MaxCount);
}
// 333270: using guessed type int __cdecl unknown_libname_7(_DWORD);
// 333610: using guessed type int __thiscall unknown_libname_105(_DWORD);

//----- (003337D0) --------------------------------------------------------
bool __thiscall sub_3337D0(void *this, unsigned int a2)
{
  int v2; // eax@3
  int v3; // ST00_4@3
  int v5; // [sp+0h] [bp-4h]@2

  return a2 && a2 >= unknown_libname_7(this) && (v2 = unknown_libname_7(v5), *(v3 + 20) + v2 > a2);
}
// 333270: using guessed type int __cdecl unknown_libname_7(_DWORD);

//----- (00333810) --------------------------------------------------------
signed int __cdecl sub_333810()
{
  return 153391689;
}

//----- (00333840) --------------------------------------------------------
int __stdcall sub_333840(unsigned int a1)
{
  return sub_333970(a1);
}

//----- (003338B0) --------------------------------------------------------
int __thiscall sub_3338B0(int this, void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount)
{
  unknown_libname_8(this);
  return std::_Traits_helper::copy_s<std::char_traits<char>>(Dst, DstSize, Src, MaxCount);
}

//----- (003338E0) --------------------------------------------------------
int __thiscall sub_3338E0(int this, void *Dst, rsize_t DstSize, void *Src, rsize_t MaxCount)
{
  unknown_libname_8(this);
  return std::_Traits_helper::move_s<std::char_traits<char>>(Dst, DstSize, Src, MaxCount);
}

//----- (00333920) --------------------------------------------------------
int __cdecl sub_333920(unsigned int a1)
{
  char v2; // [sp+0h] [bp-Ch]@4

  if ( a1 )
  {
    if ( 0xFFFFFFFF / a1 < 0x1C )
    {
      sub_3328D0(&v2, 0);
      _CxxThrowException(&v2, &unk_3A05C8);
    }
  }
  else
  {
    a1 = 0;
  }
  return operator new(28 * a1);
}
// 3742F0: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (00333970) --------------------------------------------------------
int __cdecl sub_333970(unsigned int a1)
{
  char v2; // [sp+0h] [bp-Ch]@4

  if ( a1 )
  {
    if ( 0xFFFFFFFF / a1 < 4 )
    {
      sub_3328D0(&v2, 0);
      _CxxThrowException(&v2, &unk_3A05C8);
    }
  }
  else
  {
    a1 = 0;
  }
  return operator new(4 * a1);
}
// 3742F0: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (00333AA0) --------------------------------------------------------
int __thiscall sub_333AA0(ScriptObject *this)
{
  void **v1; // ST04_4@1

  v1 = this;
  sub_333B00(this);
  return sub_332C40(v1);
}

//----- (00333B00) --------------------------------------------------------
ScriptObject *__thiscall sub_333B00(ScriptObject *this)
{
  ScriptObject *result; // eax@3
  ScriptObject *v2; // [sp+0h] [bp-4h]@1

  v2 = this;
  if ( this[3].vtable )
  {
    sub_332220(this[3].vtable, this[4].vtable);
    unknown_libname_108(v2[3].vtable, (v2[5].vtable - v2[3].vtable) / 28);
  }
  v2[3].vtable = 0;
  v2[4].vtable = 0;
  result = v2;
  v2[5].vtable = 0;
  return result;
}

//----- (00333BA0) --------------------------------------------------------
signed int __cdecl CheckScript_by_flags_route_0(ScriptObject *a1)
{
  signed int v2; // [sp+0h] [bp-4h]@2

  if ( (a1->vtable->IsFlagSet)(a1, L"SP103") )
  {
    v2 = 14;
  }
  else
  {
    if ( (a1->vtable->IsFlagSet)(a1, L"SP102") )
    {
      v2 = 13;
    }
    else
    {
      if ( (a1->vtable->IsFlagSet)(a1, L"SP101") )
      {
        v2 = 12;
      }
      else
      {
        if ( (a1->vtable->IsFlagSet)(a1, L"SP100") )
          v2 = 11;
        else
          v2 = 0;
      }
    }
  }
  return v2;
}
// 3844A4: using guessed type wchar_t aSp103[6];
// 3844B0: using guessed type wchar_t aSp102[6];
// 3844BC: using guessed type wchar_t aSp101[6];
// 3844C8: using guessed type wchar_t aSp100[6];

//----- (00333C40) --------------------------------------------------------
signed int __cdecl CheckScript_by_flags_route_1(int a1)
{
  signed int v2; // [sp+0h] [bp-4h]@2

  if ( (*(*a1 + 16))(a1, L"SP208") )
  {
    v2 = 19;
  }
  else
  {
    if ( (*(*a1 + 16))(a1, L"SP207") )
    {
      v2 = 18;
    }
    else
    {
      if ( (*(*a1 + 16))(a1, L"SP206") )
      {
        v2 = 17;
      }
      else
      {
        if ( (*(*a1 + 16))(a1, L"SP205") )
        {
          v2 = 16;
        }
        else
        {
          if ( (*(*a1 + 16))(a1, L"SP204") )
          {
            v2 = 15;
          }
          else
          {
            if ( (*(*a1 + 16))(a1, L"SP203") )
            {
              v2 = 14;
            }
            else
            {
              if ( (*(*a1 + 16))(a1, L"SP202") )
              {
                v2 = 13;
              }
              else
              {
                if ( (*(*a1 + 16))(a1, L"SP201") )
                {
                  v2 = 12;
                }
                else
                {
                  if ( (*(*a1 + 16))(a1, L"SP200") )
                    v2 = 11;
                  else
                    v2 = 0;
                }
              }
            }
          }
        }
      }
    }
  }
  return v2;
}
// 333C40: using guessed type _DWORD __cdecl CheckScript_by_flags_route_1(_DWORD);
// 3844D4: using guessed type wchar_t aSp208[6];
// 3844E0: using guessed type wchar_t aSp207[6];
// 3844EC: using guessed type wchar_t aSp206[6];
// 3844F8: using guessed type wchar_t aSp205[6];
// 384504: using guessed type wchar_t aSp204[6];
// 384510: using guessed type wchar_t aSp203[6];
// 38451C: using guessed type wchar_t aSp202[6];
// 384528: using guessed type wchar_t aSp201[6];
// 384534: using guessed type wchar_t aSp200[6];

//----- (00333D80) --------------------------------------------------------
signed int __cdecl CheckScript_by_flags_route_4(int a1)
{
  signed int v2; // [sp+0h] [bp-4h]@2

  if ( (*(*a1 + 16))(a1, L"SP310") )
  {
    v2 = 21;
  }
  else
  {
    if ( (*(*a1 + 16))(a1, L"SP309") )
    {
      v2 = 20;
    }
    else
    {
      if ( (*(*a1 + 16))(a1, L"SP308") )
      {
        v2 = 19;
      }
      else
      {
        if ( (*(*a1 + 16))(a1, L"SP307") )
        {
          v2 = 18;
        }
        else
        {
          if ( (*(*a1 + 16))(a1, L"SP306") )
          {
            v2 = 17;
          }
          else
          {
            if ( (*(*a1 + 16))(a1, L"SP305") )
            {
              v2 = 16;
            }
            else
            {
              if ( (*(*a1 + 16))(a1, L"SP304") )
              {
                v2 = 15;
              }
              else
              {
                if ( (*(*a1 + 16))(a1, L"SP303") )
                {
                  v2 = 14;
                }
                else
                {
                  if ( (*(*a1 + 16))(a1, L"SP302") )
                  {
                    v2 = 13;
                  }
                  else
                  {
                    if ( (*(*a1 + 16))(a1, L"SP301") )
                    {
                      v2 = 12;
                    }
                    else
                    {
                      if ( (*(*a1 + 16))(a1, L"SP300") )
                        v2 = 11;
                      else
                        v2 = 0;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return v2;
}
// 333D80: using guessed type _DWORD __cdecl CheckScript_by_flags_route_4(_DWORD);
// 384540: using guessed type wchar_t aSp310[6];
// 38454C: using guessed type wchar_t aSp309[6];
// 384558: using guessed type wchar_t aSp308[6];
// 384564: using guessed type wchar_t aSp307[6];
// 384570: using guessed type wchar_t aSp306[6];
// 38457C: using guessed type wchar_t aSp305[6];
// 384588: using guessed type wchar_t aSp304[6];
// 384594: using guessed type wchar_t aSp303[6];
// 3845A0: using guessed type wchar_t aSp302[6];
// 3845AC: using guessed type wchar_t aSp301[6];
// 3845B8: using guessed type wchar_t aSp300[6];

//----- (00333F10) --------------------------------------------------------
signed int __cdecl CheckScript_by_flags_route_6(int a1)
{
  signed int v2; // [sp+0h] [bp-4h]@2

  if ( (*(*a1 + 16))(a1, L"SP434") )
  {
    v2 = 45;
  }
  else
  {
    if ( (*(*a1 + 16))(a1, L"SP433") )
    {
      v2 = 44;
    }
    else
    {
      if ( (*(*a1 + 16))(a1, L"SP432") )
      {
        v2 = 43;
      }
      else
      {
        if ( (*(*a1 + 16))(a1, L"SP431") )
        {
          v2 = 42;
        }
        else
        {
          if ( (*(*a1 + 16))(a1, L"SP430") )
          {
            v2 = 41;
          }
          else
          {
            if ( (*(*a1 + 16))(a1, L"SP429") )
            {
              v2 = 40;
            }
            else
            {
              if ( (*(*a1 + 16))(a1, L"SP428") )
              {
                v2 = 39;
              }
              else
              {
                if ( (*(*a1 + 16))(a1, L"SP427") )
                {
                  v2 = 38;
                }
                else
                {
                  if ( (*(*a1 + 16))(a1, L"SP426") )
                  {
                    v2 = 37;
                  }
                  else
                  {
                    if ( (*(*a1 + 16))(a1, L"SP425") )
                    {
                      v2 = 36;
                    }
                    else
                    {
                      if ( (*(*a1 + 16))(a1, L"SP424") )
                      {
                        v2 = 35;
                      }
                      else
                      {
                        if ( (*(*a1 + 16))(a1, L"SP423") )
                        {
                          v2 = 34;
                        }
                        else
                        {
                          if ( (*(*a1 + 16))(a1, L"SP422") )
                          {
                            v2 = 33;
                          }
                          else
                          {
                            if ( (*(*a1 + 16))(a1, L"SP421") )
                            {
                              v2 = 32;
                            }
                            else
                            {
                              if ( (*(*a1 + 16))(a1, L"SP420") )
                              {
                                v2 = 31;
                              }
                              else
                              {
                                if ( (*(*a1 + 16))(a1, L"SP419") )
                                {
                                  v2 = 30;
                                }
                                else
                                {
                                  if ( (*(*a1 + 16))(a1, L"SP418") )
                                  {
                                    v2 = 29;
                                  }
                                  else
                                  {
                                    if ( (*(*a1 + 16))(a1, L"SP417") )
                                    {
                                      v2 = 28;
                                    }
                                    else
                                    {
                                      if ( (*(*a1 + 16))(a1, L"SP416") )
                                      {
                                        v2 = 27;
                                      }
                                      else
                                      {
                                        if ( (*(*a1 + 16))(a1, L"SP415") )
                                        {
                                          v2 = 26;
                                        }
                                        else
                                        {
                                          if ( (*(*a1 + 16))(a1, L"SP414") )
                                          {
                                            v2 = 25;
                                          }
                                          else
                                          {
                                            if ( (*(*a1 + 16))(a1, L"SP413") )
                                            {
                                              v2 = 24;
                                            }
                                            else
                                            {
                                              if ( (*(*a1 + 16))(a1, L"SP412") )
                                              {
                                                v2 = 23;
                                              }
                                              else
                                              {
                                                if ( (*(*a1 + 16))(a1, L"SP411") )
                                                {
                                                  v2 = 22;
                                                }
                                                else
                                                {
                                                  if ( (*(*a1 + 16))(a1, L"SP410") )
                                                  {
                                                    v2 = 21;
                                                  }
                                                  else
                                                  {
                                                    if ( (*(*a1 + 16))(a1, L"SP409") )
                                                    {
                                                      v2 = 20;
                                                    }
                                                    else
                                                    {
                                                      if ( (*(*a1 + 16))(a1, L"SP408") )
                                                      {
                                                        v2 = 19;
                                                      }
                                                      else
                                                      {
                                                        if ( (*(*a1 + 16))(a1, L"SP407") )
                                                        {
                                                          v2 = 18;
                                                        }
                                                        else
                                                        {
                                                          if ( (*(*a1 + 16))(a1, L"SP406") )
                                                          {
                                                            v2 = 17;
                                                          }
                                                          else
                                                          {
                                                            if ( (*(*a1 + 16))(a1, L"SP405") )
                                                            {
                                                              v2 = 16;
                                                            }
                                                            else
                                                            {
                                                              if ( (*(*a1 + 16))(a1, L"SP404") )
                                                              {
                                                                v2 = 15;
                                                              }
                                                              else
                                                              {
                                                                if ( (*(*a1 + 16))(a1, L"SP403") )
                                                                {
                                                                  v2 = 14;
                                                                }
                                                                else
                                                                {
                                                                  if ( (*(*a1 + 16))(a1, L"SP402") )
                                                                  {
                                                                    v2 = 13;
                                                                  }
                                                                  else
                                                                  {
                                                                    if ( (*(*a1 + 16))(a1, L"SP401") )
                                                                    {
                                                                      v2 = 12;
                                                                    }
                                                                    else
                                                                    {
                                                                      if ( (*(*a1 + 16))(a1, L"SP400") )
                                                                        v2 = 11;
                                                                      else
                                                                        v2 = 0;
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return v2;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 3845C4: using guessed type wchar_t aSp434[6];
// 3845D0: using guessed type wchar_t aSp433[6];
// 3845DC: using guessed type wchar_t aSp432[6];
// 3845E8: using guessed type wchar_t aSp431[6];
// 3845F4: using guessed type wchar_t aSp430[6];
// 384600: using guessed type wchar_t aSp429[6];
// 38460C: using guessed type wchar_t aSp428[6];
// 384618: using guessed type wchar_t aSp427[6];
// 384624: using guessed type wchar_t aSp426[6];
// 384630: using guessed type wchar_t aSp425[6];
// 38463C: using guessed type wchar_t aSp424[6];
// 384648: using guessed type wchar_t aSp423[6];
// 384654: using guessed type wchar_t aSp422[6];
// 384660: using guessed type wchar_t aSp421[6];
// 38466C: using guessed type wchar_t aSp420[6];
// 384678: using guessed type wchar_t aSp419[6];
// 384684: using guessed type wchar_t aSp418[6];
// 384690: using guessed type wchar_t aSp417[6];
// 38469C: using guessed type wchar_t aSp416[6];
// 3846A8: using guessed type wchar_t aSp415[6];
// 3846B4: using guessed type wchar_t aSp414[6];
// 3846C0: using guessed type wchar_t aSp413[6];
// 3846CC: using guessed type wchar_t aSp412[6];
// 3846D8: using guessed type wchar_t aSp411[6];
// 3846E4: using guessed type wchar_t aSp410[6];
// 3846F0: using guessed type wchar_t aSp409[6];
// 3846FC: using guessed type wchar_t aSp408[6];
// 384708: using guessed type wchar_t aSp407[6];
// 384714: using guessed type wchar_t aSp406[6];
// 384720: using guessed type wchar_t aSp405[6];
// 38472C: using guessed type wchar_t aSp404[6];
// 384738: using guessed type wchar_t aSp403[6];
// 384744: using guessed type wchar_t aSp402[6];
// 384750: using guessed type wchar_t aSp401[6];
// 38475C: using guessed type wchar_t aSp400[6];

//----- (003343D0) --------------------------------------------------------
signed int __cdecl CheckScript_by_flags_route_19(int a1)
{
  signed int v2; // [sp+0h] [bp-4h]@2

  if ( (*(*a1 + 16))(a1, L"SP556") )
  {
    v2 = 67;
  }
  else
  {
    if ( (*(*a1 + 16))(a1, L"SP555") )
    {
      v2 = 66;
    }
    else
    {
      if ( (*(*a1 + 16))(a1, L"SP554") )
      {
        v2 = 65;
      }
      else
      {
        if ( (*(*a1 + 16))(a1, L"SP553") )
        {
          v2 = 64;
        }
        else
        {
          if ( (*(*a1 + 16))(a1, L"SP552") )
          {
            v2 = 63;
          }
          else
          {
            if ( (*(*a1 + 16))(a1, L"SP551") )
            {
              v2 = 62;
            }
            else
            {
              if ( (*(*a1 + 16))(a1, L"SP550") )
              {
                v2 = 61;
              }
              else
              {
                if ( (*(*a1 + 16))(a1, L"SP549") )
                {
                  v2 = 60;
                }
                else
                {
                  if ( (*(*a1 + 16))(a1, L"SP548") )
                  {
                    v2 = 59;
                  }
                  else
                  {
                    if ( (*(*a1 + 16))(a1, L"SP547") )
                    {
                      v2 = 58;
                    }
                    else
                    {
                      if ( (*(*a1 + 16))(a1, L"SP546") )
                      {
                        v2 = 57;
                      }
                      else
                      {
                        if ( (*(*a1 + 16))(a1, L"SP545") )
                        {
                          v2 = 56;
                        }
                        else
                        {
                          if ( (*(*a1 + 16))(a1, L"SP544") )
                          {
                            v2 = 55;
                          }
                          else
                          {
                            if ( (*(*a1 + 16))(a1, L"SP543") )
                            {
                              v2 = 54;
                            }
                            else
                            {
                              if ( (*(*a1 + 16))(a1, L"SP542") )
                              {
                                v2 = 53;
                              }
                              else
                              {
                                if ( (*(*a1 + 16))(a1, L"SP541") )
                                {
                                  v2 = 52;
                                }
                                else
                                {
                                  if ( (*(*a1 + 16))(a1, L"SP540") )
                                  {
                                    v2 = 51;
                                  }
                                  else
                                  {
                                    if ( (*(*a1 + 16))(a1, L"SP539") )
                                    {
                                      v2 = 50;
                                    }
                                    else
                                    {
                                      if ( (*(*a1 + 16))(a1, L"SP538") )
                                      {
                                        v2 = 49;
                                      }
                                      else
                                      {
                                        if ( (*(*a1 + 16))(a1, L"SP537") )
                                        {
                                          v2 = 48;
                                        }
                                        else
                                        {
                                          if ( (*(*a1 + 16))(a1, L"SP536") )
                                          {
                                            v2 = 47;
                                          }
                                          else
                                          {
                                            if ( (*(*a1 + 16))(a1, L"SP535") )
                                            {
                                              v2 = 46;
                                            }
                                            else
                                            {
                                              if ( (*(*a1 + 16))(a1, L"SP534") )
                                              {
                                                v2 = 45;
                                              }
                                              else
                                              {
                                                if ( (*(*a1 + 16))(a1, L"SP533") )
                                                {
                                                  v2 = 44;
                                                }
                                                else
                                                {
                                                  if ( (*(*a1 + 16))(a1, L"SP532") )
                                                  {
                                                    v2 = 43;
                                                  }
                                                  else
                                                  {
                                                    if ( (*(*a1 + 16))(a1, L"SP531") )
                                                    {
                                                      v2 = 42;
                                                    }
                                                    else
                                                    {
                                                      if ( (*(*a1 + 16))(a1, L"SP530") )
                                                      {
                                                        v2 = 41;
                                                      }
                                                      else
                                                      {
                                                        if ( (*(*a1 + 16))(a1, L"SP529") )
                                                        {
                                                          v2 = 40;
                                                        }
                                                        else
                                                        {
                                                          if ( (*(*a1 + 16))(a1, L"SP528") )
                                                          {
                                                            v2 = 39;
                                                          }
                                                          else
                                                          {
                                                            if ( (*(*a1 + 16))(a1, L"SP527") )
                                                            {
                                                              v2 = 38;
                                                            }
                                                            else
                                                            {
                                                              if ( (*(*a1 + 16))(a1, L"SP526") )
                                                              {
                                                                v2 = 37;
                                                              }
                                                              else
                                                              {
                                                                if ( (*(*a1 + 16))(a1, L"SP525") )
                                                                {
                                                                  v2 = 36;
                                                                }
                                                                else
                                                                {
                                                                  if ( (*(*a1 + 16))(a1, L"SP524") )
                                                                  {
                                                                    v2 = 35;
                                                                  }
                                                                  else
                                                                  {
                                                                    if ( (*(*a1 + 16))(a1, L"SP523") )
                                                                    {
                                                                      v2 = 34;
                                                                    }
                                                                    else
                                                                    {
                                                                      if ( (*(*a1 + 16))(a1, L"SP522") )
                                                                      {
                                                                        v2 = 33;
                                                                      }
                                                                      else
                                                                      {
                                                                        if ( (*(*a1 + 16))(a1, L"SP521") )
                                                                        {
                                                                          v2 = 32;
                                                                        }
                                                                        else
                                                                        {
                                                                          if ( (*(*a1 + 16))(a1, L"SP520") )
                                                                          {
                                                                            v2 = 31;
                                                                          }
                                                                          else
                                                                          {
                                                                            if ( (*(*a1 + 16))(a1, L"SP519") )
                                                                            {
                                                                              v2 = 30;
                                                                            }
                                                                            else
                                                                            {
                                                                              if ( (*(*a1 + 16))(a1, L"SP518") )
                                                                              {
                                                                                v2 = 29;
                                                                              }
                                                                              else
                                                                              {
                                                                                if ( (*(*a1 + 16))(a1, L"SP517") )
                                                                                {
                                                                                  v2 = 28;
                                                                                }
                                                                                else
                                                                                {
                                                                                  if ( (*(*a1 + 16))(a1, L"SP516") )
                                                                                  {
                                                                                    v2 = 27;
                                                                                  }
                                                                                  else
                                                                                  {
                                                                                    if ( (*(*a1 + 16))(a1, L"SP515") )
                                                                                    {
                                                                                      v2 = 26;
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                      if ( (*(*a1 + 16))(a1, L"SP514") )
                                                                                      {
                                                                                        v2 = 25;
                                                                                      }
                                                                                      else
                                                                                      {
                                                                                        if ( (*(*a1 + 16))(a1, L"SP513") )
                                                                                        {
                                                                                          v2 = 24;
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                          if ( (*(*a1 + 16))(
                                                                                                 a1,
                                                                                                 L"SP512") )
                                                                                          {
                                                                                            v2 = 23;
                                                                                          }
                                                                                          else
                                                                                          {
                                                                                            if ( (*(*a1 + 16))(
                                                                                                   a1,
                                                                                                   L"SP511") )
                                                                                            {
                                                                                              v2 = 22;
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                              if ( (*(*a1 + 16))(
                                                                                                     a1,
                                                                                                     L"SP510") )
                                                                                              {
                                                                                                v2 = 21;
                                                                                              }
                                                                                              else
                                                                                              {
                                                                                                if ( (*(*a1 + 16))(a1, L"SP509") )
                                                                                                {
                                                                                                  v2 = 20;
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                  if ( (*(*a1 + 16))(a1, L"SP508") )
                                                                                                  {
                                                                                                    v2 = 19;
                                                                                                  }
                                                                                                  else
                                                                                                  {
                                                                                                    if ( (*(*a1 + 16))(a1, L"SP507") )
                                                                                                    {
                                                                                                      v2 = 18;
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                      if ( (*(*a1 + 16))(a1, L"SP506") )
                                                                                                      {
                                                                                                        v2 = 17;
                                                                                                      }
                                                                                                      else
                                                                                                      {
                                                                                                        if ( (*(*a1 + 16))(a1, L"SP505") )
                                                                                                        {
                                                                                                          v2 = 16;
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                          if ( (*(*a1 + 16))(a1, L"SP504") )
                                                                                                          {
                                                                                                            v2 = 15;
                                                                                                          }
                                                                                                          else
                                                                                                          {
                                                                                                            if ( (*(*a1 + 16))(a1, L"SP503") )
                                                                                                            {
                                                                                                              v2 = 14;
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                              if ( (*(*a1 + 16))(a1, L"SP502") )
                                                                                                              {
                                                                                                                v2 = 13;
                                                                                                              }
                                                                                                              else
                                                                                                              {
                                                                                                                if ( (*(*a1 + 16))(a1, L"SP501") )
                                                                                                                {
                                                                                                                  v2 = 12;
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                  if ( (*(*a1 + 16))(a1, L"SP500") )
                                                                                                                    v2 = 11;
                                                                                                                  else
                                                                                                                    v2 = 0;
                                                                                                                }
                                                                                                              }
                                                                                                            }
                                                                                                          }
                                                                                                        }
                                                                                                      }
                                                                                                    }
                                                                                                  }
                                                                                                }
                                                                                              }
                                                                                            }
                                                                                          }
                                                                                        }
                                                                                      }
                                                                                    }
                                                                                  }
                                                                                }
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 384768: using guessed type wchar_t aSp556[6];
// 384774: using guessed type wchar_t aSp555[6];
// 384780: using guessed type wchar_t aSp554[6];
// 38478C: using guessed type wchar_t aSp553[6];
// 384798: using guessed type wchar_t aSp552[6];
// 3847A4: using guessed type wchar_t aSp551[6];
// 3847B0: using guessed type wchar_t aSp550[6];
// 3847BC: using guessed type wchar_t aSp549[6];
// 3847C8: using guessed type wchar_t aSp548[6];
// 3847D4: using guessed type wchar_t aSp547[6];
// 3847E0: using guessed type wchar_t aSp546[6];
// 3847EC: using guessed type wchar_t aSp545[6];
// 3847F8: using guessed type wchar_t aSp544[6];
// 384804: using guessed type wchar_t aSp543[6];
// 384810: using guessed type wchar_t aSp542[6];
// 38481C: using guessed type wchar_t aSp541[6];
// 384828: using guessed type wchar_t aSp540[6];
// 384834: using guessed type wchar_t aSp539[6];
// 384840: using guessed type wchar_t aSp538[6];
// 38484C: using guessed type wchar_t aSp537[6];
// 384858: using guessed type wchar_t aSp536[6];
// 384864: using guessed type wchar_t aSp535[6];
// 384870: using guessed type wchar_t aSp534[6];
// 38487C: using guessed type wchar_t aSp533[6];
// 384888: using guessed type wchar_t aSp532[6];
// 384894: using guessed type wchar_t aSp531[6];
// 3848A0: using guessed type wchar_t aSp530[6];
// 3848AC: using guessed type wchar_t aSp529[6];
// 3848B8: using guessed type wchar_t aSp528[6];
// 3848C4: using guessed type wchar_t aSp527[6];
// 3848D0: using guessed type wchar_t aSp526[6];
// 3848DC: using guessed type wchar_t aSp525[6];
// 3848E8: using guessed type wchar_t aSp524[6];
// 3848F4: using guessed type wchar_t aSp523[6];
// 384900: using guessed type wchar_t aSp522[6];
// 38490C: using guessed type wchar_t aSp521[6];
// 384918: using guessed type wchar_t aSp520[6];
// 384924: using guessed type wchar_t aSp519[6];
// 384930: using guessed type wchar_t aSp518[6];
// 38493C: using guessed type wchar_t aSp517[6];
// 384948: using guessed type wchar_t aSp516[6];
// 384954: using guessed type wchar_t aSp515[6];
// 384960: using guessed type wchar_t aSp514[6];
// 38496C: using guessed type wchar_t aSp513[6];
// 384978: using guessed type wchar_t aSp512[6];
// 384984: using guessed type wchar_t aSp511[6];
// 384990: using guessed type wchar_t aSp510[6];
// 38499C: using guessed type wchar_t aSp509[6];
// 3849A8: using guessed type wchar_t aSp508[6];
// 3849B4: using guessed type wchar_t aSp507[6];
// 3849C0: using guessed type wchar_t aSp506[6];
// 3849CC: using guessed type wchar_t aSp505[6];
// 3849D8: using guessed type wchar_t aSp504[6];
// 3849E4: using guessed type wchar_t aSp503[6];
// 3849F0: using guessed type wchar_t aSp502[6];
// 3849FC: using guessed type wchar_t aSp501[6];
// 384A08: using guessed type wchar_t aSp500[6];

//----- (00334B70) --------------------------------------------------------
signed int __cdecl CheckScript_by_flags_route_32(int a1)
{
  signed int v2; // [sp+0h] [bp-4h]@2

  if ( (*(*a1 + 16))(a1, L"SP644") )
  {
    v2 = 55;
  }
  else
  {
    if ( (*(*a1 + 16))(a1, L"SP643") )
    {
      v2 = 54;
    }
    else
    {
      if ( (*(*a1 + 16))(a1, L"SP642") )
      {
        v2 = 53;
      }
      else
      {
        if ( (*(*a1 + 16))(a1, L"SP641") )
        {
          v2 = 52;
        }
        else
        {
          if ( (*(*a1 + 16))(a1, L"SP640") )
          {
            v2 = 51;
          }
          else
          {
            if ( (*(*a1 + 16))(a1, L"SP639") )
            {
              v2 = 50;
            }
            else
            {
              if ( (*(*a1 + 16))(a1, L"SP638") )
              {
                v2 = 49;
              }
              else
              {
                if ( (*(*a1 + 16))(a1, L"SP637") )
                {
                  v2 = 48;
                }
                else
                {
                  if ( (*(*a1 + 16))(a1, L"SP636") )
                  {
                    v2 = 47;
                  }
                  else
                  {
                    if ( (*(*a1 + 16))(a1, L"SP635") )
                    {
                      v2 = 46;
                    }
                    else
                    {
                      if ( (*(*a1 + 16))(a1, L"SP634") )
                      {
                        v2 = 45;
                      }
                      else
                      {
                        if ( (*(*a1 + 16))(a1, L"SP633") )
                        {
                          v2 = 44;
                        }
                        else
                        {
                          if ( (*(*a1 + 16))(a1, L"SP632") )
                          {
                            v2 = 43;
                          }
                          else
                          {
                            if ( (*(*a1 + 16))(a1, L"SP631") )
                            {
                              v2 = 42;
                            }
                            else
                            {
                              if ( (*(*a1 + 16))(a1, L"SP630") )
                              {
                                v2 = 41;
                              }
                              else
                              {
                                if ( (*(*a1 + 16))(a1, L"SP629") )
                                {
                                  v2 = 40;
                                }
                                else
                                {
                                  if ( (*(*a1 + 16))(a1, L"SP628") )
                                  {
                                    v2 = 39;
                                  }
                                  else
                                  {
                                    if ( (*(*a1 + 16))(a1, L"SP627") )
                                    {
                                      v2 = 38;
                                    }
                                    else
                                    {
                                      if ( (*(*a1 + 16))(a1, L"SP626") )
                                      {
                                        v2 = 37;
                                      }
                                      else
                                      {
                                        if ( (*(*a1 + 16))(a1, L"SP625") )
                                        {
                                          v2 = 36;
                                        }
                                        else
                                        {
                                          if ( (*(*a1 + 16))(a1, L"SP624") )
                                          {
                                            v2 = 35;
                                          }
                                          else
                                          {
                                            if ( (*(*a1 + 16))(a1, L"SP623") )
                                            {
                                              v2 = 34;
                                            }
                                            else
                                            {
                                              if ( (*(*a1 + 16))(a1, L"SP622") )
                                              {
                                                v2 = 33;
                                              }
                                              else
                                              {
                                                if ( (*(*a1 + 16))(a1, L"SP621") )
                                                {
                                                  v2 = 32;
                                                }
                                                else
                                                {
                                                  if ( (*(*a1 + 16))(a1, L"SP620") )
                                                  {
                                                    v2 = 31;
                                                  }
                                                  else
                                                  {
                                                    if ( (*(*a1 + 16))(a1, L"SP619") )
                                                    {
                                                      v2 = 30;
                                                    }
                                                    else
                                                    {
                                                      if ( (*(*a1 + 16))(a1, L"SP618") )
                                                      {
                                                        v2 = 29;
                                                      }
                                                      else
                                                      {
                                                        if ( (*(*a1 + 16))(a1, L"SP617") )
                                                        {
                                                          v2 = 28;
                                                        }
                                                        else
                                                        {
                                                          if ( (*(*a1 + 16))(a1, L"SP616") )
                                                          {
                                                            v2 = 27;
                                                          }
                                                          else
                                                          {
                                                            if ( (*(*a1 + 16))(a1, L"SP615") )
                                                            {
                                                              v2 = 26;
                                                            }
                                                            else
                                                            {
                                                              if ( (*(*a1 + 16))(a1, L"SP614") )
                                                              {
                                                                v2 = 25;
                                                              }
                                                              else
                                                              {
                                                                if ( (*(*a1 + 16))(a1, L"SP613") )
                                                                {
                                                                  v2 = 24;
                                                                }
                                                                else
                                                                {
                                                                  if ( (*(*a1 + 16))(a1, L"SP612") )
                                                                  {
                                                                    v2 = 23;
                                                                  }
                                                                  else
                                                                  {
                                                                    if ( (*(*a1 + 16))(a1, L"SP611") )
                                                                    {
                                                                      v2 = 22;
                                                                    }
                                                                    else
                                                                    {
                                                                      if ( (*(*a1 + 16))(a1, L"SP610") )
                                                                      {
                                                                        v2 = 21;
                                                                      }
                                                                      else
                                                                      {
                                                                        if ( (*(*a1 + 16))(a1, L"SP609") )
                                                                        {
                                                                          v2 = 20;
                                                                        }
                                                                        else
                                                                        {
                                                                          if ( (*(*a1 + 16))(a1, L"SP608") )
                                                                          {
                                                                            v2 = 19;
                                                                          }
                                                                          else
                                                                          {
                                                                            if ( (*(*a1 + 16))(a1, L"SP607") )
                                                                            {
                                                                              v2 = 18;
                                                                            }
                                                                            else
                                                                            {
                                                                              if ( (*(*a1 + 16))(a1, L"SP606") )
                                                                              {
                                                                                v2 = 17;
                                                                              }
                                                                              else
                                                                              {
                                                                                if ( (*(*a1 + 16))(a1, L"SP605") )
                                                                                {
                                                                                  v2 = 16;
                                                                                }
                                                                                else
                                                                                {
                                                                                  if ( (*(*a1 + 16))(a1, L"SP604") )
                                                                                  {
                                                                                    v2 = 15;
                                                                                  }
                                                                                  else
                                                                                  {
                                                                                    if ( (*(*a1 + 16))(a1, L"SP603") )
                                                                                    {
                                                                                      v2 = 14;
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                      if ( (*(*a1 + 16))(a1, L"SP602") )
                                                                                      {
                                                                                        v2 = 13;
                                                                                      }
                                                                                      else
                                                                                      {
                                                                                        if ( (*(*a1 + 16))(a1, L"SP601") )
                                                                                        {
                                                                                          v2 = 12;
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                          if ( (*(*a1 + 16))(
                                                                                                 a1,
                                                                                                 L"SP600") )
                                                                                            v2 = 11;
                                                                                          else
                                                                                            v2 = 0;
                                                                                        }
                                                                                      }
                                                                                    }
                                                                                  }
                                                                                }
                                                                              }
                                                                            }
                                                                          }
                                                                        }
                                                                      }
                                                                    }
                                                                  }
                                                                }
                                                              }
                                                            }
                                                          }
                                                        }
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 384A14: using guessed type wchar_t aSp644[6];
// 384A20: using guessed type wchar_t aSp643[6];
// 384A2C: using guessed type wchar_t aSp642[6];
// 384A38: using guessed type wchar_t aSp641[6];
// 384A44: using guessed type wchar_t aSp640[6];
// 384A50: using guessed type wchar_t aSp639[6];
// 384A5C: using guessed type wchar_t aSp638[6];
// 384A68: using guessed type wchar_t aSp637[6];
// 384A74: using guessed type wchar_t aSp636[6];
// 384A80: using guessed type wchar_t aSp635[6];
// 384A8C: using guessed type wchar_t aSp634[6];
// 384A98: using guessed type wchar_t aSp633[6];
// 384AA4: using guessed type wchar_t aSp632[6];
// 384AB0: using guessed type wchar_t aSp631[6];
// 384ABC: using guessed type wchar_t aSp630[6];
// 384AC8: using guessed type wchar_t aSp629[6];
// 384AD4: using guessed type wchar_t aSp628[6];
// 384AE0: using guessed type wchar_t aSp627[6];
// 384AEC: using guessed type wchar_t aSp626[6];
// 384AF8: using guessed type wchar_t aSp625[6];
// 384B04: using guessed type wchar_t aSp624[6];
// 384B10: using guessed type wchar_t aSp623[6];
// 384B1C: using guessed type wchar_t aSp622[6];
// 384B28: using guessed type wchar_t aSp621[6];
// 384B34: using guessed type wchar_t aSp620[6];
// 384B40: using guessed type wchar_t aSp619[6];
// 384B4C: using guessed type wchar_t aSp618[6];
// 384B58: using guessed type wchar_t aSp617[6];
// 384B64: using guessed type wchar_t aSp616[6];
// 384B70: using guessed type wchar_t aSp615[6];
// 384B7C: using guessed type wchar_t aSp614[6];
// 384B88: using guessed type wchar_t aSp613[6];
// 384B94: using guessed type wchar_t aSp612[6];
// 384BA0: using guessed type wchar_t aSp611[6];
// 384BAC: using guessed type wchar_t aSp610[6];
// 384BB8: using guessed type wchar_t aSp609[6];
// 384BC4: using guessed type wchar_t aSp608[6];
// 384BD0: using guessed type wchar_t aSp607[6];
// 384BDC: using guessed type wchar_t aSp606[6];
// 384BE8: using guessed type wchar_t aSp605[6];
// 384BF4: using guessed type wchar_t aSp604[6];
// 384C00: using guessed type wchar_t aSp603[6];
// 384C0C: using guessed type wchar_t aSp602[6];
// 384C18: using guessed type wchar_t aSp601[6];
// 384C24: using guessed type wchar_t aSp600[6];

//----- (00335180) --------------------------------------------------------
int __cdecl ClearIndexies(ScriptObject *a1)
{
  int result; // eax@1

  result = (a1->vtable->GetVariable)(a1, L"ROUTE") - 2;
  switch ( result )
  {
    case 0:
      (a1->vtable->SetFlagValue)(a1, L"999", 0);
      (a1->vtable->SetFlagValue)(a1, L"998", 0);
      (a1->vtable->SetFlagValue)(a1, L"997", 0);
      (a1->vtable->SetFlagValue)(a1, L"996", 0);
      (a1->vtable->SetFlagValue)(a1, L"995", 0);
      (a1->vtable->SetFlagValue)(a1, L"994", 0);
      (a1->vtable->SetFlagValue)(a1, L"993", 0);
      (a1->vtable->SetFlagValue)(a1, L"992", 0);
      (a1->vtable->SetFlagValue)(a1, L"992", 0);
      (a1->vtable->SetFlagValue)(a1, L"991", 0);
      (a1->vtable->SetFlagValue)(a1, L"990", 0);
      (a1->vtable->SetFlagValue)(a1, L"989", 0);
      (a1->vtable->SetFlagValue)(a1, L"988", 0);
      (a1->vtable->SetFlagValue)(a1, L"987", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"986", 0);
      break;
    case 1:
      (a1->vtable->SetFlagValue)(a1, L"999", 0);
      (a1->vtable->SetFlagValue)(a1, L"998", 0);
      (a1->vtable->SetFlagValue)(a1, L"997", 0);
      (a1->vtable->SetFlagValue)(a1, L"996", 0);
      (a1->vtable->SetFlagValue)(a1, L"995", 0);
      (a1->vtable->SetFlagValue)(a1, L"994", 0);
      (a1->vtable->SetFlagValue)(a1, L"993", 0);
      (a1->vtable->SetFlagValue)(a1, L"992", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"986", 0);
      break;
    case 2:
      result = (a1->vtable->SetFlagValue)(a1, L"977", 0);
      break;
    case 3:
      (a1->vtable->SetFlagValue)(a1, L"985", 0);
      (a1->vtable->SetFlagValue)(a1, L"984", 0);
      (a1->vtable->SetFlagValue)(a1, L"983", 0);
      (a1->vtable->SetFlagValue)(a1, L"982", 0);
      (a1->vtable->SetFlagValue)(a1, L"981", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"980", 0);
      break;
    case 5:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"963", 0);
      (a1->vtable->SetFlagValue)(a1, L"965", 0);
      (a1->vtable->SetFlagValue)(a1, L"964", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"962", 0);
      break;
    case 6:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"963", 0);
      (a1->vtable->SetFlagValue)(a1, L"965", 0);
      (a1->vtable->SetFlagValue)(a1, L"964", 0);
      (a1->vtable->SetFlagValue)(a1, L"971", 0);
      (a1->vtable->SetFlagValue)(a1, L"962", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"802", 0);
      break;
    case 8:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"968", 0);
      (a1->vtable->SetFlagValue)(a1, L"967", 0);
      (a1->vtable->SetFlagValue)(a1, L"966", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"940", 0);
      break;
    case 9:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"971", 0);
      (a1->vtable->SetFlagValue)(a1, L"968", 0);
      (a1->vtable->SetFlagValue)(a1, L"967", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"966", 0);
      break;
    case 10:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"968", 0);
      (a1->vtable->SetFlagValue)(a1, L"967", 0);
      (a1->vtable->SetFlagValue)(a1, L"966", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"940", 0);
      break;
    case 11:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"976", 0);
      (a1->vtable->SetFlagValue)(a1, L"975", 0);
      (a1->vtable->SetFlagValue)(a1, L"974", 0);
      (a1->vtable->SetFlagValue)(a1, L"973", 0);
      (a1->vtable->SetFlagValue)(a1, L"972", 0);
      (a1->vtable->SetFlagValue)(a1, L"971", 0);
      (a1->vtable->SetFlagValue)(a1, L"970", 0);
      (a1->vtable->SetFlagValue)(a1, L"969", 0);
      (a1->vtable->SetFlagValue)(a1, L"968", 0);
      (a1->vtable->SetFlagValue)(a1, L"967", 0);
      (a1->vtable->SetFlagValue)(a1, L"966", 0);
      (a1->vtable->SetFlagValue)(a1, L"940", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"801", 0);
      break;
    case 13:
      (a1->vtable->SetFlagValue)(a1, L"976", 0);
      (a1->vtable->SetFlagValue)(a1, L"975", 0);
      (a1->vtable->SetFlagValue)(a1, L"974", 0);
      (a1->vtable->SetFlagValue)(a1, L"973", 0);
      (a1->vtable->SetFlagValue)(a1, L"972", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"971", 0);
      break;
    case 15:
      (a1->vtable->SetFlagValue)(a1, L"969", 0);
      (a1->vtable->SetFlagValue)(a1, L"961", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"960", 0);
      break;
    case 16:
      (a1->vtable->SetFlagValue)(a1, L"968", 0);
      (a1->vtable->SetFlagValue)(a1, L"967", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"966", 0);
      break;
    case 17:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"940", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"801", 0);
      break;
    case 18:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"940", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"801", 0);
      break;
    case 20:
      (a1->vtable->SetFlagValue)(a1, L"948", 0);
      (a1->vtable->SetFlagValue)(a1, L"928", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"801", 0);
      break;
    case 21:
      (a1->vtable->SetFlagValue)(a1, L"950", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"949", 0);
      break;
    case 22:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"950", 0);
      (a1->vtable->SetFlagValue)(a1, L"949", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"940", 0);
      break;
    case 23:
      (a1->vtable->SetFlagValue)(a1, L"933", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"932", 0);
      break;
    case 24:
      (a1->vtable->SetFlagValue)(a1, L"959", 0);
      (a1->vtable->SetFlagValue)(a1, L"958", 0);
      (a1->vtable->SetFlagValue)(a1, L"957", 0);
      (a1->vtable->SetFlagValue)(a1, L"956", 0);
      (a1->vtable->SetFlagValue)(a1, L"803", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"802", 0);
      break;
    case 26:
      (a1->vtable->SetFlagValue)(a1, L"940", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"801", 0);
      break;
    case 27:
      (a1->vtable->SetFlagValue)(a1, L"979", 0);
      (a1->vtable->SetFlagValue)(a1, L"978", 0);
      (a1->vtable->SetFlagValue)(a1, L"970", 0);
      (a1->vtable->SetFlagValue)(a1, L"940", 0);
      (a1->vtable->SetFlagValue)(a1, L"939", 0);
      (a1->vtable->SetFlagValue)(a1, L"927", 0);
      result = (a1->vtable->SetFlagValue)(a1, L"801", 0);
      break;
    default:
      return result;
  }
  return result;
}
// 384C30: using guessed type wchar_t aRoute[6];
// 384C3C: using guessed type wchar_t a999[4];
// 384C44: using guessed type wchar_t a998[4];
// 384C4C: using guessed type wchar_t a997[4];
// 384C54: using guessed type wchar_t a996[4];
// 384C5C: using guessed type wchar_t a995[4];
// 384C64: using guessed type wchar_t a994[4];
// 384C6C: using guessed type wchar_t a993[4];
// 384C74: using guessed type wchar_t a992[4];
// 384C7C: using guessed type wchar_t a992_0[4];
// 384C84: using guessed type wchar_t a991[4];
// 384C8C: using guessed type wchar_t a990[4];
// 384C94: using guessed type wchar_t a989[4];
// 384C9C: using guessed type wchar_t a988[4];
// 384CA4: using guessed type wchar_t a987[4];
// 384CAC: using guessed type wchar_t a986[4];
// 384CB4: using guessed type wchar_t a999_0[4];
// 384CBC: using guessed type wchar_t a998_0[4];
// 384CC4: using guessed type wchar_t a997_0[4];
// 384CCC: using guessed type wchar_t a996_0[4];
// 384CD4: using guessed type wchar_t a995_0[4];
// 384CDC: using guessed type wchar_t a994_0[4];
// 384CE4: using guessed type wchar_t a993_0[4];
// 384CEC: using guessed type wchar_t a992_1[4];
// 384CF4: using guessed type wchar_t a986_0[4];
// 384CFC: using guessed type wchar_t a977[4];
// 384D04: using guessed type wchar_t a985[4];
// 384D0C: using guessed type wchar_t a984[4];
// 384D14: using guessed type wchar_t a983[4];
// 384D1C: using guessed type wchar_t a982[4];
// 384D24: using guessed type wchar_t a981[4];
// 384D2C: using guessed type wchar_t a980[4];
// 384D34: using guessed type wchar_t a979[4];
// 384D3C: using guessed type wchar_t a978[4];
// 384D44: using guessed type wchar_t a963[4];
// 384D4C: using guessed type wchar_t a965[4];
// 384D54: using guessed type wchar_t a964[4];
// 384D5C: using guessed type wchar_t a962[4];
// 384D64: using guessed type wchar_t a979_0[4];
// 384D6C: using guessed type wchar_t a978_0[4];
// 384D74: using guessed type wchar_t a963_0[4];
// 384D7C: using guessed type wchar_t a965_0[4];
// 384D84: using guessed type wchar_t a964_0[4];
// 384D8C: using guessed type wchar_t a971[4];
// 384D94: using guessed type wchar_t a962_0[4];
// 384D9C: using guessed type wchar_t a802[4];
// 384DA4: using guessed type wchar_t a979_1[4];
// 384DAC: using guessed type wchar_t a978_1[4];
// 384DB4: using guessed type wchar_t a968[4];
// 384DBC: using guessed type wchar_t a967[4];
// 384DC4: using guessed type wchar_t a966[4];
// 384DCC: using guessed type wchar_t a940[4];
// 384DD4: using guessed type wchar_t a979_2[4];
// 384DDC: using guessed type wchar_t a978_2[4];
// 384DE4: using guessed type wchar_t a971_0[4];
// 384DEC: using guessed type wchar_t a968_0[4];
// 384DF4: using guessed type wchar_t a967_0[4];
// 384DFC: using guessed type wchar_t a966_0[4];
// 384E04: using guessed type wchar_t a979_3[4];
// 384E0C: using guessed type wchar_t a978_3[4];
// 384E14: using guessed type wchar_t a968_1[4];
// 384E1C: using guessed type wchar_t a967_1[4];
// 384E24: using guessed type wchar_t a966_1[4];
// 384E2C: using guessed type wchar_t a940_0[4];
// 384E34: using guessed type wchar_t a979_4[4];
// 384E3C: using guessed type wchar_t a978_4[4];
// 384E44: using guessed type wchar_t a976[4];
// 384E4C: using guessed type wchar_t a975[4];
// 384E54: using guessed type wchar_t a974[4];
// 384E5C: using guessed type wchar_t a973[4];
// 384E64: using guessed type wchar_t a972[4];
// 384E6C: using guessed type wchar_t a971_1[4];
// 384E74: using guessed type wchar_t a970[4];
// 384E7C: using guessed type wchar_t a969[4];
// 384E84: using guessed type wchar_t a968_2[4];
// 384E8C: using guessed type wchar_t a967_2[4];
// 384E94: using guessed type wchar_t a966_2[4];
// 384E9C: using guessed type wchar_t a940_1[4];
// 384EA4: using guessed type wchar_t a801[4];
// 384EAC: using guessed type wchar_t a976_0[4];
// 384EB4: using guessed type wchar_t a975_0[4];
// 384EBC: using guessed type wchar_t a974_0[4];
// 384EC4: using guessed type wchar_t a973_0[4];
// 384ECC: using guessed type wchar_t a972_0[4];
// 384ED4: using guessed type wchar_t a971_2[4];
// 384EDC: using guessed type wchar_t a969_0[4];
// 384EE4: using guessed type wchar_t a961[4];
// 384EEC: using guessed type wchar_t a960[4];
// 384EF4: using guessed type wchar_t a968_3[4];
// 384EFC: using guessed type wchar_t a967_3[4];
// 384F04: using guessed type wchar_t a966_3[4];
// 384F0C: using guessed type wchar_t a979_5[4];
// 384F14: using guessed type wchar_t a978_5[4];
// 384F1C: using guessed type wchar_t a940_2[4];
// 384F24: using guessed type wchar_t a801_0[4];
// 384F2C: using guessed type wchar_t a979_6[4];
// 384F34: using guessed type wchar_t a978_6[4];
// 384F3C: using guessed type wchar_t a940_3[4];
// 384F44: using guessed type wchar_t a801_1[4];
// 384F4C: using guessed type wchar_t a948[4];
// 384F54: using guessed type wchar_t a928[4];
// 384F5C: using guessed type wchar_t a801_2[4];
// 384F64: using guessed type wchar_t a950[4];
// 384F6C: using guessed type wchar_t a949[4];
// 384F74: using guessed type wchar_t a979_7[4];
// 384F7C: using guessed type wchar_t a978_7[4];
// 384F84: using guessed type wchar_t a950_0[4];
// 384F8C: using guessed type wchar_t a949_0[4];
// 384F94: using guessed type wchar_t a940_4[4];
// 384F9C: using guessed type wchar_t a933[4];
// 384FA4: using guessed type wchar_t a932[4];
// 384FAC: using guessed type wchar_t a959[4];
// 384FB4: using guessed type wchar_t a958[4];
// 384FBC: using guessed type wchar_t a957[4];
// 384FC4: using guessed type wchar_t a956[4];
// 384FCC: using guessed type wchar_t a803[4];
// 384FD4: using guessed type wchar_t a802_0[4];
// 384FDC: using guessed type wchar_t a940_5[4];
// 384FE4: using guessed type wchar_t a801_3[4];
// 384FEC: using guessed type wchar_t a979_8[4];
// 384FF4: using guessed type wchar_t a978_8[4];
// 384FFC: using guessed type wchar_t a970_0[4];
// 385004: using guessed type wchar_t a940_6[4];
// 38500C: using guessed type wchar_t a939[4];
// 385014: using guessed type wchar_t a927[4];
// 38501C: using guessed type wchar_t a801_4[4];

//----- (00335C60) --------------------------------------------------------
void __cdecl sub_335C60(ScriptObject *a1, const wchar_t *a2, int a3)
{
  int v3; // ST08_4@2

  if ( a3 )
  {
    v3 = a3 + (a1->vtable->GetVariable)(a1, a2);
    (a1->vtable->SetVariable)(a1, a2, v3);
    if ( !wcscmp(a2, L"001") || !wcscmp(a2, L"002") )
      (a1->vtable->field_30)(a1, 1);
  }
}

//----- (00335CE0) --------------------------------------------------------
void __cdecl sub_335CE0(ScriptObject *a1, const wchar_t *a2, int a3)
{
  int v3; // eax@2

  if ( a3 )
  {
    v3 = (a1->vtable->GetVariable)(a1, a2);
    (a1->vtable->SetVariable)(a1, a2, v3 - a3);
    if ( !wcscmp(a2, L"001") || !wcscmp(a2, L"002") )
      (a1->vtable->field_30)(a1, 1);
  }
}

//----- (00335D60) --------------------------------------------------------
int __cdecl sub_335D60(int a1, wchar_t *Dst, rsize_t SizeInWords, int a4)
{
  int v4; // eax@7
  int v5; // eax@8
  int v6; // ST14_4@10
  VARIANTARG pvargDest; // [sp+4h] [bp-54h]@8
  VARIANTARG pvarSrc; // [sp+14h] [bp-44h]@8
  int i; // [sp+24h] [bp-34h]@1
  char v11; // [sp+28h] [bp-30h]@1
  unsigned int v12; // [sp+44h] [bp-14h]@1
  int v13; // [sp+48h] [bp-10h]@1
  int v14; // [sp+54h] [bp-4h]@1
  int v15; // [sp+58h] [bp+0h]@1

  v12 = &v15 ^ __security_cookie;
  v13 = 0;
  sub_331950(&v11);
  v14 = 0;
  for ( i = 0; i < 2; ++i )
  {
    while ( *(a1 + 2 * v13) != 44 && *(a1 + 2 * v13) != 34 )
      sub_33C420(&v11, 1, *(a1 + 2 * v13++));
    if ( i )
    {
      v5 = sub_331AC0(&v11);
      sub_33C3B0(&pvarSrc, v5);
      sub_33C390(&pvargDest);
      VariantChangeType(&pvargDest, &pvarSrc, 0, 3u);
      *a4 = pvargDest.lVal;
      sub_33C400(&pvargDest);
      sub_33C400(&pvarSrc);
    }
    else
    {
      v4 = sub_331AC0(&v11);
      wcscpy_s(Dst, SizeInWords, v4);
    }
    sub_331A60(&v11);
    v13 += 2;
  }
  v6 = v13;
  v14 = -1;
  sub_331A00(&v11);
  return v6;
}
// 3A5C70: using guessed type int __security_cookie;

//----- (00335EB0) --------------------------------------------------------
int __cdecl sub_335EB0(ScriptObject *a1, wchar_t *a2, int a3)
{
  int v3; // eax@1
  int v4; // eax@1
  size_t v5; // eax@2
  signed int i; // [sp+0h] [bp-94h]@2
  wchar_t v8; // [sp+4h] [bp-90h]@4
  char v9; // [sp+1Ch] [bp-78h]@1
  wchar_t Dst; // [sp+38h] [bp-5Ch]@1
  unsigned int v11; // [sp+78h] [bp-1Ch]@1
  int v12; // [sp+7Ch] [bp-18h]@4
  int v13; // [sp+80h] [bp-14h]@1
  wchar_t *v14; // [sp+84h] [bp-10h]@1
  int v15; // [sp+90h] [bp-4h]@1
  int v16; // [sp+94h] [bp+0h]@1

  v11 = &v16 ^ __security_cookie;
  v13 = 0;
  sub_331980(&v9, a2);
  v15 = 0;
  sub_331FE0(&v9, 0, 3);
  v3 = sub_331AC0(&v9);
  swprintf_s(&Dst, 0x20u, L"[%s]=\"", v3);
  v4 = sub_331AC0(&Script_Feeling);
  v14 = wcsstr(v4, &Dst);
  if ( v14 )
  {
    v5 = wcslen(&Dst);
    v14 += v5;
    for ( i = 0; i < 2; ++i )
    {
      v13 = sub_335D60(&v14[v13], &v8, 0xCu, &v12);
      if ( a3 )
        sub_335C60(a1, &v8, v12);
      else
        sub_335CE0(a1, &v8, v12);
    }
  }
  v15 = -1;
  return sub_331A00(&v9);
}
// 3A5C70: using guessed type int __security_cookie;

//----- (00336000) --------------------------------------------------------
signed int __cdecl sub_336000(int this, wchar_t *str)
{
  int v2; // eax@1
  int v3; // eax@1
  size_t v4; // eax@2
  int v5; // eax@2
  signed int result; // eax@3
  char v7; // [sp+Ch] [bp-90h]@2
  char v8; // [sp+24h] [bp-78h]@1
  wchar_t Dst; // [sp+40h] [bp-5Ch]@1
  unsigned int v10; // [sp+84h] [bp-18h]@1
  int v11; // [sp+88h] [bp-14h]@2
  int v12; // [sp+8Ch] [bp-10h]@1
  int v13; // [sp+98h] [bp-4h]@1
  int v14; // [sp+9Ch] [bp+0h]@1

  v10 = &v14 ^ __security_cookie;
  sub_331980(&v8, str);
  v13 = 0;
  sub_331FE0(&v8, 0, 3);
  v2 = sub_331AC0(&v8);
  swprintf_s(&Dst, 0x20u, L"[%s]=\"", v2);
  v3 = sub_331AC0(&Scripr_Standerd);
  v12 = wcsstr(v3, &Dst);
  if ( v12 )
  {
    v4 = wcslen(&Dst);
    v12 += 2 * v4;
    sub_335D60(v12, &v7, 0xCu, &v11);
    v5 = (*(*this + 8))(this, &v7);
    if ( v5 <= v11 )
    {
      v13 = -1;
      sub_331A00(&v8);
      result = 0;
    }
    else
    {
      v13 = -1;
      sub_331A00(&v8);
      result = 1;
    }
  }
  else
  {
    v13 = -1;
    sub_331A00(&v8);
    result = 0;
  }
  return result;
}
// 3A5C70: using guessed type int __security_cookie;

//----- (00336150) --------------------------------------------------------
int __cdecl sub_336150(char a1)
{
  int v1; // ST04_4@4
  void *v2; // eax@4
  int v3; // eax@4
  unsigned int i; // [sp+4h] [bp-18h]@2
  int v6; // [sp+8h] [bp-14h]@1

  v6 = sub_33C4A0(&unk_3A6F9C);
  if ( v6 <= 0 )
  {
    sub_33C4F0(&unk_3A6F9C, &a1);
  }
  else
  {
    for ( i = 0; i < v6; ++i )
    {
      v1 = sub_331AC0(&a1);
      v2 = sub_33C4C0(&unk_3A6F9C, i);
      v3 = sub_331AC0(v2);
      if ( wcsstr(v3, v1) )
        return sub_331A00(&a1);
    }
    sub_33C4F0(&unk_3A6F9C, &a1);
  }
  return sub_331A00(&a1);
}
// 336150: using guessed type _DWORD __cdecl sub_336150(char);

//----- (00336230) --------------------------------------------------------
int __cdecl sub_336230(const wchar_t *a1)
{
  size_t v1; // eax@2
  int v2; // eax@5
  size_t v3; // eax@8
  char v5; // [sp-20h] [bp-C4h]@11
  int v6; // [sp-8h] [bp-ACh]@7
  unsigned int v7; // [sp-4h] [bp-A8h]@1
  int v8; // [sp+0h] [bp-A4h]@11
  char *v9; // [sp+4h] [bp-A0h]@11
  char v10; // [sp+8h] [bp-9Ch]@7
  int i; // [sp+24h] [bp-80h]@5
  wchar_t Dst; // [sp+28h] [bp-7Ch]@7
  int v13; // [sp+6Ch] [bp-38h]@5
  char v14; // [sp+70h] [bp-34h]@1
  unsigned int v15; // [sp+8Ch] [bp-18h]@1
  int v16; // [sp+90h] [bp-14h]@1
  wchar_t *v17; // [sp+94h] [bp-10h]@1
  int v18; // [sp+A0h] [bp-4h]@1
  int v19; // [sp+A4h] [bp+0h]@1

  v15 = &v19 ^ __security_cookie;
  v7 = &v19 ^ __security_cookie;
  v17 = wcsstr(a1, L"[Number]=\"");
  sub_331950(&v14);
  v18 = 0;
  v16 = 0;
  if ( v17 )
  {
    v1 = wcslen(L"[Number]=\"");
    for ( v17 += v1; v17[v16] != 34; sub_33C420(&v14, 1, v17[v16++]) )
      ;
    v2 = sub_331AC0(&v14);
    v13 = sub_374B88(v2);
    v16 = 0;
    for ( i = 0; i < v13; ++i )
    {
      sub_331950(&v10);
      LOBYTE(v18) = 1;
      v6 = i;
      swprintf_s(&Dst, 0x20u, L"[flag%d]=\"", i);
      v17 = wcsstr(a1, &Dst);
      if ( v17 )
      {
        v3 = wcslen(&Dst);
        v17 += v3;
        while ( v17[v16] != 34 )
        {
          v6 = v17[v16];
          sub_33C420(&v10, 1, v6);
          ++v16;
        }
        v9 = &v5;
        v8 = sub_3319C0(&v5, &v10);
        sub_336150(v5);
        sub_331A60(&v10);
        v16 = 0;
      }
      LOBYTE(v18) = 0;
      sub_331A00(&v10);
    }
  }
  v18 = -1;
  return sub_331A00(&v14);
}
// 336150: using guessed type _DWORD __cdecl sub_336150(char);
// 374B88: using guessed type int __cdecl sub_374B88(_DWORD);
// 3A5C70: using guessed type int __security_cookie;

//----- (00336410) --------------------------------------------------------
void *__cdecl sub_336410(void *a1, int a2, int a3)
{
  unsigned int v3; // ST04_4@1
  int v4; // eax@1
  void *v5; // eax@1
  int v6; // eax@2
  int v7; // eax@2
  int v8; // eax@2
  void *result; // eax@2
  char v10; // [sp+14h] [bp-3Ch]@2
  char v11; // [sp+18h] [bp-38h]@2
  unsigned int v12; // [sp+34h] [bp-1Ch]@1
  LPCSTR lpMultiByteStr; // [sp+38h] [bp-18h]@2
  int v14; // [sp+3Ch] [bp-14h]@2
  char v15; // [sp+40h] [bp-10h]@1
  int v16; // [sp+4Ch] [bp-4h]@1
  int v17; // [sp+50h] [bp+0h]@1

  v12 = &v17 ^ __security_cookie;
  v3 = &v17 ^ __security_cookie;
  std::_Container_base::_Container_base(&v15);
  v16 = 0;
  v4 = (*(*a3 + 64))(a3, a2, v3);
  v5 = sub_33C5A0(&v15, v4);
  if ( unknown_libname_9(v5) )
  {
    v6 = unknown_libname_9(&v15);
    v14 = (*(*v6 + 28))(v6);
    lpMultiByteStr = unknown_libname_106(v14);
    v7 = unknown_libname_9(&v15);
    (*(*v7 + 12))(v7, lpMultiByteStr, v14);
    sub_33C5F0(&v15);
    sub_3315E0(&v10, lpMultiByteStr);
    LOBYTE(v16) = 1;
    v8 = sub_3316A0(&v10);
    sub_331980(&v11, *v8);
    LOBYTE(v16) = 2;
    sub_37418A(lpMultiByteStr);
    sub_3319C0(a1, &v11);
    LOBYTE(v16) = 1;
    sub_331A00(&v11);
    LOBYTE(v16) = 0;
    sub_331680(&v10);
    v16 = -1;
    sub_33C570(&v15);
    result = a1;
  }
  else
  {
    sub_331950(a1);
    v16 = -1;
    sub_33C570(&v15);
    result = a1;
  }
  return result;
}
// 3326D0: using guessed type int __thiscall std___Container_base___Container_base(_DWORD);
// 33CCF0: using guessed type int __thiscall unknown_libname_9(_DWORD);
// 374195: using guessed type int __cdecl unknown_libname_106(_DWORD);
// 3A5C70: using guessed type int __security_cookie;

//----- (00336590) --------------------------------------------------------
int __cdecl sub_336590(int a1, int a2)
{
  wchar_t Dst; // [sp+0h] [bp-108h]@1
  unsigned int v4; // [sp+104h] [bp-4h]@1
  int v5; // [sp+108h] [bp+0h]@1

  v4 = &v5 ^ __security_cookie;
  swprintf_s(&Dst, 0x80u, L"[End%02d]=\"", a2);
  if ( !(*(*a1 + 24))(a1, &Dst) )
    (*(*a1 + 28))(a1, &Dst, 1);
  if ( !(*(*a1 + 24))(a1, L"EndClear") )
    (*(*a1 + 28))(a1, L"EndClear", 1);
  (*(*a1 + 36))(a1, L"EndNo", a2);
  (*(*a1 + 20))(a1, L"EndClear", 1);
  return (*(*a1 + 60))(a1);
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 38528C: using guessed type wchar_t aEndclear[9];
// 3852A0: using guessed type wchar_t aEndclear_0[9];
// 3852B4: using guessed type wchar_t aEndno[6];
// 3852C0: using guessed type wchar_t aEndclear_1[9];
// 3A5C70: using guessed type int __security_cookie;

//----- (00336660) --------------------------------------------------------
int __cdecl searchRoot_route_start(ScriptObject *a1)
{
  (a1->vtable->SetVariable)(a1, L"ROUTE", 0);
  return (a1->vtable->SetVariable)(a1, L"SCENE", 0);
}
// 3852D4: using guessed type wchar_t aRoute_0[6];
// 3852E0: using guessed type wchar_t aScene[6];

//----- (00336690) --------------------------------------------------------
errno_t __cdecl sub_336690(int this, wchar_t *Dst, rsize_t SizeInWords, int a4)
{
  (*(*this + 12))(this, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, L"Notice_SDHQ");
}
// 3852EC: using guessed type wchar_t aScene_0[6];

//----- (003366C0) --------------------------------------------------------
errno_t __cdecl sub_3366C0(int a1, wchar_t *Dst, rsize_t SizeInWords, int a4)
{
  (*(*a1 + 12))(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, L"PV/Trial_PV");
}
// 385310: using guessed type wchar_t aScene_1[6];

//----- (003366F0) --------------------------------------------------------
errno_t __cdecl sub_3366F0(int this, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  const wchar_t *Src; // [sp+4h] [bp-4h]@4

  if ( a4 )
  {
    if ( a4 == 1 )
    {
      Src = L"PV/KOTONOHA-OP";
    }
    else
    {
      if ( a4 == 2 )
        Src = L"PV/SETUNA-OP";
      else
        Src = &unk_385388;
    }
  }
  else
  {
    Src = L"PV/SEKAI-OP";
  }
  (*(*this + 12))(this, L"SCENE", a5);
  return wcscpy_s(Dst, SizeInWords, Src);
}
// 385334: using guessed type wchar_t aPvSekaiOp[12];
// 38534C: using guessed type wchar_t aPvKotonohaOp[15];
// 38536C: using guessed type wchar_t aPvSetunaOp[13];
// 38538C: using guessed type wchar_t aScene_2[6];

//----- (00336760) --------------------------------------------------------
errno_t __cdecl sub_336760(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4)
{
  if ( a4 )
    (a1->vtable->field_1C)(a1, L"FLAG_LOGO", 0);
  (a1->vtable->field_2C)(a1);
  (a1->vtable->SetVariable)(a1, L"ROUTE", -1);
  return wcscpy_s(Dst, SizeInWords, &word_3853B8);
}
// 385398: using guessed type wchar_t aFlag_logo[10];
// 3853AC: using guessed type wchar_t aRoute_1[6];

//----- (003367C0) --------------------------------------------------------
unsigned int __cdecl sub_3367C0(ScriptObject *a1, int a2, int a3, int a4)
{
  unsigned int result; // eax@1
  wchar_t Dst; // [sp+0h] [bp-88h]@4
  unsigned int v6; // [sp+84h] [bp-4h]@1
  int v7; // [sp+88h] [bp+0h]@1

  result = &v7 ^ __security_cookie;
  v6 = &v7 ^ __security_cookie;
  if ( a2 > 0 )
  {
    if ( a4 )
    {
      result = (a1->vtable->field_0)(a1, a2, a3);
    }
    else
    {
      swprintf_s(&Dst, 0x40u, L"SP%d", a2);
      result = (a1->vtable->SetFlagValue)(a1, &Dst, 0);
    }
  }
  return result;
}
// 3A5C70: using guessed type int __security_cookie;

//----- (00336840) --------------------------------------------------------
double __stdcall GetVersionToRoute(ScriptObject *a1)
{
  double result; // st7@2

  if ( (a1->vtable->field_34)(a1) )
    result = 0.0099999998;
  else
    result = 1.0;
  return result;
}

//----- (00336870) --------------------------------------------------------
signed int __stdcall GetNextScriptFile(int this, wchar_t *Dst, rsize_t SizeInWords)
{
  signed int result; // eax@4
  int v4; // [sp+8h] [bp-4h]@1

  v4 = 0;
  while ( 2 )
  {
    switch ( (*(*this + 8))(this, L"ROUTE") )
    {
      case 0:
        if ( !GetNextScript_0(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 1:
        if ( !GetNextScript_1(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 2:
        if ( !GetNextScript_2(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 3:
        if ( !GetNextScript_3(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 4:
        if ( !GetNextScript_4(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 5:
        if ( !GetNextScript_5(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 6:
        if ( !GetNextScript_6(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 7:
        if ( !GetNextScript_7(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 8:
        if ( !GetNextScript_8(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 9:
        if ( !GetNextScript_9(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 10:
        if ( !GetNextScript_10(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 11:
        if ( !GetNextScript_11(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 12:
        if ( !GetNextScript_12(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 13:
        if ( !GetNextScript_13(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 14:
        if ( !GetNextScript_14(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 15:
        if ( !GetNextScript_15(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 16:
        if ( !GetNextScript_16(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 17:
        if ( !GetNextScript_17(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 18:
        if ( !GetNextScript_18(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 19:
        if ( !GetNextScript_19(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 20:
        if ( !GetNextScript_20(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 21:
        if ( !GetNextScript_21(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 22:
        if ( !GetNextScript_22(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 23:
        if ( !GetNextScript_23(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 24:
        if ( !GetNextScript_24(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 25:
        if ( !GetNextScript_25(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 26:
        if ( !GetNextScript_26(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 27:
        if ( !GetNextScript_27(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 28:
        if ( !GetNextScript_28(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 29:
        if ( !GetNextScript_29(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 30:
        if ( !GetNextScript_30(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 31:
        if ( !GetNextScript_31(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 32:
        if ( !GetNextScript_32(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 33:
        if ( !GetNextScript_33(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 34:
        if ( !GetNextScript_34(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 35:
        if ( !GetNextScript_35(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 36:
        if ( !GetNextScript_36(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 37:
        if ( !GetNextScript_37(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 38:
        if ( !GetNextScript_38(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 39:
        if ( !GetNextScript_39(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 40:
        if ( !GetNextScript_40(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 41:
        if ( !GetNextScript_41(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 42:
        if ( !GetNextScript_42(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 43:
        if ( !GetNextScript_43(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 44:
        if ( !GetNextScript_44(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 45:
        if ( !GetNextScript_45(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 46:
        if ( !GetNextScript_46(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 47:
        if ( !GetNextScript_47(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 48:
        if ( !GetNextScript_48(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 49:
        if ( !GetNextScript_49(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 50:
        if ( !GetNextScript_50(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 51:
        if ( !GetNextScript_51(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 52:
        if ( !GetNextScript_52(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 53:
        if ( !GetNextScript_53(Dst, SizeInWords, this) )
          goto LABEL_169;
        result = 1;
        break;
      case 54:
        if ( GetNextScript_54(Dst, SizeInWords, this) )
        {
          result = 1;
        }
        else
        {
LABEL_169:
          ++v4;
          if ( v4 != 10 )
            continue;
          result = 0;
        }
        break;
      default:
        result = 0;
        break;
    }
    return result;
  }
}
// 3853C8: using guessed type wchar_t aRoute_2[6];

//----- (00337200) --------------------------------------------------------
signed int __stdcall GetBackScriptFile(int a1, wchar_t *Dst, rsize_t SizeInWords)
{
  signed int result; // eax@4
  int v4; // [sp+8h] [bp-4h]@1

  v4 = 0;
  while ( 2 )
  {
    switch ( (*(*a1 + 8))(a1, L"ROUTE") )
    {
      case 0:
        if ( !GetBackScriptFile_route_0(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 1:
        if ( !GetBackScriptFile_route_1(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 2:
        if ( !GetBackScriptFile_route_2(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 3:
        if ( !GetBackScriptFile_route_3(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 4:
        if ( !GetBackScriptFile_route_4(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 5:
        if ( !GetBackScriptFile_route_5(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 6:
        if ( !GetBackScriptFile_route_6(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 7:
        if ( !GetBackScriptFile_route_7(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 8:
        if ( !GetBackScriptFile_route_8(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 9:
        if ( !GetBackScriptFile_route_9(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 10:
        if ( !GetBackScriptFile_route_10(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 11:
        if ( !GetBackScriptFile_route_11(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 12:
        if ( !GetBackScriptFile_route_12(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 13:
        if ( !GetBackScriptFile_route_13(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 14:
        if ( !GetBackScriptFile_route_14(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 15:
        if ( !GetBackScriptFile_route_15(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 16:
        if ( !GetBackScriptFile_route_16(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 17:
        if ( !GetBackScriptFile_route_17(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 18:
        if ( !GetBackScriptFile_route_18(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 19:
        if ( !GetBackScriptFile_route_19(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 20:
        if ( !GetBackScriptFile_route_20(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 21:
        if ( !GetBackScriptFile_route_21(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 22:
        if ( !GetBackScriptFile_route_22(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 23:
        if ( !GetBackScriptFile_route_23(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 24:
        if ( !GetBackScriptFile_route_24(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 25:
        if ( !GetBackScriptFile_route_25(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 26:
        if ( !GetBackScriptFile_route_26(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 27:
        if ( !GetBackScriptFile_route_27(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 28:
        if ( !GetBackScriptFile_route_28(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 29:
        if ( !GetBackScriptFile_route_29(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 30:
        if ( !GetBackScriptFile_route_30(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 31:
        if ( !GetBackScriptFile_route_31(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 32:
        if ( !GetBackScriptFile_route_32(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 33:
        if ( !GetBackScriptFile_route_33(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 34:
        if ( !GetBackScriptFile_route_34(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 35:
        if ( !GetBackScriptFile_route_35(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 36:
        if ( !GetBackScriptFile_route_36(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 37:
        if ( !GetBackScriptFile_route_37(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 38:
        if ( !GetBackScriptFile_route_38(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 39:
        if ( !GetBackScriptFile_route_39(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 40:
        if ( !GetBackScriptFile_route_40(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 41:
        if ( !GetBackScriptFile_route_41(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 42:
        if ( !GetBackScriptFile_route_42(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 43:
        if ( !GetBackScriptFile_route_43(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 44:
        if ( !GetBackScriptFile_route_44(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 45:
        if ( !GetBackScriptFile_route_45(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 46:
        if ( !GetBackScriptFile_route_46(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 47:
        if ( !GetBackScriptFile_route_47(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 48:
        if ( !GetBackScriptFile_route_48(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 49:
        if ( !GetBackScriptFile_route_49(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 50:
        if ( !GetBackScriptFile_route_50(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 51:
        if ( !GetBackScriptFile_route_51(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 52:
        if ( !GetBackScriptFile_route_52(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 53:
        if ( !GetBackScriptFile_route_53(Dst, SizeInWords, a1) )
          goto LABEL_169;
        result = 1;
        break;
      case 54:
        if ( GetBackScriptFile_route_54(Dst, SizeInWords, a1) )
        {
          result = 1;
        }
        else
        {
LABEL_169:
          ++v4;
          if ( v4 != 10 )
            continue;
          result = 0;
        }
        break;
      default:
        result = 0;
        break;
    }
    return result;
  }
}
// 3853D4: using guessed type wchar_t aRoute_3[6];

//----- (00337B90) --------------------------------------------------------
void __stdcall LoadInitScript(int a1)
{
  int v1; // eax@3
  int v2; // eax@4
  int v3; // eax@6
  int v4; // eax@7
  char v5; // [sp+0h] [bp-38h]@6
  char v6; // [sp+1Ch] [bp-1Ch]@3

  if ( !dword_3A6F44 )
  {
    if ( IsScriptLoaded(&Script_Feeling) )
    {
      v1 = sub_336410(&v6, L"Ini/FeelingScript.ini", a1);
      sub_331A20(&Script_Feeling, v1);
      sub_331A00(&v6);
      if ( !IsScriptLoaded(&Script_Feeling) )
      {
        v2 = sub_331AC0(&Script_Feeling);
        sub_336230(v2);
        OutputDebugStringA("Ini/FeelingScript.ini\n");
      }
    }
    if ( IsScriptLoaded(&Scripr_Standerd) )
    {
      v3 = sub_336410(&v5, L"Ini/StanderdScript.ini", a1);
      sub_331A20(&Scripr_Standerd, v3);
      sub_331A00(&v5);
      if ( !IsScriptLoaded(&Scripr_Standerd) )
      {
        v4 = sub_331AC0(&Scripr_Standerd);
        sub_336230(v4);
        OutputDebugStringA("Ini/StanderdScript.ini\n");
      }
    }
    if ( !IsScriptLoaded(&Script_Feeling) )
    {
      if ( !IsScriptLoaded(&Scripr_Standerd) )
        dword_3A6F44 = 1;
    }
  }
}
// 3853E0: using guessed type wchar_t aIniFeelingscri[22];
// 38542C: using guessed type wchar_t aIniStanderdscr[23];
// 3A6F44: using guessed type int dword_3A6F44;

//----- (00337CB0) --------------------------------------------------------
int __stdcall ZeroReset(ScriptObject *a1)
{
  void *v1; // eax@3
  int v2; // eax@3
  int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < sub_33C4A0(&unk_3A6F9C); ++i )
  {
    v1 = sub_33C4C0(&unk_3A6F9C, i);
    v2 = sub_331AC0(v1);
    (a1->vtable->SetVariable)(a1, v2, 0);
  }
  return searchRoot_route_start(a1);
}

//----- (00337D10) --------------------------------------------------------
int __stdcall SetRoot(int route, int scene, ScriptObject *a3)
{
  (a3->vtable->SetVariable)(a3, L"ROUTE", route);
  return (a3->vtable->SetVariable)(a3, L"SCENE", scene);
}
// 38547C: using guessed type wchar_t aRoute_4[6];
// 385488: using guessed type wchar_t aScene_3[6];

//----- (00337D50) --------------------------------------------------------
signed int __stdcall searchRoot(const wchar_t *file_name, signed int route, ScriptObject *obj)
{
  signed int result; // eax@2

  while ( 2 )
  {
    switch ( route )
    {
      case 0:
        result = searchRoot_route0(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 1:
        result = searchRoot_route_1(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 2:
        result = searchRoot_route_1k(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 3:
        result = searchRoot_route_1s(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 4:
        result = searchRoot_route_2k(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 5:
        result = searchRoot_route_2s(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 6:
        result = searchRoot_route_3a0(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 7:
        result = searchRoot_route_3a1(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 8:
        result = searchRoot_route_3ak(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 9:
        result = searchRoot_route_3as(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 10:
        result = searchRoot_route_3b0(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 11:
        result = searchRoot_route_3b1(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 12:
        result = searchRoot_route_3b2(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 13:
        result = searchRoot_route_3bk(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 14:
        result = searchRoot_route_3ka(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 15:
        result = searchRoot_route_3kb(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 16:
        result = searchRoot_route_3s0(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 17:
        result = searchRoot_route_3sa(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 18:
        result = searchRoot_route_3sb(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 19:
        result = searchRoot_route_4c0(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 20:
        result = searchRoot_route_4c1(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 21:
        result = searchRoot_route_4e0(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 22:
        result = searchRoot_route_4ka(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 23:
        result = searchRoot_route_4kb(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 24:
        result = searchRoot_route_4kc(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 25:
        result = searchRoot_route_4ke(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 26:
        result = searchRoot_route_4sa(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 27:
        result = searchRoot_route_4sb(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 28:
        result = searchRoot_route_4sc(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 29:
        result = searchRoot_route_4se(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 30:
        result = searchRoot_route_4sf(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 31:
        result = searchRoot_route_4sg(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 32:
        result = searchRoot_route_55h(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 33:
        result = searchRoot_route_550(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 34:
        result = searchRoot_route_59h(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 35:
        result = searchRoot_route_59k(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 36:
        result = searchRoot_route_59o(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 37:
        result = searchRoot_route_59s(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 38:
        result = searchRoot_route_5a0(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 39:
        result = searchRoot_route_5a2(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 40:
        result = searchRoot_route_5b0(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 41:
        result = searchRoot_route_5g0(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 42:
        result = searchRoot_route_5ka(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 43:
        result = searchRoot_route_5kb(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 44:
        result = searchRoot_route_5kc(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 45:
        result = searchRoot_route_5kf(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 46:
        result = searchRoot_route_5kg(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 47:
        result = searchRoot_route_5ki(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 48:
        result = searchRoot_route_5sa(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 49:
        result = searchRoot_route_5sb(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 50:
        result = searchRoot_route_5sc(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 51:
        result = searchRoot_route_5sd(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 52:
        result = searchRoot_route_5se(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 53:
        result = searchRoot_route_5sg(file_name, obj);
        if ( !result )
          goto label_end;
        break;
      case 54:
        result = searchRoot_route_5sh(file_name, obj);
        if ( !result )
        {
label_end:
          ++route;
          if ( route > 54 )
            route = 0;
          continue;
        }
        break;
      default:
        result = searchRoot_route_start(obj);
        break;
    }
    return result;
  }
}

//----- (003384D0) --------------------------------------------------------
signed int __stdcall CheckScript(ScriptObject *obj, int story)
{
  signed int result; // eax@3
  int route; // [sp+4h] [bp-4h]@1

  route = (obj->vtable->GetVariable)(obj, L"ROUTE");
  if ( story == GetStory(obj) - 1 )
  {
    switch ( route )
    {
      case 0:
        result = CheckScript_route_0(obj);
        break;
      case 1:
        result = CheckScript_route_1(obj);
        break;
      case 2:
        result = CheckScript_route_2(obj);
        break;
      case 3:
        result = CheckScript_route_3(obj);
        break;
      case 4:
        result = CheckScript_route_4(obj);
        break;
      case 5:
        result = CheckScript_route_5(obj);
        break;
      case 6:
        result = CheckScript_route_6(obj);
        break;
      case 7:
        result = CheckScript_route_7(obj);
        break;
      case 8:
        result = CheckScript_route_8(obj);
        break;
      case 9:
        result = CheckScript_route_9(obj);
        break;
      case 10:
        result = CheckScript_route_10(obj);
        break;
      case 11:
        result = CheckScript_route_11(obj);
        break;
      case 12:
        result = CheckScript_route_12(obj);
        break;
      case 13:
        result = CheckScript_route_13(obj);
        break;
      case 14:
        result = CheckScript_route_14(obj);
        break;
      case 15:
        result = CheckScript_route_15(obj);
        break;
      case 16:
        result = CheckScript_route_16(obj);
        break;
      case 17:
        result = CheckScript_route_17(obj);
        break;
      case 18:
        result = CheckScript_route_18(obj);
        break;
      case 19:
        result = CheckScript_route_19(obj);
        break;
      case 20:
        result = CheckScript_route_20(obj);
        break;
      case 21:
        result = CheckScript_route_21(obj);
        break;
      case 22:
        result = CheckScript_route_22(obj);
        break;
      case 23:
        result = CheckScript_route_23(obj);
        break;
      case 24:
        result = CheckScript_route_24(obj);
        break;
      case 25:
        result = CheckScript_route_25(obj);
        break;
      case 26:
        result = CheckScript_route_26(obj);
        break;
      case 27:
        result = CheckScript_route_27(obj);
        break;
      case 28:
        result = CheckScript_route_28(obj);
        break;
      case 29:
        result = CheckScript_route_29(obj);
        break;
      case 30:
        result = CheckScript_route_30(obj);
        break;
      case 31:
        result = CheckScript_route_31(obj);
        break;
      case 32:
        result = CheckScript_route_32(obj);
        break;
      case 33:
        result = CheckScript_route_33(obj);
        break;
      case 34:
        result = CheckScript_route_34(obj);
        break;
      case 35:
        result = CheckScript_route_35(obj);
        break;
      case 36:
        result = CheckScript_route_36(obj);
        break;
      case 37:
        result = CheckScript_route_37(obj);
        break;
      case 38:
        result = CheckScript_route_38(obj);
        break;
      case 39:
        result = CheckScript_route_39(obj);
        break;
      case 40:
        result = CheckScript_route_40(obj);
        break;
      case 41:
        result = CheckScript_route_41(obj);
        break;
      case 42:
        result = CheckScript_route_42(obj);
        break;
      case 43:
        result = CheckScript_route_43(obj);
        break;
      case 44:
        result = CheckScript_route_44(obj);
        break;
      case 45:
        result = CheckScript_route_45(obj);
        break;
      case 46:
        result = CheckScript_route_46(obj);
        break;
      case 47:
        result = CheckScript_route_47(obj);
        break;
      case 48:
        result = CheckScript_route_48(obj);
        break;
      case 49:
        result = CheckScript_route_49(obj);
        break;
      case 50:
        result = CheckScript_route_50(obj);
        break;
      case 51:
        result = CheckScript_route_51(obj);
        break;
      case 52:
        result = CheckScript_route_52(obj);
        break;
      case 53:
        result = CheckScript_route_53(obj);
        break;
      case 54:
        result = CheckScript_route_54(obj);
        break;
      default:
        goto LABEL_58;
    }
  }
  else
  {
LABEL_58:
    result = 0;
  }
  return result;
}
// 3409F0: using guessed type _DWORD __cdecl CheckScript_route_1(_DWORD);
// 341FA0: using guessed type _DWORD __cdecl CheckScript_route_2(_DWORD);
// 3428E0: using guessed type _DWORD __cdecl CheckScript_route_3(_DWORD);
// 344D10: using guessed type _DWORD __cdecl CheckScript_route_4(_DWORD);
// 3475B0: using guessed type _DWORD __cdecl CheckScript_route_5(_DWORD);
// 348500: using guessed type _DWORD __cdecl CheckScript_route_6(_DWORD);
// 3496C0: using guessed type _DWORD __cdecl CheckScript_route_7(_DWORD);
// 349D70: using guessed type _DWORD __cdecl CheckScript_route_8(_DWORD);
// 34A150: using guessed type _DWORD __cdecl CheckScript_route_9(_DWORD);
// 34A570: using guessed type _DWORD __cdecl CheckScript_route_10(_DWORD);
// 34AA20: using guessed type _DWORD __cdecl CheckScript_route_11(_DWORD);
// 34B250: using guessed type _DWORD __cdecl CheckScript_route_12(_DWORD);
// 34C4E0: using guessed type _DWORD __cdecl CheckScript_route_13(_DWORD);
// 34E780: using guessed type _DWORD __cdecl CheckScript_route_14(_DWORD);
// 3517F0: using guessed type _DWORD __cdecl CheckScript_route_15(_DWORD);
// 352080: using guessed type _DWORD __cdecl CheckScript_route_16(_DWORD);
// 353CB0: using guessed type _DWORD __cdecl CheckScript_route_17(_DWORD);
// 356070: using guessed type _DWORD __cdecl CheckScript_route_18(_DWORD);
// 3577A0: using guessed type _DWORD __cdecl CheckScript_route_20(_DWORD);
// 357D20: using guessed type _DWORD __cdecl CheckScript_route_21(_DWORD);
// 359200: using guessed type _DWORD __cdecl CheckScript_route_22(_DWORD);
// 35A5C0: using guessed type _DWORD __cdecl CheckScript_route_23(_DWORD);
// 35BC70: using guessed type _DWORD __cdecl CheckScript_route_24(_DWORD);
// 35CD50: using guessed type _DWORD __cdecl CheckScript_route_25(_DWORD);
// 35F250: using guessed type _DWORD __cdecl CheckScript_route_26(_DWORD);
// 360A60: using guessed type _DWORD __cdecl CheckScript_route_27(_DWORD);
// 3616A0: using guessed type _DWORD __cdecl CheckScript_route_28(_DWORD);
// 362930: using guessed type _DWORD __cdecl CheckScript_route_29(_DWORD);
// 362F00: using guessed type _DWORD __cdecl CheckScript_route_30(_DWORD);
// 363300: using guessed type _DWORD __cdecl CheckScript_route_31(_DWORD);
// 363C70: using guessed type _DWORD __cdecl CheckScript_route_32(_DWORD);
// 3659A0: using guessed type _DWORD __cdecl CheckScript_route_33(_DWORD);
// 366150: using guessed type _DWORD __cdecl CheckScript_route_34(_DWORD);
// 366450: using guessed type _DWORD __cdecl CheckScript_route_35(_DWORD);
// 366750: using guessed type _DWORD __cdecl CheckScript_route_36(_DWORD);
// 366A50: using guessed type _DWORD __cdecl CheckScript_route_37(_DWORD);
// 366E80: using guessed type _DWORD __cdecl CheckScript_route_38(_DWORD);
// 367420: using guessed type _DWORD __cdecl CheckScript_route_39(_DWORD);
// 367AE0: using guessed type _DWORD __cdecl CheckScript_route_40(_DWORD);
// 368B10: using guessed type _DWORD __cdecl CheckScript_route_41(_DWORD);
// 369A70: using guessed type _DWORD __cdecl CheckScript_route_42(_DWORD);
// 36ACB0: using guessed type _DWORD __cdecl CheckScript_route_43(_DWORD);
// 36B6A0: using guessed type _DWORD __cdecl CheckScript_route_44(_DWORD);
// 36C950: using guessed type _DWORD __cdecl CheckScript_route_45(_DWORD);
// 36D440: using guessed type _DWORD __cdecl CheckScript_route_46(_DWORD);
// 36E620: using guessed type _DWORD __cdecl CheckScript_route_47(_DWORD);
// 36F340: using guessed type _DWORD __cdecl CheckScript_route_48(_DWORD);
// 370110: using guessed type _DWORD __cdecl CheckScript_route_49(_DWORD);
// 371280: using guessed type _DWORD __cdecl CheckScript_route_50(_DWORD);
// 371FE0: using guessed type _DWORD __cdecl CheckScript_route_51(_DWORD);
// 3732E0: using guessed type _DWORD __cdecl CheckScript_route_52(_DWORD);
// 3738D0: using guessed type _DWORD __cdecl CheckScript_route_53(_DWORD);
// 373C90: using guessed type _DWORD __cdecl CheckScript_route_54(_DWORD);
// 385494: using guessed type wchar_t aRoute_5[6];

//----- (00338990) --------------------------------------------------------
signed int __stdcall GetStory(ScriptObject *a1)
{
  signed int result; // eax@2

  switch ( (a1->vtable->GetVariable)(a1, L"ROUTE") )
  {
    case 0:
      result = 1;
      break;
    case 1:
    case 2:
    case 3:
      result = 2;
      break;
    case 4:
    case 5:
      result = 3;
      break;
    case 6:
    case 7:
    case 8:
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
    case 14:
    case 15:
    case 16:
    case 17:
    case 18:
      result = 4;
      break;
    case 19:
    case 20:
    case 21:
    case 22:
    case 23:
    case 24:
    case 25:
    case 26:
    case 27:
    case 28:
    case 29:
    case 30:
    case 31:
      result = 5;
      break;
    case 32:
    case 33:
    case 34:
    case 35:
    case 36:
    case 37:
    case 38:
    case 39:
    case 40:
    case 41:
    case 42:
    case 43:
    case 44:
    case 45:
    case 46:
    case 47:
    case 48:
    case 49:
    case 50:
    case 51:
    case 52:
    case 53:
    case 54:
      result = 6;
      break;
    default:
      if ( (a1->vtable->IsFlagSet)(a1, L"EndClear") )
        result = 6;
      else
        result = 0;
      break;
  }
  return result;
}
// 3854A0: using guessed type wchar_t aRoute_6[6];
// 3854AC: using guessed type wchar_t aEndclear_2[9];

//----- (00338A70) --------------------------------------------------------
errno_t __stdcall SetScript(errno_t a1, int start_idx, wchar_t *Dst, rsize_t SizeInWords)
{
  errno_t result; // eax@1

  result = a1;
  switch ( a1 )
  {
    case 0:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_0)[2 * start_idx]);
      break;
    case 1:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_1)[2 * start_idx]);
      break;
    case 2:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_2)[2 * start_idx]);
      break;
    case 3:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_3)[2 * start_idx]);
      break;
    case 4:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_4)[2 * start_idx]);
      break;
    case 5:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_5)[2 * start_idx]);
      break;
    case 6:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_6)[2 * start_idx]);
      break;
    case 7:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_7)[2 * start_idx]);
      break;
    case 8:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_8)[2 * start_idx]);
      break;
    case 9:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_9)[2 * start_idx]);
      break;
    case 10:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_10)[2 * start_idx]);
      break;
    case 11:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_11)[2 * start_idx]);
      break;
    case 12:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_12)[2 * start_idx]);
      break;
    case 13:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_13)[2 * start_idx]);
      break;
    case 14:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_14)[2 * start_idx]);
      break;
    case 15:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_15)[2 * start_idx]);
      break;
    case 16:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_16)[2 * start_idx]);
      break;
    case 17:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_17)[2 * start_idx]);
      break;
    case 18:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_18)[2 * start_idx]);
      break;
    case 19:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_19)[2 * start_idx]);
      break;
    case 20:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_20)[2 * start_idx]);
      break;
    case 21:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_21)[2 * start_idx]);
      break;
    case 22:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_22)[2 * start_idx]);
      break;
    case 23:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_23)[2 * start_idx]);
      break;
    case 24:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_24)[2 * start_idx]);
      break;
    case 25:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_25)[2 * start_idx]);
      break;
    case 26:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_26)[2 * start_idx]);
      break;
    case 27:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_27)[2 * start_idx]);
      break;
    case 28:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_28)[2 * start_idx]);
      break;
    case 29:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_29)[2 * start_idx]);
      break;
    case 30:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_30)[2 * start_idx]);
      break;
    case 31:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_31)[2 * start_idx]);
      break;
    case 32:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_32)[2 * start_idx]);
      break;
    case 33:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_33)[2 * start_idx]);
      break;
    case 34:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_34)[2 * start_idx]);
      break;
    case 35:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_35)[2 * start_idx]);
      break;
    case 36:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_36)[2 * start_idx]);
      break;
    case 37:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_37)[2 * start_idx]);
      break;
    case 38:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_38)[2 * start_idx]);
      break;
    case 39:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_39)[2 * start_idx]);
      break;
    case 40:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_40)[2 * start_idx]);
      break;
    case 41:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_41)[2 * start_idx]);
      break;
    case 42:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_42)[2 * start_idx]);
      break;
    case 43:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_43)[2 * start_idx]);
      break;
    case 44:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_44)[2 * start_idx]);
      break;
    case 45:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_45)[2 * start_idx]);
      break;
    case 46:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_46)[2 * start_idx]);
      break;
    case 47:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_47)[2 * start_idx]);
      break;
    case 48:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_48)[2 * start_idx]);
      break;
    case 49:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_49)[2 * start_idx]);
      break;
    case 50:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_50)[2 * start_idx]);
      break;
    case 51:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_51)[2 * start_idx]);
      break;
    case 52:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_52)[2 * start_idx]);
      break;
    case 53:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_53)[2 * start_idx]);
      break;
    case 54:
      result = wcscpy_s(Dst, SizeInWords, (&route_files_54)[2 * start_idx]);
      break;
    default:
      return result;
  }
  return result;
}

//----- (00339240) --------------------------------------------------------
LRESULT __stdcall SetDigScript(HWND hDlg, int nIDDlgItem, int a3)
{
  HWND v3; // eax@1
  LPARAM v4; // ST10_4@4
  HWND v5; // eax@4
  LPARAM v6; // ST10_4@8
  HWND v7; // eax@8
  LPARAM v8; // ST10_4@12
  HWND v9; // eax@12
  LPARAM v10; // ST10_4@16
  HWND v11; // eax@16
  LPARAM v12; // ST10_4@20
  HWND v13; // eax@20
  LPARAM v14; // ST10_4@24
  HWND v15; // eax@24
  LPARAM v16; // ST10_4@28
  HWND v17; // eax@28
  LPARAM v18; // ST10_4@32
  HWND v19; // eax@32
  LPARAM v20; // ST10_4@36
  HWND v21; // eax@36
  LPARAM v22; // ST10_4@40
  HWND v23; // eax@40
  LPARAM v24; // ST10_4@44
  HWND v25; // eax@44
  LPARAM v26; // ST10_4@48
  HWND v27; // eax@48
  LPARAM v28; // ST10_4@52
  HWND v29; // eax@52
  LPARAM v30; // ST10_4@56
  HWND v31; // eax@56
  LPARAM v32; // ST10_4@60
  HWND v33; // eax@60
  LPARAM v34; // ST10_4@64
  HWND v35; // eax@64
  LPARAM v36; // ST10_4@68
  HWND v37; // eax@68
  LPARAM v38; // ST10_4@72
  HWND v39; // eax@72
  LPARAM v40; // ST10_4@76
  HWND v41; // eax@76
  LPARAM v42; // ST10_4@80
  HWND v43; // eax@80
  LPARAM v44; // ST10_4@84
  HWND v45; // eax@84
  LPARAM v46; // ST10_4@88
  HWND v47; // eax@88
  LPARAM v48; // ST10_4@92
  HWND v49; // eax@92
  LPARAM v50; // ST10_4@96
  HWND v51; // eax@96
  LPARAM v52; // ST10_4@100
  HWND v53; // eax@100
  LPARAM v54; // ST10_4@104
  HWND v55; // eax@104
  LPARAM v56; // ST10_4@108
  HWND v57; // eax@108
  LPARAM v58; // ST10_4@112
  HWND v59; // eax@112
  LPARAM v60; // ST10_4@116
  HWND v61; // eax@116
  LPARAM v62; // ST10_4@120
  HWND v63; // eax@120
  LPARAM v64; // ST10_4@124
  HWND v65; // eax@124
  LPARAM v66; // ST10_4@128
  HWND v67; // eax@128
  LPARAM v68; // ST10_4@132
  HWND v69; // eax@132
  LPARAM v70; // ST10_4@136
  HWND v71; // eax@136
  LPARAM v72; // ST10_4@140
  HWND v73; // eax@140
  LPARAM v74; // ST10_4@144
  HWND v75; // eax@144
  LPARAM v76; // ST10_4@148
  HWND v77; // eax@148
  LPARAM v78; // ST10_4@152
  HWND v79; // eax@152
  LPARAM v80; // ST10_4@156
  HWND v81; // eax@156
  LPARAM v82; // ST10_4@160
  HWND v83; // eax@160
  LPARAM v84; // ST10_4@164
  HWND v85; // eax@164
  LPARAM v86; // ST10_4@168
  HWND v87; // eax@168
  LPARAM v88; // ST10_4@172
  HWND v89; // eax@172
  LPARAM v90; // ST10_4@176
  HWND v91; // eax@176
  LPARAM v92; // ST10_4@180
  HWND v93; // eax@180
  LPARAM v94; // ST10_4@184
  HWND v95; // eax@184
  LPARAM v96; // ST10_4@188
  HWND v97; // eax@188
  LPARAM v98; // ST10_4@192
  HWND v99; // eax@192
  LPARAM v100; // ST10_4@196
  HWND v101; // eax@196
  LPARAM v102; // ST10_4@200
  HWND v103; // eax@200
  LPARAM v104; // ST10_4@204
  HWND v105; // eax@204
  LPARAM v106; // ST10_4@208
  HWND v107; // eax@208
  LPARAM v108; // ST10_4@212
  HWND v109; // eax@212
  LPARAM v110; // ST10_4@216
  HWND v111; // eax@216
  LPARAM v112; // ST10_4@220
  HWND v113; // eax@220
  LPARAM v114; // ST10_4@224
  HWND v115; // eax@224
  HWND v116; // eax@225
  WPARAM wParam; // [sp+4h] [bp-4h]@2
  WPARAM wParama; // [sp+4h] [bp-4h]@6
  WPARAM wParamb; // [sp+4h] [bp-4h]@10
  WPARAM wParamc; // [sp+4h] [bp-4h]@14
  WPARAM wParamd; // [sp+4h] [bp-4h]@18
  WPARAM wParame; // [sp+4h] [bp-4h]@22
  WPARAM wParamf; // [sp+4h] [bp-4h]@26
  WPARAM wParamg; // [sp+4h] [bp-4h]@30
  WPARAM wParamh; // [sp+4h] [bp-4h]@34
  WPARAM wParami; // [sp+4h] [bp-4h]@38
  WPARAM wParamj; // [sp+4h] [bp-4h]@42
  WPARAM wParamk; // [sp+4h] [bp-4h]@46
  WPARAM wParaml; // [sp+4h] [bp-4h]@50
  WPARAM wParamm; // [sp+4h] [bp-4h]@54
  WPARAM wParamn; // [sp+4h] [bp-4h]@58
  WPARAM wParamo; // [sp+4h] [bp-4h]@62
  WPARAM wParamp; // [sp+4h] [bp-4h]@66
  WPARAM wParamq; // [sp+4h] [bp-4h]@70
  WPARAM wParamr; // [sp+4h] [bp-4h]@74
  WPARAM wParams; // [sp+4h] [bp-4h]@78
  WPARAM wParamt; // [sp+4h] [bp-4h]@82
  WPARAM wParamu; // [sp+4h] [bp-4h]@86
  WPARAM wParamv; // [sp+4h] [bp-4h]@90
  WPARAM wParamw; // [sp+4h] [bp-4h]@94
  WPARAM wParamx; // [sp+4h] [bp-4h]@98
  WPARAM wParamy; // [sp+4h] [bp-4h]@102
  WPARAM wParamz; // [sp+4h] [bp-4h]@106
  WPARAM wParamba; // [sp+4h] [bp-4h]@110
  WPARAM wParambb; // [sp+4h] [bp-4h]@114
  WPARAM wParambc; // [sp+4h] [bp-4h]@118
  WPARAM wParambd; // [sp+4h] [bp-4h]@122
  WPARAM wParambe; // [sp+4h] [bp-4h]@126
  WPARAM wParambf; // [sp+4h] [bp-4h]@130
  WPARAM wParambg; // [sp+4h] [bp-4h]@134
  WPARAM wParambh; // [sp+4h] [bp-4h]@138
  WPARAM wParambi; // [sp+4h] [bp-4h]@142
  WPARAM wParambj; // [sp+4h] [bp-4h]@146
  WPARAM wParambk; // [sp+4h] [bp-4h]@150
  WPARAM wParambl; // [sp+4h] [bp-4h]@154
  WPARAM wParambm; // [sp+4h] [bp-4h]@158
  WPARAM wParambn; // [sp+4h] [bp-4h]@162
  WPARAM wParambo; // [sp+4h] [bp-4h]@166
  WPARAM wParambp; // [sp+4h] [bp-4h]@170
  WPARAM wParambq; // [sp+4h] [bp-4h]@174
  WPARAM wParambr; // [sp+4h] [bp-4h]@178
  WPARAM wParambs; // [sp+4h] [bp-4h]@182
  WPARAM wParambt; // [sp+4h] [bp-4h]@186
  WPARAM wParambu; // [sp+4h] [bp-4h]@190
  WPARAM wParambv; // [sp+4h] [bp-4h]@194
  WPARAM wParambw; // [sp+4h] [bp-4h]@198
  WPARAM wParambx; // [sp+4h] [bp-4h]@202
  WPARAM wParamby; // [sp+4h] [bp-4h]@206
  WPARAM wParambz; // [sp+4h] [bp-4h]@210
  WPARAM wParamca; // [sp+4h] [bp-4h]@214
  WPARAM wParamcb; // [sp+4h] [bp-4h]@218
  WPARAM wParamcc; // [sp+4h] [bp-4h]@222

  v3 = GetDlgItem(hDlg, nIDDlgItem);
  SendMessageA(v3, 0x14Bu, 0, 0);
  switch ( a3 + 1 )
  {
    case 1:
      for ( wParam = 0; wParam < 21; ++wParam )
      {
        v4 = *(&route_files_short_0 + wParam);
        v5 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v5, 0x14Au, wParam, v4);
      }
      break;
    case 2:
      for ( wParama = 0; wParama < 115; ++wParama )
      {
        v6 = *(&route_files_short_1 + wParama);
        v7 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v7, 0x14Au, wParama, v6);
      }
      break;
    case 3:
      for ( wParamb = 0; wParamb < 36; ++wParamb )
      {
        v8 = *(&route_files_short_1k + wParamb);
        v9 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v9, 0x14Au, wParamb, v8);
      }
      break;
    case 4:
      for ( wParamc = 0; wParamc < 20; ++wParamc )
      {
        v10 = *(&route_files_short_1s + wParamc);
        v11 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v11, 0x14Au, wParamc, v10);
      }
      break;
    case 5:
      for ( wParamd = 0; wParamd < 92; ++wParamd )
      {
        v12 = *(&route_files_short_2k + wParamd);
        v13 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v13, 0x14Au, wParamd, v12);
      }
      break;
    case 6:
      for ( wParame = 0; wParame < 102; ++wParame )
      {
        v14 = *(&route_files_short_2s + wParame);
        v15 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v15, 0x14Au, wParame, v14);
      }
      break;
    case 7:
      for ( wParamf = 0; wParamf < 14; ++wParamf )
      {
        v16 = *(&route_files_short_3a0 + wParamf);
        v17 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v17, 0x14Au, wParamf, v16);
      }
      break;
    case 8:
      for ( wParamg = 0; wParamg < 35; ++wParamg )
      {
        v18 = *(&route_files_short_3a1 + wParamg);
        v19 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v19, 0x14Au, wParamg, v18);
      }
      break;
    case 9:
      for ( wParamh = 0; wParamh < 4; ++wParamh )
      {
        v20 = *(&route_files_short_3ak + wParamh);
        v21 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v21, 0x14Au, wParamh, v20);
      }
      break;
    case 10:
      for ( wParami = 0; wParami < 4; ++wParami )
      {
        v22 = *(&route_files_short_3as + wParami);
        v23 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v23, 0x14Au, wParami, v22);
      }
      break;
    case 11:
      for ( wParamj = 0; wParamj < 3; ++wParamj )
      {
        v24 = *(&route_files_short_3b0 + wParamj);
        v25 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v25, 0x14Au, wParamj, v24);
      }
      break;
    case 12:
      for ( wParamk = 0; wParamk < 4; ++wParamk )
      {
        v26 = *(&route_files_short_3b1 + wParamk);
        v27 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v27, 0x14Au, wParamk, v26);
      }
      break;
    case 13:
      for ( wParaml = 0; wParaml < 15; ++wParaml )
      {
        v28 = *(&route_files_short_3b2 + wParaml);
        v29 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v29, 0x14Au, wParaml, v28);
      }
      break;
    case 14:
      for ( wParamm = 0; wParamm < 45; ++wParamm )
      {
        v30 = *(&route_files_short_3bk + wParamm);
        v31 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v31, 0x14Au, wParamm, v30);
      }
      break;
    case 15:
      for ( wParamn = 0; wParamn < 99; ++wParamn )
      {
        v32 = *(&route_files_short_3ka + wParamn);
        v33 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v33, 0x14Au, wParamn, v32);
      }
      break;
    case 16:
      for ( wParamo = 0; wParamo < 109; ++wParamo )
      {
        v34 = *(&route_files_short_3kb + wParamo);
        v35 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v35, 0x14Au, wParamo, v34);
      }
      break;
    case 17:
      for ( wParamp = 0; wParamp < 1; ++wParamp )
      {
        v36 = *(&route_files_short_3s0 + wParamp);
        v37 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v37, 0x14Au, wParamp, v36);
      }
      break;
    case 18:
      for ( wParamq = 0; wParamq < 72; ++wParamq )
      {
        v38 = *(&route_files_short_3sa + wParamq);
        v39 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v39, 0x14Au, wParamq, v38);
      }
      break;
    case 19:
      for ( wParamr = 0; wParamr < 79; ++wParamr )
      {
        v40 = *(&route_files_short_3sb + wParamr);
        v41 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v41, 0x14Au, wParamr, v40);
      }
      break;
    case 20:
      for ( wParams = 0; wParams < 13; ++wParams )
      {
        v42 = *(&route_files_short_4c0 + wParams);
        v43 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v43, 0x14Au, wParams, v42);
      }
      break;
    case 21:
      for ( wParamt = 0; wParamt < 14; ++wParamt )
      {
        v44 = *(&route_files_short_4c1 + wParamt);
        v45 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v45, 0x14Au, wParamt, v44);
      }
      break;
    case 22:
      for ( wParamu = 0; wParamu < 8; ++wParamu )
      {
        v46 = *(&route_files_short_4e0 + wParamu);
        v47 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v47, 0x14Au, wParamu, v46);
      }
      break;
    case 23:
      for ( wParamv = 0; wParamv < 52; ++wParamv )
      {
        v48 = *(&route_files_short_4ka + wParamv);
        v49 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v49, 0x14Au, wParamv, v48);
      }
      break;
    case 24:
      for ( wParamw = 0; wParamw < 37; ++wParamw )
      {
        v50 = *(&route_files_short_4kb + wParamw);
        v51 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v51, 0x14Au, wParamw, v50);
      }
      break;
    case 25:
      for ( wParamx = 0; wParamx < 49; ++wParamx )
      {
        v52 = *(&route_files_short_4kc + wParamx);
        v53 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v53, 0x14Au, wParamx, v52);
      }
      break;
    case 26:
      for ( wParamy = 0; wParamy < 27; ++wParamy )
      {
        v54 = *(&route_files_short_4ke + wParamy);
        v55 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v55, 0x14Au, wParamy, v54);
      }
      break;
    case 27:
      for ( wParamz = 0; wParamz < 99; ++wParamz )
      {
        v56 = *(&route_files_short_4sa + wParamz);
        v57 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v57, 0x14Au, wParamz, v56);
      }
      break;
    case 28:
      for ( wParamba = 0; wParamba < 45; ++wParamba )
      {
        v58 = *(&route_files_short_4sb + wParamba);
        v59 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v59, 0x14Au, wParamba, v58);
      }
      break;
    case 29:
      for ( wParambb = 0; wParambb < 20; ++wParambb )
      {
        v60 = *(&route_files_short_4sc + wParambb);
        v61 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v61, 0x14Au, wParambb, v60);
      }
      break;
    case 30:
      for ( wParambc = 0; wParambc < 37; ++wParambc )
      {
        v62 = *(&route_files_short_4se + wParambc);
        v63 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v63, 0x14Au, wParambc, v62);
      }
      break;
    case 31:
      for ( wParambd = 0; wParambd < 2; ++wParambd )
      {
        v64 = *(&route_files_short_4sf + wParambd);
        v65 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v65, 0x14Au, wParambd, v64);
      }
      break;
    case 32:
      for ( wParambe = 0; wParambe < 2; ++wParambe )
      {
        v66 = *(&route_files_short_4sg + wParambe);
        v67 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v67, 0x14Au, wParambe, v66);
      }
      break;
    case 33:
      for ( wParambf = 0; wParambf < 16; ++wParambf )
      {
        v68 = *(&route_files_short_55h + wParambf);
        v69 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v69, 0x14Au, wParambf, v68);
      }
      break;
    case 34:
      for ( wParambg = 0; wParambg < 72; ++wParambg )
      {
        v70 = *(&route_files_short_55o + wParambg);
        v71 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v71, 0x14Au, wParambg, v70);
      }
      break;
    case 35:
      for ( wParambh = 0; wParambh < 3; ++wParambh )
      {
        v72 = *(&route_files_short_59h + wParambh);
        v73 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v73, 0x14Au, wParambh, v72);
      }
      break;
    case 36:
      for ( wParambi = 0; wParambi < 1; ++wParambi )
      {
        v74 = *(&route_files_short_59k + wParambi);
        v75 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v75, 0x14Au, wParambi, v74);
      }
      break;
    case 37:
      for ( wParambj = 0; wParambj < 1; ++wParambj )
      {
        v76 = *(&route_files_short_59o + wParambj);
        v77 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v77, 0x14Au, wParambj, v76);
      }
      break;
    case 38:
      for ( wParambk = 0; wParambk < 1; ++wParambk )
      {
        v78 = *(&route_files_short_59s + wParambk);
        v79 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v79, 0x14Au, wParambk, v78);
      }
      break;
    case 39:
      for ( wParambl = 0; wParambl < 5; ++wParambl )
      {
        v80 = *(&route_files_short_5a0 + wParambl);
        v81 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v81, 0x14Au, wParambl, v80);
      }
      break;
    case 40:
      for ( wParambm = 0; wParambm < 7; ++wParambm )
      {
        v82 = *(&route_files_short_5a2 + wParambm);
        v83 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v83, 0x14Au, wParambm, v82);
      }
      break;
    case 41:
      for ( wParambn = 0; wParambn < 10; ++wParambn )
      {
        v84 = *(&route_files_short_5b0 + wParambn);
        v85 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v85, 0x14Au, wParambn, v84);
      }
      break;
    case 42:
      for ( wParambo = 0; wParambo < 46; ++wParambo )
      {
        v86 = *(&route_files_short_5g0 + wParambo);
        v87 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v87, 0x14Au, wParambo, v86);
      }
      break;
    case 43:
      for ( wParambp = 0; wParambp < 36; ++wParambp )
      {
        v88 = *(&route_files_short_5ka + wParambp);
        v89 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v89, 0x14Au, wParambp, v88);
      }
      break;
    case 44:
      for ( wParambq = 0; wParambq < 48; ++wParambq )
      {
        v90 = *(&route_files_short_5kb + wParambq);
        v91 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v91, 0x14Au, wParambq, v90);
      }
      break;
    case 45:
      for ( wParambr = 0; wParambr < 14; ++wParambr )
      {
        v92 = *(&route_files_short_5kc + wParambr);
        v93 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v93, 0x14Au, wParambr, v92);
      }
      break;
    case 46:
      for ( wParambs = 0; wParambs < 48; ++wParambs )
      {
        v94 = *(&route_files_short_5kf + wParambs);
        v95 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v95, 0x14Au, wParambs, v94);
      }
      break;
    case 47:
      for ( wParambt = 0; wParambt < 21; ++wParambt )
      {
        v96 = *(&route_files_short_5kg + wParambt);
        v97 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v97, 0x14Au, wParambt, v96);
      }
      break;
    case 48:
      for ( wParambu = 0; wParambu < 48; ++wParambu )
      {
        v98 = *(&route_files_short_5ki + wParambu);
        v99 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v99, 0x14Au, wParambu, v98);
      }
      break;
    case 49:
      for ( wParambv = 0; wParambv < 23; ++wParambv )
      {
        v100 = *(&route_files_short_6sa + wParambv);
        v101 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v101, 0x14Au, wParambv, v100);
      }
      break;
    case 50:
      for ( wParambw = 0; wParambw < 29; ++wParambw )
      {
        v102 = *(&route_files_short_5sb + wParambw);
        v103 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v103, 0x14Au, wParambw, v102);
      }
      break;
    case 51:
      for ( wParambx = 0; wParambx < 47; ++wParambx )
      {
        v104 = *(&route_files_short_5sc + wParambx);
        v105 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v105, 0x14Au, wParambx, v104);
      }
      break;
    case 52:
      for ( wParamby = 0; wParamby < 26; ++wParamby )
      {
        v106 = *(&route_files_short_5sd + wParamby);
        v107 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v107, 0x14Au, wParamby, v106);
      }
      break;
    case 53:
      for ( wParambz = 0; wParambz < 46; ++wParambz )
      {
        v108 = *(&route_files_short_5se + wParambz);
        v109 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v109, 0x14Au, wParambz, v108);
      }
      break;
    case 54:
      for ( wParamca = 0; wParamca < 1; ++wParamca )
      {
        v110 = *(&route_files_short_5sg + wParamca);
        v111 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v111, 0x14Au, wParamca, v110);
      }
      break;
    case 55:
      for ( wParamcb = 0; wParamcb < 1; ++wParamcb )
      {
        v112 = *(&route_files_short_5sh + wParamcb);
        v113 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v113, 0x14Au, wParamcb, v112);
      }
      break;
    case 0:
      for ( wParamcc = 0; wParamcc < 55; ++wParamcc )
      {
        v114 = *(&off_3A2108 + wParamcc);
        v115 = GetDlgItem(hDlg, nIDDlgItem);
        SendMessageA(v115, 0x14Au, wParamcc, v114);
      }
      break;
    default:
      break;
  }
  v116 = GetDlgItem(hDlg, nIDDlgItem);
  return SendMessageA(v116, 0x14Eu, 0, 0);
}

//----- (0033A350) --------------------------------------------------------
int __stdcall GetReadScriptCount(ScriptObject *obj)
{
  signed int i; // [sp+4h] [bp-Ch]@1
  int v3; // [sp+8h] [bp-8h]@1
  signed int j; // [sp+Ch] [bp-4h]@5
  signed int k; // [sp+Ch] [bp-4h]@11
  signed int l; // [sp+Ch] [bp-4h]@17
  signed int m; // [sp+Ch] [bp-4h]@23
  signed int n; // [sp+Ch] [bp-4h]@29
  signed int ii; // [sp+Ch] [bp-4h]@35
  signed int jj; // [sp+Ch] [bp-4h]@41
  signed int kk; // [sp+Ch] [bp-4h]@47
  signed int ll; // [sp+Ch] [bp-4h]@53
  signed int mm; // [sp+Ch] [bp-4h]@59
  signed int nn; // [sp+Ch] [bp-4h]@65
  signed int i1; // [sp+Ch] [bp-4h]@71
  signed int i2; // [sp+Ch] [bp-4h]@77
  signed int i3; // [sp+Ch] [bp-4h]@83
  signed int i4; // [sp+Ch] [bp-4h]@89
  signed int i5; // [sp+Ch] [bp-4h]@95
  signed int i6; // [sp+Ch] [bp-4h]@101
  signed int i7; // [sp+Ch] [bp-4h]@107
  signed int i8; // [sp+Ch] [bp-4h]@113
  signed int i9; // [sp+Ch] [bp-4h]@119
  signed int i10; // [sp+Ch] [bp-4h]@125
  signed int i11; // [sp+Ch] [bp-4h]@131
  signed int i12; // [sp+Ch] [bp-4h]@137
  signed int i13; // [sp+Ch] [bp-4h]@143
  signed int i14; // [sp+Ch] [bp-4h]@149
  signed int i15; // [sp+Ch] [bp-4h]@155
  signed int i16; // [sp+Ch] [bp-4h]@161
  signed int i17; // [sp+Ch] [bp-4h]@167
  signed int i18; // [sp+Ch] [bp-4h]@173
  signed int i19; // [sp+Ch] [bp-4h]@179
  signed int i20; // [sp+Ch] [bp-4h]@185
  signed int i21; // [sp+Ch] [bp-4h]@191
  signed int i22; // [sp+Ch] [bp-4h]@197
  signed int i23; // [sp+Ch] [bp-4h]@203
  signed int i24; // [sp+Ch] [bp-4h]@209
  signed int i25; // [sp+Ch] [bp-4h]@215
  signed int i26; // [sp+Ch] [bp-4h]@221
  signed int i27; // [sp+Ch] [bp-4h]@227
  signed int i28; // [sp+Ch] [bp-4h]@233
  signed int i29; // [sp+Ch] [bp-4h]@239
  signed int i30; // [sp+Ch] [bp-4h]@245
  signed int i31; // [sp+Ch] [bp-4h]@251
  signed int i32; // [sp+Ch] [bp-4h]@257
  signed int i33; // [sp+Ch] [bp-4h]@263
  signed int i34; // [sp+Ch] [bp-4h]@269
  signed int i35; // [sp+Ch] [bp-4h]@275
  signed int i36; // [sp+Ch] [bp-4h]@281
  signed int i37; // [sp+Ch] [bp-4h]@287
  signed int i38; // [sp+Ch] [bp-4h]@293
  signed int i39; // [sp+Ch] [bp-4h]@299
  signed int i40; // [sp+Ch] [bp-4h]@305
  signed int i41; // [sp+Ch] [bp-4h]@311
  signed int i42; // [sp+Ch] [bp-4h]@317
  signed int i43; // [sp+Ch] [bp-4h]@323
  signed int i44; // [sp+Ch] [bp-4h]@329

  v3 = 0;
  for ( i = 0; i < 55; ++i )
  {
    switch ( i )
    {
      case 0:
        for ( j = 0; j < 21; ++j )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_0)[2 * j]) )
            ++v3;
        }
        break;
      case 1:
        for ( k = 0; k < 115; ++k )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_1)[2 * k]) )
            ++v3;
        }
        break;
      case 2:
        for ( l = 0; l < 36; ++l )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_2)[2 * l]) )
            ++v3;
        }
        break;
      case 3:
        for ( m = 0; m < 20; ++m )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_3)[2 * m]) )
            ++v3;
        }
        break;
      case 4:
        for ( n = 0; n < 92; ++n )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_4)[2 * n]) )
            ++v3;
        }
        break;
      case 5:
        for ( ii = 0; ii < 102; ++ii )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_5)[2 * ii]) )
            ++v3;
        }
        break;
      case 6:
        for ( jj = 0; jj < 14; ++jj )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_6)[2 * jj]) )
            ++v3;
        }
        break;
      case 7:
        for ( kk = 0; kk < 35; ++kk )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_7)[2 * kk]) )
            ++v3;
        }
        break;
      case 8:
        for ( ll = 0; ll < 4; ++ll )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_8)[2 * ll]) )
            ++v3;
        }
        break;
      case 9:
        for ( mm = 0; mm < 4; ++mm )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_9)[2 * mm]) )
            ++v3;
        }
        break;
      case 10:
        for ( nn = 0; nn < 3; ++nn )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_10)[2 * nn]) )
            ++v3;
        }
        break;
      case 11:
        for ( i1 = 0; i1 < 4; ++i1 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_11)[2 * i1]) )
            ++v3;
        }
        break;
      case 12:
        for ( i2 = 0; i2 < 15; ++i2 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_12)[2 * i2]) )
            ++v3;
        }
        break;
      case 13:
        for ( i3 = 0; i3 < 45; ++i3 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_13)[2 * i3]) )
            ++v3;
        }
        break;
      case 14:
        for ( i4 = 0; i4 < 99; ++i4 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_14)[2 * i4]) )
            ++v3;
        }
        break;
      case 15:
        for ( i5 = 0; i5 < 109; ++i5 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_15)[2 * i5]) )
            ++v3;
        }
        break;
      case 16:
        for ( i6 = 0; i6 < 1; ++i6 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_16)[2 * i6]) )
            ++v3;
        }
        break;
      case 17:
        for ( i7 = 0; i7 < 72; ++i7 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_17)[2 * i7]) )
            ++v3;
        }
        break;
      case 18:
        for ( i8 = 0; i8 < 79; ++i8 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_18)[2 * i8]) )
            ++v3;
        }
        break;
      case 19:
        for ( i9 = 0; i9 < 13; ++i9 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_19)[2 * i9]) )
            ++v3;
        }
        break;
      case 20:
        for ( i10 = 0; i10 < 14; ++i10 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_20)[2 * i10]) )
            ++v3;
        }
        break;
      case 21:
        for ( i11 = 0; i11 < 8; ++i11 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_21)[2 * i11]) )
            ++v3;
        }
        break;
      case 22:
        for ( i12 = 0; i12 < 52; ++i12 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_22)[2 * i12]) )
            ++v3;
        }
        break;
      case 23:
        for ( i13 = 0; i13 < 37; ++i13 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_23)[2 * i13]) )
            ++v3;
        }
        break;
      case 24:
        for ( i14 = 0; i14 < 49; ++i14 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_24)[2 * i14]) )
            ++v3;
        }
        break;
      case 25:
        for ( i15 = 0; i15 < 27; ++i15 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_25)[2 * i15]) )
            ++v3;
        }
        break;
      case 26:
        for ( i16 = 0; i16 < 99; ++i16 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_26)[2 * i16]) )
            ++v3;
        }
        break;
      case 27:
        for ( i17 = 0; i17 < 45; ++i17 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_27)[2 * i17]) )
            ++v3;
        }
        break;
      case 28:
        for ( i18 = 0; i18 < 20; ++i18 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_28)[2 * i18]) )
            ++v3;
        }
        break;
      case 29:
        for ( i19 = 0; i19 < 37; ++i19 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_29)[2 * i19]) )
            ++v3;
        }
        break;
      case 30:
        for ( i20 = 0; i20 < 2; ++i20 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_30)[2 * i20]) )
            ++v3;
        }
        break;
      case 31:
        for ( i21 = 0; i21 < 2; ++i21 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_31)[2 * i21]) )
            ++v3;
        }
        break;
      case 32:
        for ( i22 = 0; i22 < 16; ++i22 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_32)[2 * i22]) )
            ++v3;
        }
        break;
      case 33:
        for ( i23 = 0; i23 < 72; ++i23 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_33)[2 * i23]) )
            ++v3;
        }
        break;
      case 34:
        for ( i24 = 0; i24 < 3; ++i24 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_34)[2 * i24]) )
            ++v3;
        }
        break;
      case 35:
        for ( i25 = 0; i25 < 1; ++i25 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_35)[2 * i25]) )
            ++v3;
        }
        break;
      case 36:
        for ( i26 = 0; i26 < 1; ++i26 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_36)[2 * i26]) )
            ++v3;
        }
        break;
      case 37:
        for ( i27 = 0; i27 < 1; ++i27 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_37)[2 * i27]) )
            ++v3;
        }
        break;
      case 38:
        for ( i28 = 0; i28 < 5; ++i28 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_38)[2 * i28]) )
            ++v3;
        }
        break;
      case 39:
        for ( i29 = 0; i29 < 7; ++i29 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_39)[2 * i29]) )
            ++v3;
        }
        break;
      case 40:
        for ( i30 = 0; i30 < 10; ++i30 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_40)[2 * i30]) )
            ++v3;
        }
        break;
      case 41:
        for ( i31 = 0; i31 < 46; ++i31 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_41)[2 * i31]) )
            ++v3;
        }
        break;
      case 42:
        for ( i32 = 0; i32 < 36; ++i32 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_42)[2 * i32]) )
            ++v3;
        }
        break;
      case 43:
        for ( i33 = 0; i33 < 48; ++i33 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_43)[2 * i33]) )
            ++v3;
        }
        break;
      case 44:
        for ( i34 = 0; i34 < 14; ++i34 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_44)[2 * i34]) )
            ++v3;
        }
        break;
      case 45:
        for ( i35 = 0; i35 < 48; ++i35 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_45)[2 * i35]) )
            ++v3;
        }
        break;
      case 46:
        for ( i36 = 0; i36 < 21; ++i36 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_46)[2 * i36]) )
            ++v3;
        }
        break;
      case 47:
        for ( i37 = 0; i37 < 48; ++i37 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_47)[2 * i37]) )
            ++v3;
        }
        break;
      case 48:
        for ( i38 = 0; i38 < 23; ++i38 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_48)[2 * i38]) )
            ++v3;
        }
        break;
      case 49:
        for ( i39 = 0; i39 < 29; ++i39 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_49)[2 * i39]) )
            ++v3;
        }
        break;
      case 50:
        for ( i40 = 0; i40 < 47; ++i40 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_50)[2 * i40]) )
            ++v3;
        }
        break;
      case 51:
        for ( i41 = 0; i41 < 26; ++i41 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_51)[2 * i41]) )
            ++v3;
        }
        break;
      case 52:
        for ( i42 = 0; i42 < 46; ++i42 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_52)[2 * i42]) )
            ++v3;
        }
        break;
      case 53:
        for ( i43 = 0; i43 < 1; ++i43 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_53)[2 * i43]) )
            ++v3;
        }
        break;
      case 54:
        for ( i44 = 0; i44 < 1; ++i44 )
        {
          if ( (obj->vtable->ScriptExists)(obj, (&route_files_54)[2 * i44]) )
            ++v3;
        }
        break;
      default:
        continue;
    }
  }
  return v3;
}

//----- (0033B320) --------------------------------------------------------
signed int __cdecl GetScriptMax()
{
  return 1825;
}

//----- (0033B330) --------------------------------------------------------
signed int __stdcall CheckInputScript(const wchar_t *a1)
{
  signed int result; // eax@5
  signed int v2; // [sp+4h] [bp-4h]@1

  v2 = 0;
  while ( 2 )
  {
    if ( v2 >= 55 )
    {
      result = 0;
    }
    else
    {
      switch ( v2 )
      {
        case 0:
          if ( !CheckInputScript_route_0(a1) )
            goto label_end;
          result = 1;
          break;
        case 1:
          if ( !CheckInputScript_route_1(a1) )
            goto label_end;
          result = 1;
          break;
        case 2:
          if ( !CheckInputScript_route_2(a1) )
            goto label_end;
          result = 1;
          break;
        case 3:
          if ( !CheckInputScript_route_3(a1) )
            goto label_end;
          result = 1;
          break;
        case 4:
          if ( !CheckInputScript_route_4(a1) )
            goto label_end;
          result = 1;
          break;
        case 5:
          if ( !CheckInputScript_route_5(a1) )
            goto label_end;
          result = 1;
          break;
        case 6:
          if ( !CheckInputScript_route_6(a1) )
            goto label_end;
          result = 1;
          break;
        case 7:
          if ( !CheckInputScript_route_7(a1) )
            goto label_end;
          result = 1;
          break;
        case 8:
          if ( !CheckInputScript_route_8(a1) )
            goto label_end;
          result = 1;
          break;
        case 9:
          if ( !CheckInputScript_route_9(a1) )
            goto label_end;
          result = 1;
          break;
        case 10:
          if ( !CheckInputScript_route_10(a1) )
            goto label_end;
          result = 1;
          break;
        case 11:
          if ( !CheckInputScript_route_11(a1) )
            goto label_end;
          result = 1;
          break;
        case 12:
          if ( !CheckInputScript_route_12(a1) )
            goto label_end;
          result = 1;
          break;
        case 13:
          if ( !CheckInputScript_route_13(a1) )
            goto label_end;
          result = 1;
          break;
        case 14:
          if ( !CheckInputScript_route_14(a1) )
            goto label_end;
          result = 1;
          break;
        case 15:
          if ( !CheckInputScript_route_15(a1) )
            goto label_end;
          result = 1;
          break;
        case 16:
          if ( !CheckInputScript_route_16(a1) )
            goto label_end;
          result = 1;
          break;
        case 17:
          if ( !CheckInputScript_route_17(a1) )
            goto label_end;
          result = 1;
          break;
        case 18:
          if ( !CheckInputScript_route_18(a1) )
            goto label_end;
          result = 1;
          break;
        case 19:
          if ( !CheckInputScript_route_19(a1) )
            goto label_end;
          result = 1;
          break;
        case 20:
          if ( !CheckInputScript_route_20(a1) )
            goto label_end;
          result = 1;
          break;
        case 21:
          if ( !CheckInputScript_route_21(a1) )
            goto label_end;
          result = 1;
          break;
        case 22:
          if ( !CheckInputScript_route_22(a1) )
            goto label_end;
          result = 1;
          break;
        case 23:
          if ( !CheckInputScript_route_23(a1) )
            goto label_end;
          result = 1;
          break;
        case 24:
          if ( !CheckInputScript_route_24(a1) )
            goto label_end;
          result = 1;
          break;
        case 25:
          if ( !CheckInputScript_route_25(a1) )
            goto label_end;
          result = 1;
          break;
        case 26:
          if ( !CheckInputScript_route_26(a1) )
            goto label_end;
          result = 1;
          break;
        case 27:
          if ( !CheckInputScript_route_27(a1) )
            goto label_end;
          result = 1;
          break;
        case 28:
          if ( !CheckInputScript_route_28(a1) )
            goto label_end;
          result = 1;
          break;
        case 29:
          if ( !CheckInputScript_route_29(a1) )
            goto label_end;
          result = 1;
          break;
        case 30:
          if ( !CheckInputScript_route_30(a1) )
            goto label_end;
          result = 1;
          break;
        case 31:
          if ( !CheckInputScript_route_31(a1) )
            goto label_end;
          result = 1;
          break;
        case 32:
          if ( !CheckInputScript_route_32(a1) )
            goto label_end;
          result = 1;
          break;
        case 33:
          if ( !CheckInputScript_route_33(a1) )
            goto label_end;
          result = 1;
          break;
        case 34:
          if ( !CheckInputScript_route_34(a1) )
            goto label_end;
          result = 1;
          break;
        case 35:
          if ( !CheckInputScript_route_35(a1) )
            goto label_end;
          result = 1;
          break;
        case 36:
          if ( !CheckInputScript_route_36(a1) )
            goto label_end;
          result = 1;
          break;
        case 37:
          if ( !CheckInputScript_route_37(a1) )
            goto label_end;
          result = 1;
          break;
        case 38:
          if ( !CheckInputScript_route_38(a1) )
            goto label_end;
          result = 1;
          break;
        case 39:
          if ( !CheckInputScript_route_39(a1) )
            goto label_end;
          result = 1;
          break;
        case 40:
          if ( !CheckInputScript_route_40(a1) )
            goto label_end;
          result = 1;
          break;
        case 41:
          if ( !CheckInputScript_route_41(a1) )
            goto label_end;
          result = 1;
          break;
        case 42:
          if ( !CheckInputScript_route_42(a1) )
            goto label_end;
          result = 1;
          break;
        case 43:
          if ( !CheckInputScript_route_43(a1) )
            goto label_end;
          result = 1;
          break;
        case 44:
          if ( !CheckInputScript_route_44(a1) )
            goto label_end;
          result = 1;
          break;
        case 45:
          if ( !CheckInputScript_route_45(a1) )
            goto label_end;
          result = 1;
          break;
        case 46:
          if ( !CheckInputScript_route_46(a1) )
            goto label_end;
          result = 1;
          break;
        case 47:
          if ( !CheckInputScript_route_47(a1) )
            goto label_end;
          result = 1;
          break;
        case 48:
          if ( !CheckInputScript_route_48(a1) )
            goto label_end;
          result = 1;
          break;
        case 49:
          if ( !CheckInputScript_route_49(a1) )
            goto label_end;
          result = 1;
          break;
        case 50:
          if ( !CheckInputScript_route_50(a1) )
            goto label_end;
          result = 1;
          break;
        case 51:
          if ( !CheckInputScript_route_51(a1) )
            goto label_end;
          result = 1;
          break;
        case 52:
          if ( !CheckInputScript_route_52(a1) )
            goto label_end;
          result = 1;
          break;
        case 53:
          if ( !CheckInputScript_route_53(a1) )
            goto label_end;
          result = 1;
          break;
        case 54:
          if ( !CheckInputScript_route_54(a1) )
          {
label_end:
            ++v2;
            continue;
          }
          result = 1;
          break;
        default:
          result = 0;
          break;
      }
    }
    return result;
  }
}

//----- (0033BAF0) --------------------------------------------------------
signed int __stdcall CheckScriptNo(ScriptObject *a1)
{
  signed int result; // eax@3
  int v2; // [sp+8h] [bp-4h]@1

  v2 = (a1->vtable->GetVariable)(a1, L"ROUTE");
  if ( (a1->vtable->GetVariable)(a1, L"SCENE") )
  {
    result = 0;
  }
  else
  {
    switch ( v2 )
    {
      case 1:
      case 4:
      case 5:
      case 14:
      case 15:
      case 17:
      case 18:
      case 22:
      case 23:
      case 24:
      case 25:
      case 26:
      case 27:
      case 28:
      case 29:
      case 30:
      case 31:
      case 32:
      case 33:
      case 42:
      case 43:
      case 44:
      case 45:
      case 46:
      case 47:
      case 48:
      case 49:
      case 50:
      case 51:
      case 52:
      case 53:
      case 54:
        result = 1;
        break;
      default:
        result = 0;
        break;
    }
  }
  return result;
}
// 3854C0: using guessed type wchar_t aRoute_7[6];
// 3854CC: using guessed type wchar_t aScene_4[6];

//----- (0033BBA0) --------------------------------------------------------
int __stdcall SetFeeling(ScriptObject *obj, int a2)
{
  int route; // eax@1

  route = (obj->vtable->GetVariable)(obj, L"ROUTE");
  switch ( route )
  {
    case 0:
      route = SetFeeling_route_0(obj, a2);
      break;
    case 1:
      route = SetFeeling_route_1(obj, a2);
      break;
    case 2:
      route = SetFeeling_route_2(obj, a2);
      break;
    case 3:
      route = SetFeeling_route_3(obj);
      break;
    case 4:
      route = SetFeeling_route_4(obj, a2);
      break;
    case 5:
      route = SetFeeling_route_5(obj, a2);
      break;
    case 6:
      route = SetFeeling_route_6(obj, a2);
      break;
    case 7:
      route = SetFeeling_route_7(obj, a2);
      break;
    case 8:
      route = SetFeeling_route_8(obj);
      break;
    case 9:
      route = SetFeeling_route_9(obj);
      break;
    case 10:
      route = SetFeeling_route_10(obj);
      break;
    case 11:
      route = SetFeeling_route_11(obj);
      break;
    case 12:
      route = SetFeeling_route_12(obj, a2);
      break;
    case 13:
      route = SetFeeling_route_13(obj, a2);
      break;
    case 14:
      route = SetFeeling_route_14(obj, a2);
      break;
    case 15:
      route = SetFeeling_route_15(obj, a2);
      break;
    case 16:
      route = SetFeeling_route_16(obj);
      break;
    case 17:
      route = SetFeeling_route_17(obj, a2);
      break;
    case 18:
      route = SetFeeling_route_18(obj, a2);
      break;
    case 19:
      route = SetFeeling_route_19(obj, a2);
      break;
    case 20:
      route = SetFeeling_route_20(obj, a2);
      break;
    case 21:
      route = SetFeeling_route_21(obj, a2);
      break;
    case 22:
      route = SetFeeling_route_22(obj, a2);
      break;
    case 23:
      route = SetFeeling_route_23(obj, a2);
      break;
    case 24:
      route = SetFeeling_route_24(obj, a2);
      break;
    case 25:
      route = SetFeeling_route_25(obj, a2);
      break;
    case 26:
      route = SetFeeling_route_26(obj, a2);
      break;
    case 27:
      SetFeeling_route_27(obj, a2);
      goto LABEL_30;
    case 28:
LABEL_30:
      route = SetFeeling_route_28(obj, a2);
      break;
    case 29:
      route = SetFeeling_route_29(obj, a2);
      break;
    case 30:
      route = SetFeeling_route_30(obj);
      break;
    case 31:
      route = SetFeeling_route_31(obj);
      break;
    case 32:
      route = SetFeeling_route_32(obj, a2);
      break;
    case 33:
      route = SetFeeling_route_33(obj, a2);
      break;
    case 34:
      route = SetFeeling_route_34(obj);
      break;
    case 35:
      route = SetFeeling_route_35(obj);
      break;
    case 36:
      route = SetFeeling_route_36(obj);
      break;
    case 37:
      route = SetFeeling_route_37(obj);
      break;
    case 38:
      route = SetFeeling_route_38(obj, a2);
      break;
    case 39:
      route = SetFeeling_route_39(obj);
      break;
    case 40:
      route = SetFeeling_route_40(obj);
      break;
    case 41:
      route = SetFeeling_route_41(obj, a2);
      break;
    case 42:
      route = SetFeeling_route_42(obj, a2);
      break;
    case 43:
      route = SetFeeling_route_43(obj, a2);
      break;
    case 44:
      route = SetFeeling_route_44(obj, a2);
      break;
    case 45:
      route = SetFeeling_route_45(obj, a2);
      break;
    case 46:
      route = SetFeeling_route_46(obj, a2);
      break;
    case 47:
      route = SetFeeling_route_47(obj, a2);
      break;
    case 48:
      route = SetFeeling_route_48(obj, a2);
      break;
    case 49:
      route = SetFeeling_route_49(obj, a2);
      break;
    case 50:
      route = SetFeeling_route_50(obj, a2);
      break;
    case 51:
      route = SetFeeling_route_51(obj, a2);
      break;
    case 52:
      route = SetFeeling_route_52(obj, a2);
      break;
    case 53:
      route = SetFeeling_route_53(obj);
      break;
    case 54:
      route = SetFeeling_route_54(obj);
      break;
    default:
      return route;
  }
  return route;
}
// 3854D8: using guessed type wchar_t aRoute_8[6];

//----- (0033C120) --------------------------------------------------------
signed int __stdcall GetRouteMapPage(ScriptObject *obj, int story)
{
  signed int result; // eax@2

  switch ( (obj->vtable->GetVariable)(obj, L"ROUTE") )
  {
    case 0:
    case 1:
    case 2:
    case 3:
    case 5:
    case 22:
    case 27:
    case 32:
    case 38:
    case 39:
    case 41:
    case 42:
    case 46:
      result = 0;
      break;
    case 4:
      result = CheckScript(obj, story) != 12;
      break;
    case 16:
    case 17:
      result = CheckScript(obj, story) == 19;
      break;
    case 6:
    case 7:
    case 8:
    case 9:
    case 14:
    case 23:
    case 26:
    case 30:
    case 31:
    case 34:
    case 47:
    case 48:
      result = 1;
      break;
    case 10:
    case 11:
    case 12:
    case 18:
    case 19:
    case 20:
    case 24:
    case 28:
    case 43:
    case 44:
    case 50:
    case 53:
    case 54:
      result = 2;
      break;
    case 15:
      if ( CheckScript(obj, story) != 28 && CheckScript(obj, story) != 39 && CheckScript(obj, story) != 43 )
        result = 3;
      else
        result = 2;
      break;
    case 21:
      if ( CheckScript(obj, story) == 41 )
        result = 2;
      else
        result = 3;
      break;
    case 29:
      if ( CheckScript(obj, story) != 43 && CheckScript(obj, story) != 57 )
        result = 3;
      else
        result = 2;
      break;
    case 13:
    case 25:
    case 33:
    case 35:
    case 36:
    case 37:
    case 45:
    case 52:
      result = 3;
      break;
    case 51:
      result = CheckScript(obj, story) != 14;
      break;
    case 49:
      if ( CheckScript(obj, story) == 55 )
        result = 3;
      else
        result = 2;
      break;
    case 40:
      if ( CheckScript(obj, story) != 12 && CheckScript(obj, story) != 20 )
      {
        if ( CheckScript(obj, story) == 23 )
        {
          result = 1;
        }
        else
        {
          if ( CheckScript(obj, story) == 49 )
            result = 3;
          else
            result = 2;
        }
      }
      else
      {
        result = 0;
      }
      break;
    default:
      result = 0;
      break;
  }
  return result;
}
// 3854E4: using guessed type wchar_t aRoute_9[6];

//----- (0033C390) --------------------------------------------------------
VARIANTARG *__thiscall sub_33C390(VARIANTARG *this)
{
  VARIANTARG *v1; // ST04_4@1

  v1 = this;
  VariantInit(this);
  return v1;
}

//----- (0033C3B0) --------------------------------------------------------
int __thiscall sub_33C3B0(int this, const OLECHAR *psz)
{
  int v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  *this = 8;
  *(this + 8) = SysAllocString(psz);
  if ( !*(v3 + 8) && psz )
    sub_3828A0(-2147024882);
  return v3;
}

//----- (0033C400) --------------------------------------------------------
HRESULT __thiscall sub_33C400(VARIANTARG *this)
{
  return VariantClear(this);
}

//----- (0033C420) --------------------------------------------------------
int __thiscall sub_33C420(int this, int a2, __int16 a3)
{
  int v4; // [sp+0h] [bp-8h]@1
  int v5; // [sp+4h] [bp-4h]@4

  v4 = this;
  if ( dword_384458 - *(this + 20) <= a2 )
    sub_382B9F();
  if ( a2 )
  {
    v5 = a2 + *(this + 20);
    if ( sub_332100(this, a2 + *(this + 20), 0) )
    {
      sub_33C630(v4, *(v4 + 20), a2, a3);
      sub_3320A0(v4, v5);
    }
  }
  return v4;
}
// 384458: using guessed type int dword_384458;

//----- (0033C4A0) --------------------------------------------------------
int __thiscall sub_33C4A0(ScriptObject *this)
{
  return (this[4].vtable - this[3].vtable) / 28;
}

//----- (0033C4C0) --------------------------------------------------------
unsigned int __thiscall sub_33C4C0(void *this, unsigned int a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  if ( a2 >= sub_33C4A0(this) )
    _invalid_parameter_noinfo();
  return *(v3 + 3) + 28 * a2;
}
// 374499: using guessed type int _invalid_parameter_noinfo(void);

//----- (0033C4F0) --------------------------------------------------------
int __thiscall sub_33C4F0(ScriptObject *this, int a2)
{
  int v2; // esi@1
  int result; // eax@2
  void *v4; // eax@3
  int v5; // edx@3
  int v6; // [sp+4h] [bp-1Ch]@1
  char v7; // [sp+8h] [bp-18h]@3
  char v8; // [sp+10h] [bp-10h]@3
  int v9; // [sp+18h] [bp-8h]@3
  int v10; // [sp+1Ch] [bp-4h]@3

  v6 = this;
  v2 = sub_33C4A0(this);
  if ( v2 >= sub_33C6E0(v6) )
  {
    v4 = sub_331E80(v6, &v8);
    v5 = *(v4 + 1);
    v9 = *v4;
    v10 = v5;
    result = sub_33C720(v6, &v7, v9, v5, a2);
  }
  else
  {
    result = sub_33C7A0(*(v6 + 16), 1, a2);
    *(v6 + 16) = result;
  }
  return result;
}

//----- (0033C570) --------------------------------------------------------
int __thiscall sub_33C570(void *this)
{
  int result; // eax@1

  result = this;
  if ( *this )
    result = (*(**this + 4))(*this);
  return result;
}

//----- (0033C5A0) --------------------------------------------------------
void *__thiscall sub_33C5A0(void *this, int a2)
{
  void *v3; // [sp+0h] [bp-8h]@1
  void (__stdcall ***v4)(_DWORD); // [sp+4h] [bp-4h]@1

  v3 = this;
  v4 = *this;
  *this = a2;
  if ( *this )
    (***this)(*this);
  if ( v4 )
    (*v4)[1](v4);
  return v3;
}

//----- (0033C5F0) --------------------------------------------------------
int __thiscall sub_33C5F0(void *this)
{
  int result; // eax@1
  int v2; // [sp+4h] [bp-4h]@1

  result = this;
  v2 = *this;
  if ( *this )
  {
    *this = 0;
    result = (*(*v2 + 4))(v2);
  }
  return result;
}

//----- (0033C630) --------------------------------------------------------
int __thiscall sub_33C630(int this, int a2, int a3, __int16 a4)
{
  int v4; // eax@2
  int result; // eax@2
  __int16 v6; // ST08_2@3
  int v7; // eax@3

  if ( a3 == 1 )
  {
    v4 = unknown_libname_3(this);
    result = unknown_libname_2(v4 + 2 * a2, &a4);
  }
  else
  {
    v6 = a4;
    v7 = unknown_libname_3(this);
    result = sub_33C680(v7 + 2 * a2, a3, v6);
  }
  return result;
}
// 3320E0: using guessed type _DWORD __cdecl unknown_libname_2(_DWORD, _DWORD);

//----- (0033C680) --------------------------------------------------------
int __cdecl sub_33C680(int a1, int a2, __int16 a3)
{
  return wmemset(a1, a3, a2);
}
// 33C6A0: using guessed type _DWORD __cdecl wmemset(_DWORD, __int16, _DWORD);

//----- (0033C6E0) --------------------------------------------------------
int __thiscall sub_33C6E0(int this)
{
  int v2; // [sp+0h] [bp-8h]@2

  if ( *(this + 12) )
    v2 = (*(this + 20) - *(this + 12)) / 28;
  else
    v2 = 0;
  return v2;
}

//----- (0033C720) --------------------------------------------------------
int __thiscall sub_33C720(ScriptObject *this, int a2, int a3, int a4, int a5)
{
  int v5; // eax@3
  int v6; // ST0C_4@4
  int v7; // eax@4
  int v9; // [sp+0h] [bp-1Ch]@2
  int v10; // [sp+4h] [bp-18h]@1
  char v11; // [sp+8h] [bp-14h]@4
  char v12; // [sp+10h] [bp-Ch]@3
  int v13; // [sp+18h] [bp-4h]@4

  v10 = this;
  if ( sub_33C4A0(this) )
  {
    v5 = sub_331E50(v10, &v12);
    v9 = sub_33CBD0(&a3, v5);
  }
  else
  {
    v9 = 0;
  }
  v13 = v9;
  sub_33C7E0(v10, a3, a4, 1u, a5);
  v6 = v13;
  v7 = sub_331E50(v10, &v11);
  sub_33CB90(v7, a2, v6);
  return a2;
}

//----- (0033C7A0) --------------------------------------------------------
int __stdcall sub_33C7A0(void *a1, int a2, int a3)
{
  sub_33CD00(a1, a2, a3);
  return (a1 + 28 * a2);
}

//----- (0033C7E0) --------------------------------------------------------
void *__thiscall sub_33C7E0(void *this, int a2, int a3, unsigned int a4, int a5)
{
  void *result; // eax@1
  int v6; // esi@2
  int v7; // eax@4
  int v8; // eax@8
  unsigned int v9; // [sp-4h] [bp-7Ch]@1
  int v10; // [sp+Ch] [bp-6Ch]@10
  void *v11; // [sp+10h] [bp-68h]@10
  int v12; // [sp+14h] [bp-64h]@6
  void *v13; // [sp+18h] [bp-60h]@1
  char v14; // [sp+1Ch] [bp-5Ch]@15
  int v15; // [sp+38h] [bp-40h]@15
  char v16; // [sp+3Ch] [bp-3Ch]@14
  unsigned int v17; // [sp+58h] [bp-20h]@1
  void *v18; // [sp+5Ch] [bp-1Ch]@10
  void *v19; // [sp+60h] [bp-18h]@10
  int v20; // [sp+64h] [bp-14h]@1
  unsigned int *v21; // [sp+68h] [bp-10h]@1
  int v22; // [sp+74h] [bp-4h]@10
  int v23; // [sp+78h] [bp+0h]@1
  unsigned int v24; // [sp+88h] [bp+10h]@10

  v17 = &v23 ^ __security_cookie;
  v9 = &v23 ^ __security_cookie;
  v21 = &v9;
  v13 = this;
  result = sub_33C6E0(this);
  v20 = result;
  if ( a4 )
  {
    v6 = sub_33C4A0(v13);
    if ( sub_332DA0() - v6 < a4 )
      sub_332DC0();
    v7 = sub_33C4A0(v13);
    if ( v20 >= a4 + v7 )
    {
      if ( (*(v13 + 4) - a3) / 28 >= a4 )
      {
        sub_3319C0(&v14, a5);
        v22 = 5;
        v15 = *(v13 + 4);
        *(v13 + 4) = unknown_libname_10(v15 - 28 * a4, v15, *(v13 + 4));
        sub_33CDB0(a3, v15 - 28 * a4, v15);
        sub_33CD80(a3, a3 + 28 * a4, &v14);
        v22 = -1;
        result = sub_331A00(&v14);
      }
      else
      {
        sub_3319C0(&v16, a5);
        v22 = 2;
        unknown_libname_10(a3, *(v13 + 4), a3 + 28 * a4);
        LOBYTE(v22) = 3;
        sub_33C7A0(*(v13 + 4), a4 - (*(v13 + 4) - a3) / 28, &v16);
        v22 = 2;
        *(v13 + 4) += 28 * a4;
        sub_33CD80(a3, *(v13 + 16) - 28 * a4, &v16);
        v22 = -1;
        result = sub_331A00(&v16);
      }
    }
    else
    {
      if ( sub_332DA0() - (v20 >> 1) >= v20 )
        v12 = v20 + (v20 >> 1);
      else
        v12 = 0;
      v20 = v12;
      v8 = sub_33C4A0(v13);
      if ( v20 < a4 + v8 )
        v20 = a4 + sub_33C4A0(v13);
      v18 = sub_3335C0(v20);
      v19 = v18;
      v22 = 0;
      v11 = unknown_libname_10(*(v13 + 3), a3, v18);
      v19 = v11;
      v10 = sub_33C7A0(v11, a4, a5);
      v19 = v10;
      unknown_libname_10(a3, *(v13 + 4), v10);
      v22 = -1;
      v24 = a4 + sub_33C4A0(v13);
      if ( *(v13 + 3) )
      {
        sub_332220(*(v13 + 3), *(v13 + 4));
        unknown_libname_108(*(v13 + 3), (*(v13 + 5) - *(v13 + 3)) / 28);
      }
      *(v13 + 5) = v18 + 28 * v20;
      *(v13 + 4) = v18 + 28 * v24;
      result = v18;
      *(v13 + 3) = v18;
    }
  }
  return result;
}
// 3335C0: using guessed type _DWORD __stdcall sub_3335C0(_DWORD);
// 33CD50: using guessed type _DWORD __stdcall unknown_libname_10(_DWORD, _DWORD, _DWORD);
// 33CD80: using guessed type _DWORD __cdecl sub_33CD80(char, char, _DWORD);
// 33CDB0: using guessed type _DWORD __cdecl sub_33CDB0(char, char, _DWORD);
// 3A5C70: using guessed type int __security_cookie;

//----- (0033CB90) --------------------------------------------------------
int __thiscall sub_33CB90(int this, int a2, int a3)
{
  int v3; // edx@1
  void *v4; // eax@1
  int v5; // edx@1
  int v7; // [sp+4h] [bp-8h]@1
  int v8; // [sp+8h] [bp-4h]@1

  v3 = *(this + 4);
  v7 = *this;
  v8 = v3;
  v4 = sub_33CC20(&v7, a3);
  v5 = *(v4 + 1);
  *a2 = *v4;
  *(a2 + 4) = v5;
  return a2;
}

//----- (0033CBD0) --------------------------------------------------------
int __thiscall sub_33CBD0(void *this, int a2)
{
  void *v3; // [sp+0h] [bp-4h]@1

  v3 = this;
  if ( !sub_332580(this) || !sub_332670(v3, a2) )
    _invalid_parameter_noinfo();
  return (*(v3 + 1) - *(a2 + 4)) / 28;
}
// 374499: using guessed type int _invalid_parameter_noinfo(void);

//----- (0033CC20) --------------------------------------------------------
void *__thiscall sub_33CC20(void *this, int a2)
{
  void *v2; // ST04_4@1

  v2 = this;
  sub_33CC40(this, a2);
  return v2;
}

//----- (0033CC40) --------------------------------------------------------
void *__thiscall sub_33CC40(void *this, int a2)
{
  void *v3; // [sp+4h] [bp-4h]@1

  v3 = this;
  if ( !sub_332580(this) )
    _invalid_parameter_noinfo();
  if ( (*(v3 + 1) + 28 * a2) > *(sub_33CCC0(v3) + 16) || (*(v3 + 1) + 28 * a2) < *(sub_33CCC0(v3) + 12) )
    _invalid_parameter_noinfo();
  *(v3 + 1) += 28 * a2;
  return v3;
}
// 374499: using guessed type int _invalid_parameter_noinfo(void);

//----- (0033CCC0) --------------------------------------------------------
int __thiscall sub_33CCC0(void *this)
{
  int v2; // [sp+0h] [bp-8h]@2

  if ( *this )
    v2 = unknown_libname_9(*this);
  else
    v2 = 0;
  return v2;
}
// 33CCF0: using guessed type int __thiscall unknown_libname_9(_DWORD);

//----- (0033CD00) --------------------------------------------------------
int __cdecl sub_33CD00(void *a1, int a2, int a3)
{
  unknown_libname_8(&a1);
  return sub_33CE20(a1, a2, a3);
}

//----- (0033CD80) --------------------------------------------------------
int __cdecl sub_33CD80(char a1, char a2, int a3)
{
  int v3; // ST08_4@1
  int v4; // ST04_4@1
  int v5; // eax@1

  v3 = a3;
  v4 = sub_3329F0(&a2);
  v5 = sub_3329F0(&a1);
  return sub_33CF30(v5, v4, v3);
}
// 33CD80: using guessed type _DWORD __cdecl sub_33CD80(char, char, _DWORD);

//----- (0033CDB0) --------------------------------------------------------
int __cdecl sub_33CDB0(char a1, char a2, int a3)
{
  int v3; // ST0C_4@1
  int v4; // ST08_4@1
  int v5; // ST04_4@1
  int v6; // eax@1
  char v8; // [sp+1h] [bp-3h]@1
  char v9; // [sp+2h] [bp-2h]@1
  char v10; // [sp+3h] [bp-1h]@1

  v10 = 0;
  v9 = unknown_libname_8(&a3);
  v3 = *unknown_libname_6(&v8);
  v4 = a3;
  v5 = sub_3329F0(&a2);
  v6 = sub_3329F0(&a1);
  return sub_33CF60(v6, v5, v4);
}
// 332A10: using guessed type _DWORD __cdecl unknown_libname_6(_DWORD);
// 33CDB0: using guessed type _DWORD __cdecl sub_33CDB0(char, char, _DWORD);

//----- (0033CE20) --------------------------------------------------------
int __cdecl sub_33CE20(void *a1, int a2, int a3)
{
  int result; // eax@1
  int v4; // [sp+0h] [bp-24h]@1
  void *v5; // [sp+10h] [bp-14h]@1
  int *v6; // [sp+14h] [bp-10h]@1
  int v7; // [sp+20h] [bp-4h]@1

  v6 = &v4;
  result = a1;
  v5 = a1;
  v7 = 0;
  while ( a2 )
  {
    result = sub_33CFC0(a1, a3);
    --a2;
    a1 = a1 + 28;
  }
  return result;
}

//----- (0033CEE0) --------------------------------------------------------
int __cdecl sub_33CEE0(char a1, char a2, int a3)
{
  int v3; // ST08_4@1
  int v4; // ST04_4@1
  int v5; // eax@1

  unknown_libname_8(&a3);
  v3 = a3;
  v4 = sub_3329F0(&a2);
  v5 = sub_3329F0(&a1);
  return sub_33CFE0(v5, v4, v3);
}

//----- (0033CF30) --------------------------------------------------------
int __cdecl sub_33CF30(void *a1, void *a2, int a3)
{
  int result; // eax@2

  while ( a1 != a2 )
  {
    sub_331A20(a1, a3);
    result = (a1 + 28);
    a1 = a1 + 28;
  }
  return result;
}

//----- (0033CF60) --------------------------------------------------------
int __cdecl sub_33CF60(int a1, int a2, int a3)
{
  int v3; // ST1C_4@1
  int v4; // eax@1

  v3 = a3 - 28 * (a2 - a1) / 28;
  v4 = sub_3329F0(&a3);
  sub_33D0E0(a1, a2, v4);
  return v3;
}

//----- (0033CFC0) --------------------------------------------------------
int __stdcall sub_33CFC0(void *a1, int a2)
{
  return sub_33D120(a1, a2);
}

//----- (0033CFE0) --------------------------------------------------------
int __cdecl sub_33CFE0(int a1, int a2, int a3)
{
  unsigned int v4; // [sp-4h] [bp-48h]@1
  int v5; // [sp+Ch] [bp-38h]@4
  char v6; // [sp+10h] [bp-34h]@1
  unsigned int v7; // [sp+2Ch] [bp-18h]@1
  int v8; // [sp+30h] [bp-14h]@1
  unsigned int *v9; // [sp+34h] [bp-10h]@1
  int v10; // [sp+40h] [bp-4h]@1
  int v11; // [sp+44h] [bp+0h]@1

  v7 = &v11 ^ __security_cookie;
  v4 = &v11 ^ __security_cookie;
  v9 = &v4;
  v8 = a3;
  sub_331950(&v6);
  v10 = 0;
  LOBYTE(v10) = 1;
  while ( a1 != a2 )
  {
    sub_33CFC0(a3, &v6);
    sub_33D1A0(a3, a1);
    a3 += 28;
    a1 += 28;
  }
  v5 = a3;
  v10 = -1;
  sub_331A00(&v6);
  return v5;
}
// 3A5C70: using guessed type int __security_cookie;

//----- (0033D0E0) --------------------------------------------------------
void *__cdecl sub_33D0E0(int a1, int a2, void *a3)
{
  while ( a1 != a2 )
  {
    a2 -= 28;
    a3 = a3 - 28;
    sub_33D1A0(a3, a2);
  }
  return a3;
}

//----- (0033D120) --------------------------------------------------------
int __cdecl sub_33D120(void *a1, int a2)
{
  int v3; // [sp+4h] [bp-1Ch]@2
  void *v4; // [sp+8h] [bp-18h]@1

  v4 = operator new(0x1Cu, a1);
  if ( v4 )
    v3 = sub_3319C0(v4, a2);
  else
    v3 = 0;
  return v3;
}

//----- (0033D1A0) --------------------------------------------------------
void *__cdecl sub_33D1A0(void *a1, int a2)
{
  return sub_33D1C0(a1, a2);
}

//----- (0033D1C0) --------------------------------------------------------
void *__thiscall sub_33D1C0(void *this, int a2)
{
  void *result; // eax@1
  int v3; // [sp+0h] [bp-48h]@1
  char v4; // [sp+4h] [bp-44h]@4
  void *v5; // [sp+20h] [bp-28h]@3
  int v6; // [sp+24h] [bp-24h]@3
  int v7; // [sp+28h] [bp-20h]@3
  int v8; // [sp+2Ch] [bp-1Ch]@3
  int v9; // [sp+30h] [bp-18h]@3
  unsigned int v10; // [sp+34h] [bp-14h]@1
  int v11; // [sp+38h] [bp-10h]@3
  int v12; // [sp+44h] [bp-4h]@4
  int v13; // [sp+48h] [bp+0h]@1

  v10 = &v13 ^ __security_cookie;
  v3 = this;
  result = this;
  if ( this != a2 )
  {
    if ( sub_33D310() )
    {
      v6 = *(v3 + 4);
      v7 = *(v3 + 8);
      v8 = *(v3 + 12);
      v9 = *(v3 + 16);
      *(v3 + 4) = *(a2 + 4);
      *(v3 + 8) = *(a2 + 8);
      *(v3 + 12) = *(a2 + 12);
      *(v3 + 16) = *(a2 + 16);
      *(a2 + 4) = v6;
      *(a2 + 8) = v7;
      *(a2 + 12) = v8;
      *(a2 + 16) = v9;
      v11 = *(v3 + 20);
      *(v3 + 20) = *(a2 + 20);
      *(a2 + 20) = v11;
      v5 = *(v3 + 24);
      *(v3 + 24) = *(a2 + 24);
      result = v5;
      *(a2 + 24) = v5;
    }
    else
    {
      sub_3319C0(&v4, v3);
      v12 = 0;
      sub_331A20(v3, a2);
      sub_331A20(a2, &v4);
      v12 = -1;
      result = sub_331A00(&v4);
    }
  }
  return result;
}
// 3A5C70: using guessed type int __security_cookie;

//----- (0033D310) --------------------------------------------------------
char __cdecl sub_33D310()
{
  return 1;
}

//----- (0033D320) --------------------------------------------------------
unsigned int __cdecl sub_33D320(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 100;
      break;
    case 3:
      v4 = 101;
      break;
    case 14:
      v4 = 102;
      break;
    case 20:
      v4 = 103;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_0)[2 * a3], a2);
}

//----- (0033D3D0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_0(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_33D320(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 0);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_0)[2 * a4]);
}
// 38584C: using guessed type wchar_t aRoute_10[6];
// 385858: using guessed type wchar_t aScene_5[6];

//----- (0033D440) --------------------------------------------------------
signed int __cdecl GetNextScript_0(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *this)
{
  signed int result; // eax@30
  int v4; // ecx@32
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (this->vtable->GetVariable)(this, L"SCENE");
  sub_33D320(this, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_0(this, Dst, SizeInWords, 1, 1);
      goto LABEL_39;
    case 1:
      GetScriptFile_0(this, Dst, SizeInWords, 2, 1);
      goto LABEL_39;
    case 2:
      GetScriptFile_0(this, Dst, SizeInWords, 3, 1);
      goto LABEL_39;
    case 3:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_0(this, Dst, SizeInWords, 5, 1);
        else
          GetScriptFile_0(this, Dst, SizeInWords, 6, 1);
      }
      else
      {
        GetScriptFile_0(this, Dst, SizeInWords, 4, 1);
      }
      goto LABEL_39;
    case 4:
    case 6:
      (this->vtable->SetVariable)(this, L"BS0000B00", v5);
      GetScriptFile_0(this, Dst, SizeInWords, 8, 1);
      goto LABEL_39;
    case 5:
      GetScriptFile_0(this, Dst, SizeInWords, 7, 1);
      goto LABEL_39;
    case 7:
      (this->vtable->SetVariable)(this, L"BS0000B00", v5);
      GetScriptFile_0(this, Dst, SizeInWords, 8, 1);
      goto LABEL_39;
    case 8:
      GetScriptFile_0(this, Dst, SizeInWords, 9, 1);
      goto LABEL_39;
    case 9:
      GetScriptFile_0(this, Dst, SizeInWords, 10, 1);
      goto LABEL_39;
    case 10:
      GetScriptFile_0(this, Dst, SizeInWords, 11, 1);
      goto LABEL_39;
    case 11:
      GetScriptFile_0(this, Dst, SizeInWords, 12, 1);
      goto LABEL_39;
    case 12:
      GetScriptFile_0(this, Dst, SizeInWords, 13, 1);
      goto LABEL_39;
    case 13:
      GetScriptFile_0(this, Dst, SizeInWords, 14, 1);
      goto LABEL_39;
    case 14:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        (this->vtable->SetVariable)(this, L"BS0000H02", v5);
        GetScriptFile_0(this, Dst, SizeInWords, 16, 1);
      }
      else
      {
        GetScriptFile_0(this, Dst, SizeInWords, 15, 1);
      }
      goto LABEL_39;
    case 15:
      (this->vtable->SetVariable)(this, L"BS0000H02", v5);
      GetScriptFile_0(this, Dst, SizeInWords, 16, 1);
      goto LABEL_39;
    case 16:
      GetScriptFile_0(this, Dst, SizeInWords, 17, 1);
      goto LABEL_39;
    case 17:
      GetScriptFile_0(this, Dst, SizeInWords, 18, 1);
      goto LABEL_39;
    case 18:
      GetScriptFile_0(this, Dst, SizeInWords, 19, 1);
      goto LABEL_39;
    case 19:
      GetScriptFile_0(this, Dst, SizeInWords, 20, 1);
      goto LABEL_39;
    case 20:
      (this->vtable->field_2C)(this);
      if ( (this->vtable->field_34)(this) )
      {
        if ( dword_3A2294 )
        {
          v4 = dword_3A6FB4++ % 2;
          sub_3366F0(this, Dst, SizeInWords, v4, 220);
        }
        else
        {
          sub_336690(this, Dst, SizeInWords, 200);
        }
LABEL_39:
        result = 1;
      }
      else
      {
        (this->vtable->field_38)(this, 1);
        GetScriptFile_1(this, Dst, SizeInWords, 0, 1);
        result = 1;
      }
      break;
    case 200:
      sub_336760(this, Dst, SizeInWords, 1);
      return 1;
    case 210:
      GetScriptFile_0(this, Dst, SizeInWords, 0, 1);
      goto LABEL_39;
    case 220:
      (this->vtable->field_2C)(this);
      sub_3366C0(this, Dst, SizeInWords, 210);
      goto LABEL_39;
    default:
      sub_336760(this, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 385864: using guessed type wchar_t aScene_6[6];
// 385870: using guessed type wchar_t aBs0000b00[10];
// 385884: using guessed type wchar_t aBs0000b00_0[10];
// 385898: using guessed type wchar_t aBs0000h02[10];
// 3858AC: using guessed type wchar_t aBs0000h02_0[10];
// 3A2294: using guessed type int dword_3A2294;
// 3A6FB4: using guessed type int dword_3A6FB4;

//----- (0033DA10) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_0(wchar_t *Dst, rsize_t SizeInWords, int a3)
{
  int v3; // ST1C_4@1
  int v4; // ST18_4@8
  int v5; // ST18_4@16
  signed int result; // eax@24

  v3 = (*(*a3 + 8))(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_0)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_0(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_25;
    case 1:
      GetScriptFile_0(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_25;
    case 2:
      GetScriptFile_0(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_25;
    case 3:
      GetScriptFile_0(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_25;
    case 4:
    case 5:
    case 6:
      GetScriptFile_0(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_25;
    case 7:
      GetScriptFile_0(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_25;
    case 8:
      v4 = (*(*a3 + 8))(a3, L"BS0000B00");
      GetScriptFile_0(a3, Dst, SizeInWords, v4, 0);
      goto LABEL_25;
    case 9:
      GetScriptFile_0(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_25;
    case 10:
      GetScriptFile_0(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_25;
    case 11:
      GetScriptFile_0(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_25;
    case 12:
      GetScriptFile_0(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_25;
    case 13:
      GetScriptFile_0(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_25;
    case 14:
      GetScriptFile_0(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_25;
    case 15:
      GetScriptFile_0(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_25;
    case 16:
      v5 = (*(*a3 + 8))(a3, L"BS0000H02");
      GetScriptFile_0(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_25;
    case 17:
      GetScriptFile_0(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_25;
    case 18:
      GetScriptFile_0(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_25;
    case 19:
      GetScriptFile_0(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_25;
    case 20:
      GetScriptFile_0(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_25;
    case 200:
      GetScriptFile_0(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_25;
    case 210:
      sub_3366C0(a3, Dst, SizeInWords, 210);
      goto LABEL_25;
    case 220:
      GetScriptFile_0(a3, Dst, SizeInWords, 20, 0);
LABEL_25:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 3858C0: using guessed type wchar_t aScene_7[6];
// 3858CC: using guessed type wchar_t aBs0000b00_1[10];
// 3858E0: using guessed type wchar_t aBs0000h02_1[10];

//----- (0033DE70) --------------------------------------------------------
signed int __cdecl searchRoot_route0(const wchar_t *file_name, ScriptObject *obj)
{
  signed int result; // eax@4
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 21; ++i )
  {
    if ( !wcscmp((&route_files_0)[2 * i], file_name) )
    {
      (obj->vtable->SetVariable)(obj, L"ROUTE", 0);
      (obj->vtable->SetVariable)(obj, L"SCENE", i);
      return 1;
    }
  }
  if ( !(obj->vtable->field_34)(obj) )
    goto LABEL_18;
  if ( !wcscmp(L"Notice_SDHQ", file_name) )
  {
    (obj->vtable->SetVariable)(obj, L"ROUTE", 0);
    (obj->vtable->SetVariable)(obj, L"SCENE", 200);
    return 1;
  }
  if ( !wcscmp(L"PV/Trial_PV", file_name) )
  {
    (obj->vtable->SetVariable)(obj, L"ROUTE", 0);
    (obj->vtable->SetVariable)(obj, L"SCENE", 210);
    return 1;
  }
  if ( wcscmp(L"PV/SEKAI-OP", file_name) && wcscmp(L"PV/KOTONOHA-OP", file_name) && wcscmp(L"PV/SETUNA-OP", file_name) )
  {
LABEL_18:
    result = 0;
  }
  else
  {
    (obj->vtable->SetVariable)(obj, L"ROUTE", 0);
    (obj->vtable->SetVariable)(obj, L"SCENE", 220);
    result = 1;
  }
  return result;
}
// 3858F4: using guessed type wchar_t aRoute_11[6];
// 385900: using guessed type wchar_t aScene_8[6];
// 385924: using guessed type wchar_t aRoute_12[6];
// 385930: using guessed type wchar_t aScene_9[6];
// 385954: using guessed type wchar_t aRoute_13[6];
// 385960: using guessed type wchar_t aScene_10[6];
// 3859C0: using guessed type wchar_t aRoute_14[6];
// 3859CC: using guessed type wchar_t aScene_11[6];

//----- (0033E000) --------------------------------------------------------
signed int __cdecl CheckScript_route_0(ScriptObject *a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (a1->vtable->GetVariable)(a1, L"SCENE") )
  {
    case 0:
      v2 = 11;
      break;
    case 3:
      v2 = 12;
      break;
    case 14:
      v2 = 13;
      break;
    case 20:
      v2 = 14;
      break;
    default:
      v2 = CheckScript_by_flags_route_0(a1);
      break;
  }
  return v2;
}
// 3859D8: using guessed type wchar_t aScene_12[6];

//----- (0033E0B0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_0(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 21; ++i )
  {
    if ( !wcscmp((&route_files_0)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0033E100) --------------------------------------------------------
int __cdecl SetFeeling_route_0(ScriptObject *a1, int a2)
{
  int scene; // eax@1
  signed int scene_idx; // [sp+4h] [bp-8h]@3

  scene = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( scene == 3 )
  {
    scene = (a1->vtable->GetCurrentScene)(a1);
    if ( scene )
    {
      scene = (a1->vtable->GetCurrentScene)(a1);
      if ( scene == 1 )
        scene_idx = 5;
      else
        scene_idx = 6;
    }
    else
    {
      scene_idx = 4;
    }
  }
  else
  {
    if ( scene == 14 )
    {
      scene = (a1->vtable->GetCurrentScene)(a1);
      if ( scene )
        scene_idx = 16;
      else
        scene_idx = 15;
    }
    else
    {
      scene_idx = -1;
    }
  }
  if ( scene_idx > -1 )
    scene = sub_335EB0(a1, (&route_files_0)[2 * scene_idx], a2);
  return scene;
}
// 3859E4: using guessed type wchar_t aScene_13[6];

//----- (0033E1C0) --------------------------------------------------------
unsigned int __cdecl sub_33E1C0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 200;
      break;
    case 36:
      v4 = 202;
      break;
    case 53:
      v4 = 201;
      break;
    case 108:
      v4 = 203;
      break;
    case 62:
      v4 = 204;
      break;
    case 77:
      v4 = 205;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_1)[2 * a3], a2);
}

//----- (0033E2E0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_1(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_33E1C0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 1);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_1)[2 * a4]);
}
// 386C14: using guessed type wchar_t aRoute_15[6];
// 386C20: using guessed type wchar_t aScene_14[6];

//----- (0033E350) --------------------------------------------------------
signed int __cdecl GetNextScript_1(wchar_t *Dst, rsize_t SizeInWords, int this)
{
  int v3; // esi@210
  signed int result; // eax@213
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (*(*this + 8))(this, L"SCENE");
  sub_33E1C0(this, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_1(this, Dst, SizeInWords, 115, 1);
      goto LABEL_216;
    case 1:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 3, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 4, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_216;
    case 2:
    case 4:
      (*(*this + 12))(this, L"BS0100B04", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 5, 1);
      goto LABEL_216;
    case 3:
      (*(*this + 12))(this, L"BS0100B05", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 6, 1);
      goto LABEL_216;
    case 5:
      (*(*this + 12))(this, L"BS0100B05", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 6, 1);
      goto LABEL_216;
    case 6:
      GetScriptFile_1(this, Dst, SizeInWords, 8, 1);
      goto LABEL_216;
    case 7:
      GetScriptFile_1(this, Dst, SizeInWords, 14, 1);
      goto LABEL_216;
    case 8:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 10, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 11, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 9, 1);
      }
      goto LABEL_216;
    case 9:
    case 11:
    case 12:
    case 13:
      (*(*this + 12))(this, L"BS0100D00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 15, 1);
      goto LABEL_216;
    case 10:
      if ( (*(*this + 4))(this) )
        GetScriptFile_1(this, Dst, SizeInWords, 13, 1);
      else
        GetScriptFile_1(this, Dst, SizeInWords, 12, 1);
      goto LABEL_216;
    case 14:
      GetScriptFile_1(this, Dst, SizeInWords, 108, 1);
      goto LABEL_216;
    case 15:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 17, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 18, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 16, 1);
      }
      goto LABEL_216;
    case 16:
    case 19:
      (*(*this + 12))(this, L"BS0100E00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 22, 1);
      goto LABEL_216;
    case 17:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 20, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 21, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_216;
    case 18:
    case 20:
    case 21:
      (*(*this + 12))(this, L"BS0100E01", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 23, 1);
      goto LABEL_216;
    case 22:
      if ( (*(*this + 4))(this) )
        GetScriptFile_1(this, Dst, SizeInWords, 31, 1);
      else
        GetScriptFile_1(this, Dst, SizeInWords, 30, 1);
      goto LABEL_216;
    case 23:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 25, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 26, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 24, 1);
      }
      goto LABEL_216;
    case 24:
    case 25:
    case 26:
      (*(*this + 12))(this, L"BS0100E05", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 27, 1);
      goto LABEL_216;
    case 27:
      if ( (*(*this + 4))(this) )
        GetScriptFile_1(this, Dst, SizeInWords, 29, 1);
      else
        GetScriptFile_1(this, Dst, SizeInWords, 28, 1);
      goto LABEL_216;
    case 28:
    case 29:
      (*(*this + 12))(this, L"BS0100F00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 32, 1);
      goto LABEL_216;
    case 30:
    case 31:
      (*(*this + 12))(this, L"BS0100H00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 41, 1);
      goto LABEL_216;
    case 32:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 34, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 35, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 33, 1);
      }
      goto LABEL_216;
    case 33:
    case 34:
    case 35:
      (*(*this + 12))(this, L"BS0100G00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 36, 1);
      goto LABEL_216;
    case 36:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 38, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 39, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 37, 1);
      }
      goto LABEL_216;
    case 37:
    case 38:
    case 39:
      if ( v5 == 37 )
      {
        (*(*this + 20))(this, L"999", 1);
      }
      else
      {
        if ( v5 == 38 )
          (*(*this + 20))(this, L"998", 1);
      }
      (*(*this + 12))(this, L"BS0100I00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 51, 1);
      goto LABEL_216;
    case 40:
      (*(*this + 20))(this, L"986", 1);
      GetScriptFile_1(this, Dst, SizeInWords, 58, 1);
      goto LABEL_216;
    case 41:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 43, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 44, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 42, 1);
      }
      goto LABEL_216;
    case 42:
    case 43:
    case 45:
    case 46:
      (*(*this + 12))(this, L"BS0100H06", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 47, 1);
      goto LABEL_216;
    case 44:
      if ( (*(*this + 4))(this) )
        GetScriptFile_1(this, Dst, SizeInWords, 46, 1);
      else
        GetScriptFile_1(this, Dst, SizeInWords, 45, 1);
      goto LABEL_216;
    case 47:
      if ( (*(*this + 4))(this) )
        GetScriptFile_1(this, Dst, SizeInWords, 49, 1);
      else
        GetScriptFile_1(this, Dst, SizeInWords, 48, 1);
      goto LABEL_216;
    case 48:
    case 49:
      (*(*this + 12))(this, L"BS0100H09", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 50, 1);
      goto LABEL_216;
    case 50:
      GetScriptFile_1(this, Dst, SizeInWords, 97, 1);
      goto LABEL_216;
    case 51:
      GetScriptFile_1(this, Dst, SizeInWords, 52, 1);
      goto LABEL_216;
    case 52:
      (*(*this + 12))(this, L"BS0100K00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 59, 1);
      goto LABEL_216;
    case 53:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 55, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 56, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 54, 1);
      }
      goto LABEL_216;
    case 54:
      GetScriptFile_1(this, Dst, SizeInWords, 92, 1);
      goto LABEL_216;
    case 55:
    case 56:
      (*(*this + 12))(this, L"BS0100J05", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 57, 1);
      goto LABEL_216;
    case 57:
      (*(*this + 12))(this, L"BS0100K00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 59, 1);
      goto LABEL_216;
    case 58:
      GetScriptFile_1(this, Dst, SizeInWords, 60, 1);
      goto LABEL_216;
    case 59:
      GetScriptFile_1(this, Dst, SizeInWords, 61, 1);
      goto LABEL_216;
    case 60:
      GetScriptFile_1(this, Dst, SizeInWords, 113, 1);
      goto LABEL_216;
    case 61:
      GetScriptFile_1(this, Dst, SizeInWords, 62, 1);
      goto LABEL_216;
    case 62:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 64, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 65, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 63, 1);
      }
      goto LABEL_216;
    case 63:
    case 65:
    case 66:
    case 67:
    case 68:
      if ( v5 != 63 && v5 != 65 )
      {
        if ( v5 != 66 && v5 != 68 )
          (*(*this + 20))(this, L"994", 1);
        else
          (*(*this + 20))(this, L"995", 1);
      }
      else
      {
        (*(*this + 20))(this, L"997", 1);
      }
      (*(*this + 12))(this, L"BS0100N00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 73, 1);
      goto LABEL_216;
    case 64:
      (*(*this + 20))(this, L"996", 1);
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 67, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 68, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 66, 1);
      }
      goto LABEL_216;
    case 69:
    case 71:
    case 72:
      (*(*this + 12))(this, L"BS0100U00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 114, 1);
      goto LABEL_216;
    case 70:
      if ( (*(*this + 16))(this, L"999") )
        GetScriptFile_1(this, Dst, SizeInWords, 71, 1);
      else
        GetScriptFile_1(this, Dst, SizeInWords, 72, 1);
      goto LABEL_216;
    case 73:
      if ( (*(*this + 16))(this, L"997") )
      {
        GetScriptFile_1(this, Dst, SizeInWords, 74, 1);
      }
      else
      {
        if ( (*(*this + 16))(this, L"995") )
          GetScriptFile_1(this, Dst, SizeInWords, 75, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 76, 1);
      }
      goto LABEL_216;
    case 74:
    case 75:
    case 76:
      (*(*this + 12))(this, L"BS0100N04", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 77, 1);
      goto LABEL_216;
    case 77:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 79, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 80, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 78, 1);
      }
      goto LABEL_216;
    case 78:
      if ( sub_336000(this, (&route_files_1)[2 * v5]) )
        GetScriptFile_1(this, Dst, SizeInWords, 81, 1);
      else
        GetScriptFile_1(this, Dst, SizeInWords, 84, 1);
      goto LABEL_216;
    case 79:
      (*(*this + 20))(this, L"992", 1);
      (*(*this + 12))(this, L"BS0100Q00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 93, 1);
      goto LABEL_216;
    case 80:
      GetScriptFile_1(this, Dst, SizeInWords, 91, 1);
      goto LABEL_216;
    case 81:
      GetScriptFile_1(this, Dst, SizeInWords, 86, 1);
      goto LABEL_216;
    case 82:
      if ( (*(*this + 16))(this, L"993") )
      {
        GetScriptFile_1(this, Dst, SizeInWords, 85, 1);
      }
      else
      {
        (*(*this + 12))(this, L"BS0100Q00", v5);
        GetScriptFile_1(this, Dst, SizeInWords, 93, 1);
      }
      goto LABEL_216;
    case 83:
      (*(*this + 12))(this, L"BS0100Q00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 93, 1);
      goto LABEL_216;
    case 84:
      GetScriptFile_1(this, Dst, SizeInWords, 90, 1);
      goto LABEL_216;
    case 85:
      (*(*this + 12))(this, L"BS0100Q00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 93, 1);
      goto LABEL_216;
    case 86:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 88, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 89, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 87, 1);
      }
      goto LABEL_216;
    case 87:
    case 89:
      (*(*this + 12))(this, L"BS0100N10", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 83, 1);
      goto LABEL_216;
    case 88:
      (*(*this + 20))(this, L"992", 1);
      (*(*this + 12))(this, L"BS0100N09", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 82, 1);
      goto LABEL_216;
    case 90:
      (*(*this + 20))(this, L"993", 1);
      (*(*this + 12))(this, L"BS0100N09", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 82, 1);
      goto LABEL_216;
    case 91:
      (*(*this + 20))(this, L"992", 1);
      (*(*this + 12))(this, L"BS0100Q00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 93, 1);
      goto LABEL_216;
    case 92:
      GetScriptFile_1(this, Dst, SizeInWords, 94, 1);
      goto LABEL_216;
    case 93:
      if ( (*(*this + 16))(this, L"992") )
        GetScriptFile_1(this, Dst, SizeInWords, 95, 1);
      else
        GetScriptFile_1(this, Dst, SizeInWords, 96, 1);
      goto LABEL_216;
    case 94:
      GetScriptFile_1(this, Dst, SizeInWords, 7, 1);
      goto LABEL_216;
    case 95:
      GetScriptFile_1(this, Dst, SizeInWords, 69, 1);
      goto LABEL_216;
    case 96:
      GetScriptFile_1(this, Dst, SizeInWords, 70, 1);
      goto LABEL_216;
    case 97:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          GetScriptFile_1(this, Dst, SizeInWords, 99, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS0100R03", v5);
          GetScriptFile_1(this, Dst, SizeInWords, 100, 1);
        }
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 98, 1);
      }
      goto LABEL_216;
    case 98:
      if ( sub_336000(this, (&route_files_1)[2 * v5]) )
      {
        (*(*this + 12))(this, L"BS0100R04", v5);
        GetScriptFile_1(this, Dst, SizeInWords, 101, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 102, 1);
      }
      goto LABEL_216;
    case 99:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 103, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 104, 1);
      }
      else
      {
        (*(*this + 12))(this, L"BS0100R04", v5);
        GetScriptFile_1(this, Dst, SizeInWords, 101, 1);
      }
      goto LABEL_216;
    case 100:
    case 105:
      if ( (*(*this + 4))(this) )
      {
        (*(*this + 12))(this, L"BS0100R10", v5);
        GetScriptFile_1(this, Dst, SizeInWords, 107, 1);
      }
      else
      {
        (*(*this + 12))(this, L"BS0100R09", v5);
        GetScriptFile_1(this, Dst, SizeInWords, 106, 1);
      }
      goto LABEL_216;
    case 101:
    case 102:
    case 103:
      (*(*this + 12))(this, L"BS0100R08", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 105, 1);
      goto LABEL_216;
    case 104:
      (*(*this + 12))(this, L"BS0100R03", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 100, 1);
      goto LABEL_216;
    case 106:
    case 107:
      (*(*this + 12))(this, L"BS0100J01", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 53, 1);
      goto LABEL_216;
    case 108:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_1(this, Dst, SizeInWords, 110, 1);
        else
          GetScriptFile_1(this, Dst, SizeInWords, 111, 1);
      }
      else
      {
        GetScriptFile_1(this, Dst, SizeInWords, 109, 1);
      }
      goto LABEL_216;
    case 109:
    case 112:
      (*(*this + 12))(this, L"BS0100G04", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 40, 1);
      goto LABEL_216;
    case 110:
    case 111:
      (*(*this + 12))(this, L"BS0100S04", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 112, 1);
      goto LABEL_216;
    case 113:
      (*(*this + 12))(this, L"BS0100Q00", v5);
      GetScriptFile_1(this, Dst, SizeInWords, 93, 1);
      goto LABEL_216;
    case 114:
      v3 = (*(*this + 8))(this, L"001");
      if ( v3 <= (*(*this + 8))(this, L"002") )
        GetScriptFile_2(this, Dst, SizeInWords, 0, 1);
      else
        GetScriptFile_3(this, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 115:
      GetScriptFile_1(this, Dst, SizeInWords, 1, 1);
LABEL_216:
      result = 1;
      break;
    default:
      sub_336760(this, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 386C2C: using guessed type wchar_t aScene_15[6];
// 386C38: using guessed type wchar_t aBs0100b04[10];
// 386C4C: using guessed type wchar_t aBs0100b05[10];
// 386C60: using guessed type wchar_t aBs0100b05_0[10];
// 386C74: using guessed type wchar_t aBs0100d00[10];
// 386C88: using guessed type wchar_t aBs0100e00[10];
// 386C9C: using guessed type wchar_t aBs0100e01[10];
// 386CB0: using guessed type wchar_t aBs0100e05[10];
// 386CC4: using guessed type wchar_t aBs0100f00[10];
// 386CD8: using guessed type wchar_t aBs0100h00[10];
// 386CEC: using guessed type wchar_t aBs0100g00[10];
// 386D00: using guessed type wchar_t a999_1[4];
// 386D08: using guessed type wchar_t a998_1[4];
// 386D10: using guessed type wchar_t aBs0100i00[10];
// 386D24: using guessed type wchar_t a986_1[4];
// 386D2C: using guessed type wchar_t aBs0100h06[10];
// 386D40: using guessed type wchar_t aBs0100h09[10];
// 386D54: using guessed type wchar_t aBs0100k00[10];
// 386D68: using guessed type wchar_t aBs0100j05[10];
// 386D7C: using guessed type wchar_t aBs0100k00_0[10];
// 386D90: using guessed type wchar_t a997_1[4];
// 386D98: using guessed type wchar_t a995_1[4];
// 386DA0: using guessed type wchar_t a994_1[4];
// 386DA8: using guessed type wchar_t aBs0100n00[10];
// 386DBC: using guessed type wchar_t a996_1[4];
// 386DC4: using guessed type wchar_t aBs0100u00[10];
// 386DD8: using guessed type wchar_t a999_2[4];
// 386DE0: using guessed type wchar_t a997_2[4];
// 386DE8: using guessed type wchar_t a995_2[4];
// 386DF0: using guessed type wchar_t aBs0100n04[10];
// 386E04: using guessed type wchar_t a992_2[4];
// 386E0C: using guessed type wchar_t aBs0100q00[10];
// 386E20: using guessed type wchar_t a993_1[4];
// 386E28: using guessed type wchar_t aBs0100q00_0[10];
// 386E3C: using guessed type wchar_t aBs0100q00_1[10];
// 386E50: using guessed type wchar_t aBs0100q00_2[10];
// 386E64: using guessed type wchar_t aBs0100n10[10];
// 386E78: using guessed type wchar_t a992_3[4];
// 386E80: using guessed type wchar_t aBs0100n09[10];
// 386E94: using guessed type wchar_t a993_2[4];
// 386E9C: using guessed type wchar_t aBs0100n09_0[10];
// 386EB0: using guessed type wchar_t a992_4[4];
// 386EB8: using guessed type wchar_t aBs0100q00_3[10];
// 386ECC: using guessed type wchar_t a992_5[4];
// 386ED4: using guessed type wchar_t aBs0100r03[10];
// 386EE8: using guessed type wchar_t aBs0100r04[10];
// 386EFC: using guessed type wchar_t aBs0100r04_0[10];
// 386F10: using guessed type wchar_t aBs0100r09[10];
// 386F24: using guessed type wchar_t aBs0100r10[10];
// 386F38: using guessed type wchar_t aBs0100r08[10];
// 386F4C: using guessed type wchar_t aBs0100r03_0[10];
// 386F60: using guessed type wchar_t aBs0100j01[10];
// 386F74: using guessed type wchar_t aBs0100g04[10];
// 386F88: using guessed type wchar_t aBs0100s04[10];
// 386F9C: using guessed type wchar_t aBs0100q00_4[10];
// 386FB0: using guessed type wchar_t a001_1[4];
// 386FB8: using guessed type wchar_t a002_1[4];

//----- (0033FB10) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_1(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@5
  int v6; // ST18_4@6
  int v7; // ST18_4@12
  int v8; // ST18_4@15
  int v9; // ST18_4@16
  int v10; // ST18_4@18
  int v11; // ST18_4@21
  int v12; // ST18_4@23
  int v13; // ST18_4@25
  int v14; // ST18_4@26
  int v15; // ST18_4@29
  int v16; // ST18_4@31
  int v17; // ST18_4@38
  int v18; // ST18_4@40
  int v19; // ST18_4@42
  int v20; // ST18_4@61
  int v21; // ST18_4@69
  int v22; // ST18_4@84
  int v23; // ST18_4@85
  int v24; // ST18_4@88
  int v25; // ST18_4@89
  int v26; // ST18_4@90
  int v27; // ST18_4@93
  int v28; // ST18_4@95
  int v29; // [sp+4h] [bp-8h]@32
  int v30; // [sp+4h] [bp-8h]@51
  int v31; // [sp+4h] [bp-8h]@64
  int v32; // [sp+4h] [bp-8h]@77

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_1)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_0(a3, Dst, SizeInWords, 20, 0);
      return 1;
    case 1:
      GetScriptFile_1(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_98;
    case 2:
    case 3:
    case 4:
      GetScriptFile_1(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_98;
    case 5:
      v5 = (a3->vtable->GetVariable)(a3, L"BS0100B04");
      GetScriptFile_1(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_98;
    case 6:
      v6 = (a3->vtable->GetVariable)(a3, L"BS0100B05");
      GetScriptFile_1(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_98;
    case 7:
      GetScriptFile_1(a3, Dst, SizeInWords, 94, 0);
      goto LABEL_98;
    case 8:
      GetScriptFile_1(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_98;
    case 9:
    case 10:
    case 11:
      GetScriptFile_1(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_98;
    case 12:
    case 13:
      GetScriptFile_1(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_98;
    case 14:
      GetScriptFile_1(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_98;
    case 15:
      v7 = (a3->vtable->GetVariable)(a3, L"BS0100D00");
      GetScriptFile_1(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_98;
    case 16:
    case 17:
    case 18:
      GetScriptFile_1(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_98;
    case 19:
    case 20:
    case 21:
      GetScriptFile_1(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_98;
    case 22:
      v8 = (a3->vtable->GetVariable)(a3, L"BS0100E00");
      GetScriptFile_1(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_98;
    case 23:
      v9 = (a3->vtable->GetVariable)(a3, L"BS0100E01");
      GetScriptFile_1(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_98;
    case 24:
    case 25:
    case 26:
      GetScriptFile_1(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_98;
    case 27:
      v10 = (a3->vtable->GetVariable)(a3, L"BS0100E05");
      GetScriptFile_1(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_98;
    case 28:
    case 29:
      GetScriptFile_1(a3, Dst, SizeInWords, 27, 0);
      goto LABEL_98;
    case 30:
    case 31:
      GetScriptFile_1(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_98;
    case 32:
      v11 = (a3->vtable->GetVariable)(a3, L"BS0100F00");
      GetScriptFile_1(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_98;
    case 33:
    case 34:
    case 35:
      GetScriptFile_1(a3, Dst, SizeInWords, 32, 0);
      goto LABEL_98;
    case 36:
      v12 = (a3->vtable->GetVariable)(a3, L"BS0100G00");
      GetScriptFile_1(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_98;
    case 37:
    case 38:
    case 39:
      GetScriptFile_1(a3, Dst, SizeInWords, 36, 0);
      goto LABEL_98;
    case 40:
      v13 = (a3->vtable->GetVariable)(a3, L"BS0100G04");
      GetScriptFile_1(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_98;
    case 41:
      v14 = (a3->vtable->GetVariable)(a3, L"BS0100H00");
      GetScriptFile_1(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_98;
    case 42:
    case 43:
    case 44:
      GetScriptFile_1(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_98;
    case 45:
    case 46:
      GetScriptFile_1(a3, Dst, SizeInWords, 45, 0);
      goto LABEL_98;
    case 47:
      v15 = (a3->vtable->GetVariable)(a3, L"BS0100H06");
      GetScriptFile_1(a3, Dst, SizeInWords, v15, 0);
      goto LABEL_98;
    case 48:
    case 49:
      GetScriptFile_1(a3, Dst, SizeInWords, 47, 0);
      goto LABEL_98;
    case 50:
      v16 = (a3->vtable->GetVariable)(a3, L"BS0100H09");
      GetScriptFile_1(a3, Dst, SizeInWords, v16, 0);
      goto LABEL_98;
    case 51:
      v29 = (a3->vtable->GetVariable)(a3, L"BS0100I00");
      if ( v29 == 37 )
      {
        (a3->vtable->SetVariable)(a3, L"999", 0);
      }
      else
      {
        if ( v29 == 38 )
          (a3->vtable->SetVariable)(a3, L"998", 0);
      }
      GetScriptFile_1(a3, Dst, SizeInWords, v29, 0);
      goto LABEL_98;
    case 52:
      GetScriptFile_1(a3, Dst, SizeInWords, 51, 0);
      goto LABEL_98;
    case 53:
      v17 = (a3->vtable->GetVariable)(a3, L"BS0100J01");
      GetScriptFile_1(a3, Dst, SizeInWords, v17, 0);
      goto LABEL_98;
    case 54:
    case 55:
    case 56:
      GetScriptFile_1(a3, Dst, SizeInWords, 53, 0);
      goto LABEL_98;
    case 57:
      v18 = (a3->vtable->GetVariable)(a3, L"BS0100J05");
      GetScriptFile_1(a3, Dst, SizeInWords, v18, 0);
      goto LABEL_98;
    case 58:
      (a3->vtable->SetFlagValue)(a3, L"986", 0);
      GetScriptFile_1(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_98;
    case 59:
      v19 = (a3->vtable->GetVariable)(a3, L"BS0100K00");
      GetScriptFile_1(a3, Dst, SizeInWords, v19, 0);
      goto LABEL_98;
    case 60:
      GetScriptFile_1(a3, Dst, SizeInWords, 58, 0);
      goto LABEL_98;
    case 61:
      GetScriptFile_1(a3, Dst, SizeInWords, 59, 0);
      goto LABEL_98;
    case 62:
      GetScriptFile_1(a3, Dst, SizeInWords, 61, 0);
      goto LABEL_98;
    case 63:
    case 64:
    case 65:
      GetScriptFile_1(a3, Dst, SizeInWords, 62, 0);
      goto LABEL_98;
    case 66:
    case 67:
    case 68:
      (a3->vtable->SetFlagValue)(a3, L"996", 0);
      GetScriptFile_1(a3, Dst, SizeInWords, 64, 0);
      goto LABEL_98;
    case 69:
      GetScriptFile_1(a3, Dst, SizeInWords, 95, 0);
      goto LABEL_98;
    case 70:
      GetScriptFile_1(a3, Dst, SizeInWords, 96, 0);
      goto LABEL_98;
    case 71:
    case 72:
      GetScriptFile_1(a3, Dst, SizeInWords, 70, 0);
      goto LABEL_98;
    case 73:
      v30 = (a3->vtable->GetVariable)(a3, L"BS0100N00");
      if ( v30 != 63 && v30 != 65 )
      {
        if ( v30 != 66 && v30 != 68 )
        {
          if ( v30 == 67 )
            (a3->vtable->SetFlagValue)(a3, L"994", 0);
        }
        else
        {
          (a3->vtable->SetFlagValue)(a3, L"995", 0);
        }
      }
      else
      {
        (a3->vtable->SetFlagValue)(a3, L"997", 0);
      }
      GetScriptFile_1(a3, Dst, SizeInWords, v30, 0);
      goto LABEL_98;
    case 74:
    case 75:
    case 76:
      GetScriptFile_1(a3, Dst, SizeInWords, 73, 0);
      goto LABEL_98;
    case 77:
      v20 = (a3->vtable->GetVariable)(a3, L"BS0100N04");
      GetScriptFile_1(a3, Dst, SizeInWords, v20, 0);
      goto LABEL_98;
    case 78:
    case 79:
    case 80:
      GetScriptFile_1(a3, Dst, SizeInWords, 77, 0);
      goto LABEL_98;
    case 81:
      GetScriptFile_1(a3, Dst, SizeInWords, 78, 0);
      goto LABEL_98;
    case 82:
      v31 = (a3->vtable->GetVariable)(a3, L"BS0100N09");
      if ( v31 == 88 )
      {
        (a3->vtable->SetFlagValue)(a3, L"992", 0);
      }
      else
      {
        if ( v31 == 90 )
          (a3->vtable->SetFlagValue)(a3, L"993", 0);
      }
      GetScriptFile_1(a3, Dst, SizeInWords, v31, 0);
      goto LABEL_98;
    case 83:
      v21 = (a3->vtable->GetVariable)(a3, L"BS0100N10");
      GetScriptFile_1(a3, Dst, SizeInWords, v21, 0);
      goto LABEL_98;
    case 84:
      GetScriptFile_1(a3, Dst, SizeInWords, 78, 0);
      goto LABEL_98;
    case 85:
      GetScriptFile_1(a3, Dst, SizeInWords, 82, 0);
      goto LABEL_98;
    case 86:
      GetScriptFile_1(a3, Dst, SizeInWords, 81, 0);
      goto LABEL_98;
    case 87:
    case 88:
    case 89:
      GetScriptFile_1(a3, Dst, SizeInWords, 86, 0);
      goto LABEL_98;
    case 90:
      GetScriptFile_1(a3, Dst, SizeInWords, 84, 0);
      goto LABEL_98;
    case 91:
      GetScriptFile_1(a3, Dst, SizeInWords, 80, 0);
      goto LABEL_98;
    case 92:
      GetScriptFile_1(a3, Dst, SizeInWords, 54, 0);
      goto LABEL_98;
    case 93:
      v32 = (a3->vtable->GetVariable)(a3, L"BS0100Q00");
      if ( v32 == 91 )
        (a3->vtable->SetFlagValue)(a3, L"992", 0);
      GetScriptFile_1(a3, Dst, SizeInWords, v32, 0);
      goto LABEL_98;
    case 94:
      GetScriptFile_1(a3, Dst, SizeInWords, 92, 0);
      goto LABEL_98;
    case 95:
    case 96:
      GetScriptFile_1(a3, Dst, SizeInWords, 93, 0);
      goto LABEL_98;
    case 97:
      GetScriptFile_1(a3, Dst, SizeInWords, 50, 0);
      goto LABEL_98;
    case 98:
    case 99:
      GetScriptFile_1(a3, Dst, SizeInWords, 97, 0);
      goto LABEL_98;
    case 100:
      v22 = (a3->vtable->GetVariable)(a3, L"BS0100R03");
      GetScriptFile_1(a3, Dst, SizeInWords, v22, 0);
      goto LABEL_98;
    case 101:
      v23 = (a3->vtable->GetVariable)(a3, L"BS0100R04");
      GetScriptFile_1(a3, Dst, SizeInWords, v23, 0);
      goto LABEL_98;
    case 102:
      GetScriptFile_1(a3, Dst, SizeInWords, 98, 0);
      goto LABEL_98;
    case 103:
    case 104:
      GetScriptFile_1(a3, Dst, SizeInWords, 99, 0);
      goto LABEL_98;
    case 105:
      v24 = (a3->vtable->GetVariable)(a3, L"BS0100R08");
      GetScriptFile_1(a3, Dst, SizeInWords, v24, 0);
      goto LABEL_98;
    case 106:
      v25 = (a3->vtable->GetVariable)(a3, L"BS0100R09");
      GetScriptFile_1(a3, Dst, SizeInWords, v25, 0);
      goto LABEL_98;
    case 107:
      v26 = (a3->vtable->GetVariable)(a3, L"BS0100R10");
      GetScriptFile_1(a3, Dst, SizeInWords, v26, 0);
      goto LABEL_98;
    case 108:
      GetScriptFile_1(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_98;
    case 109:
    case 110:
    case 111:
      GetScriptFile_1(a3, Dst, SizeInWords, 108, 0);
      goto LABEL_98;
    case 112:
      v27 = (a3->vtable->GetVariable)(a3, L"BS0100S04");
      GetScriptFile_1(a3, Dst, SizeInWords, v27, 0);
      goto LABEL_98;
    case 113:
      GetScriptFile_1(a3, Dst, SizeInWords, 60, 0);
      goto LABEL_98;
    case 114:
      v28 = (a3->vtable->GetVariable)(a3, L"BS0100U00");
      GetScriptFile_1(a3, Dst, SizeInWords, v28, 0);
      goto LABEL_98;
    case 115:
      GetScriptFile_1(a3, Dst, SizeInWords, 0, 0);
LABEL_98:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 386FC0: using guessed type wchar_t aScene_16[6];
// 386FCC: using guessed type wchar_t aBs0100b04_0[10];
// 386FE0: using guessed type wchar_t aBs0100b05_1[10];
// 386FF4: using guessed type wchar_t aBs0100d00_0[10];
// 387008: using guessed type wchar_t aBs0100e00_0[10];
// 38701C: using guessed type wchar_t aBs0100e01_0[10];
// 387030: using guessed type wchar_t aBs0100e05_0[10];
// 387044: using guessed type wchar_t aBs0100f00_0[10];
// 387058: using guessed type wchar_t aBs0100g00_0[10];
// 38706C: using guessed type wchar_t aBs0100g04_0[10];
// 387080: using guessed type wchar_t aBs0100h00_0[10];
// 387094: using guessed type wchar_t aBs0100h06_0[10];
// 3870A8: using guessed type wchar_t aBs0100h09_0[10];
// 3870BC: using guessed type wchar_t aBs0100i00_0[10];
// 3870D0: using guessed type wchar_t a999_3[4];
// 3870D8: using guessed type wchar_t a998_2[4];
// 3870E0: using guessed type wchar_t aBs0100j01_0[10];
// 3870F4: using guessed type wchar_t aBs0100j05_0[10];
// 387108: using guessed type wchar_t a986_2[4];
// 387110: using guessed type wchar_t aBs0100k00_1[10];
// 387124: using guessed type wchar_t a996_2[4];
// 38712C: using guessed type wchar_t aBs0100n00_0[10];
// 387140: using guessed type wchar_t a997_3[4];
// 387148: using guessed type wchar_t a995_3[4];
// 387150: using guessed type wchar_t a994_2[4];
// 387158: using guessed type wchar_t aBs0100n04_0[10];
// 38716C: using guessed type wchar_t aBs0100n09_1[10];
// 387180: using guessed type wchar_t a992_6[4];
// 387188: using guessed type wchar_t a993_3[4];
// 387190: using guessed type wchar_t aBs0100n10_0[10];
// 3871A4: using guessed type wchar_t aBs0100q00_5[10];
// 3871B8: using guessed type wchar_t a992_7[4];
// 3871C0: using guessed type wchar_t aBs0100r03_1[10];
// 3871D4: using guessed type wchar_t aBs0100r04_1[10];
// 3871E8: using guessed type wchar_t aBs0100r08_0[10];
// 3871FC: using guessed type wchar_t aBs0100r09_0[10];
// 387210: using guessed type wchar_t aBs0100r10_0[10];
// 387224: using guessed type wchar_t aBs0100s04_0[10];
// 387238: using guessed type wchar_t aBs0100u00_0[10];

//----- (00340980) --------------------------------------------------------
signed int __cdecl searchRoot_route_1(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 116; ++i )
  {
    if ( !wcscmp((&route_files_1)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 1);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38724C: using guessed type wchar_t aRoute_16[6];
// 387258: using guessed type wchar_t aScene_17[6];

//----- (003409F0) --------------------------------------------------------
signed int __cdecl CheckScript_route_1(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 11;
      break;
    case 36:
      v2 = 13;
      break;
    case 53:
      v2 = 12;
      break;
    case 108:
      v2 = 14;
      break;
    case 62:
      v2 = 15;
      break;
    case 77:
      v2 = 16;
      break;
    default:
      v2 = CheckScript_by_flags_route_1(a1);
      break;
  }
  return v2;
}
// 333C40: using guessed type _DWORD __cdecl CheckScript_by_flags_route_1(_DWORD);
// 3409F0: using guessed type _DWORD __cdecl CheckScript_route_1(_DWORD);
// 387264: using guessed type wchar_t aScene_18[6];

//----- (00340B10) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_1(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 115; ++i )
  {
    if ( !wcscmp((&route_files_1)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00340B60) --------------------------------------------------------
int __cdecl SetFeeling_route_1(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 1;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 2;
      }
      break;
    case 7:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 10;
        else
          v3 = 11;
      }
      else
      {
        v3 = 9;
      }
      break;
    case 9:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 13;
      else
        v3 = 12;
      break;
    case 14:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 17;
        else
          v3 = 18;
      }
      else
      {
        v3 = 16;
      }
      break;
    case 16:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 20;
        else
          v3 = 21;
      }
      else
      {
        v3 = 19;
      }
      break;
    case 21:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 31;
      else
        v3 = 30;
      break;
    case 22:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 25;
        else
          v3 = 26;
      }
      else
      {
        v3 = 24;
      }
      break;
    case 26:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 29;
      else
        v3 = 28;
      break;
    case 31:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 34;
        else
          v3 = 35;
      }
      else
      {
        v3 = 33;
      }
      break;
    case 35:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 38;
        else
          v3 = 39;
      }
      else
      {
        v3 = 37;
      }
      break;
    case 40:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 43;
        else
          v3 = 44;
      }
      else
      {
        v3 = 42;
      }
      break;
    case 43:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 46;
      else
        v3 = 45;
      break;
    case 46:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 49;
      else
        v3 = 48;
      break;
    case 52:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 55;
        else
          v3 = 56;
      }
      else
      {
        v3 = 54;
      }
      break;
    case 61:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 64;
        else
          v3 = 65;
      }
      else
      {
        v3 = 63;
      }
      break;
    case 63:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 67;
        else
          v3 = 68;
      }
      else
      {
        v3 = 66;
      }
      break;
    case 76:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 79;
        else
          v3 = 80;
      }
      else
      {
        v3 = 78;
      }
      break;
    case 85:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 88;
        else
          v3 = 89;
      }
      else
      {
        v3 = 87;
      }
      break;
    case 96:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 99;
        else
          v3 = 100;
      }
      else
      {
        v3 = 98;
      }
      break;
    case 98:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 103;
        else
          v3 = 104;
      }
      else
      {
        v3 = 101;
      }
      break;
    case 99:
    case 104:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 107;
      else
        v3 = 106;
      break;
    case 107:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 110;
        else
          v3 = 111;
      }
      else
      {
        v3 = 109;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_1)[2 * v3], a2);
  return result;
}
// 387270: using guessed type wchar_t aScene_19[6];

//----- (00341190) --------------------------------------------------------
unsigned int __cdecl sub_341190(ScriptObject *this, int a2, int scene)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( scene == 2 )
  {
    v4 = 206;
  }
  else
  {
    if ( scene == 35 )
      v4 = 208;
    else
      v4 = -1;
  }
  return sub_3367C0(this, v4, (&route_files_2)[2 * scene], a2);
}

//----- (003411F0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_2(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_341190(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 2);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_2)[2 * a4]);
}
// 38782C: using guessed type wchar_t aRoute_17[6];
// 387838: using guessed type wchar_t aScene_20[6];

//----- (00341260) --------------------------------------------------------
signed int __cdecl GetNextScript_2(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *this)
{
  signed int result; // eax@68
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (this->vtable->GetVariable)(this, L"SCENE");
  sub_341190(this, 1, v4);
  switch ( v4 )
  {
    case 0:
      GetScriptFile_2(this, Dst, SizeInWords, 1, 1);
      goto LABEL_70;
    case 1:
      GetScriptFile_2(this, Dst, SizeInWords, 2, 1);
      goto LABEL_70;
    case 2:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_2(this, Dst, SizeInWords, 4, 1);
        else
          GetScriptFile_2(this, Dst, SizeInWords, 5, 1);
      }
      else
      {
        GetScriptFile_2(this, Dst, SizeInWords, 3, 1);
      }
      goto LABEL_70;
    case 3:
    case 4:
    case 6:
    case 9:
    case 10:
      switch ( v4 )
      {
        case 3:
          (this->vtable->SetFlagValue)(this, L"991", 1);
          break;
        case 4:
          (this->vtable->SetFlagValue)(this, L"990", 1);
          break;
        case 6:
          (this->vtable->SetFlagValue)(this, L"989", 1);
          break;
        case 9:
          (this->vtable->SetFlagValue)(this, L"988", 1);
          break;
        default:
          (this->vtable->SetFlagValue)(this, L"987", 1);
          break;
      }
      (this->vtable->SetVariable)(this, L"BS011KD00", v4);
      GetScriptFile_2(this, Dst, SizeInWords, 12, 1);
      goto LABEL_70;
    case 5:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_2(this, Dst, SizeInWords, 7, 1);
        else
          GetScriptFile_2(this, Dst, SizeInWords, 8, 1);
      }
      else
      {
        (this->vtable->SetVariable)(this, L"BS011KC04", v4);
        GetScriptFile_2(this, Dst, SizeInWords, 6, 1);
      }
      goto LABEL_70;
    case 7:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_2(this, Dst, SizeInWords, 10, 1);
        else
          GetScriptFile_2(this, Dst, SizeInWords, 11, 1);
      }
      else
      {
        GetScriptFile_2(this, Dst, SizeInWords, 9, 1);
      }
      goto LABEL_70;
    case 8:
    case 11:
      (this->vtable->SetVariable)(this, L"BS011KC04", v4);
      GetScriptFile_2(this, Dst, SizeInWords, 6, 1);
      goto LABEL_70;
    case 12:
      GetScriptFile_2(this, Dst, SizeInWords, 13, 1);
      goto LABEL_70;
    case 13:
      if ( (this->vtable->IsFlagSet)(this, L"991") )
      {
        GetScriptFile_2(this, Dst, SizeInWords, 18, 1);
      }
      else
      {
        if ( (this->vtable->IsFlagSet)(this, L"990") )
        {
          GetScriptFile_2(this, Dst, SizeInWords, 17, 1);
        }
        else
        {
          if ( (this->vtable->IsFlagSet)(this, L"989") )
          {
            (this->vtable->SetVariable)(this, L"BS011KE03", v4);
            GetScriptFile_2(this, Dst, SizeInWords, 16, 1);
          }
          else
          {
            if ( (this->vtable->IsFlagSet)(this, L"988") )
              GetScriptFile_2(this, Dst, SizeInWords, 15, 1);
            else
              GetScriptFile_2(this, Dst, SizeInWords, 14, 1);
          }
        }
      }
      goto LABEL_70;
    case 14:
      (this->vtable->SetVariable)(this, L"BS011KE03", v4);
      GetScriptFile_2(this, Dst, SizeInWords, 16, 1);
      goto LABEL_70;
    case 15:
    case 18:
      (this->vtable->SetVariable)(this, L"BS011KE06", v4);
      GetScriptFile_2(this, Dst, SizeInWords, 19, 1);
      goto LABEL_70;
    case 16:
    case 17:
    case 19:
      (this->vtable->SetVariable)(this, L"BS011KF00", v4);
      GetScriptFile_2(this, Dst, SizeInWords, 20, 1);
      goto LABEL_70;
    case 20:
      GetScriptFile_2(this, Dst, SizeInWords, 21, 1);
      goto LABEL_70;
    case 21:
      GetScriptFile_2(this, Dst, SizeInWords, 22, 1);
      goto LABEL_70;
    case 22:
      GetScriptFile_2(this, Dst, SizeInWords, 23, 1);
      goto LABEL_70;
    case 23:
      GetScriptFile_2(this, Dst, SizeInWords, 24, 1);
      goto LABEL_70;
    case 24:
      GetScriptFile_2(this, Dst, SizeInWords, 25, 1);
      goto LABEL_70;
    case 25:
      if ( (this->vtable->IsFlagSet)(this, L"986") )
        GetScriptFile_2(this, Dst, SizeInWords, 26, 1);
      else
        GetScriptFile_2(this, Dst, SizeInWords, 27, 1);
      goto LABEL_70;
    case 26:
    case 27:
      (this->vtable->SetVariable)(this, L"BS011KK03", v4);
      GetScriptFile_2(this, Dst, SizeInWords, 28, 1);
      goto LABEL_70;
    case 28:
      GetScriptFile_2(this, Dst, SizeInWords, 29, 1);
      goto LABEL_70;
    case 29:
      if ( (this->vtable->IsFlagSet)(this, L"986") )
        GetScriptFile_2(this, Dst, SizeInWords, 30, 1);
      else
        GetScriptFile_2(this, Dst, SizeInWords, 31, 1);
      goto LABEL_70;
    case 30:
    case 31:
      (this->vtable->SetVariable)(this, L"BS011KK07", v4);
      GetScriptFile_2(this, Dst, SizeInWords, 32, 1);
      goto LABEL_70;
    case 32:
      GetScriptFile_2(this, Dst, SizeInWords, 33, 1);
      goto LABEL_70;
    case 33:
      GetScriptFile_2(this, Dst, SizeInWords, 34, 1);
      goto LABEL_70;
    case 34:
      GetScriptFile_2(this, Dst, SizeInWords, 35, 1);
LABEL_70:
      result = 1;
      break;
    case 35:
      (this->vtable->field_2C)(this);
      (this->vtable->field_38)(this, 1);
      if ( dword_3A6F40 )
        ClearIndexies(this);
      GetScriptFile_4(this, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    default:
      sub_336760(this, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 387844: using guessed type wchar_t aScene_21[6];
// 387850: using guessed type wchar_t a991_0[4];
// 387858: using guessed type wchar_t a990_0[4];
// 387860: using guessed type wchar_t a989_0[4];
// 387868: using guessed type wchar_t a988_0[4];
// 387870: using guessed type wchar_t a987_0[4];
// 387878: using guessed type wchar_t aBs011kd00[10];
// 38788C: using guessed type wchar_t aBs011kc04[10];
// 3878A0: using guessed type wchar_t aBs011kc04_0[10];
// 3878B4: using guessed type wchar_t a991_1[4];
// 3878BC: using guessed type wchar_t a990_1[4];
// 3878C4: using guessed type wchar_t a989_1[4];
// 3878CC: using guessed type wchar_t aBs011ke03[10];
// 3878E0: using guessed type wchar_t a988_1[4];
// 3878E8: using guessed type wchar_t aBs011ke03_0[10];
// 3878FC: using guessed type wchar_t aBs011ke06[10];
// 387910: using guessed type wchar_t aBs011kf00[10];
// 387924: using guessed type wchar_t a986_3[4];
// 38792C: using guessed type wchar_t aBs011kk03[10];
// 387940: using guessed type wchar_t a986_4[4];
// 387948: using guessed type wchar_t aBs011kk07[10];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00341A00) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_2(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@6
  int v6; // ST18_4@21
  int v7; // ST18_4@23
  int v8; // ST18_4@24
  int v9; // ST18_4@31
  int v10; // ST18_4@34
  int v11; // [sp+4h] [bp-8h]@9

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_2)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_1(a3, Dst, SizeInWords, 114, 0);
      return 1;
    case 1:
      GetScriptFile_2(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_39;
    case 2:
      GetScriptFile_2(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_39;
    case 3:
    case 4:
    case 5:
      GetScriptFile_2(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_39;
    case 6:
      v5 = (a3->vtable->GetVariable)(a3, L"BS011KC04");
      GetScriptFile_2(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_39;
    case 7:
    case 8:
      GetScriptFile_2(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_39;
    case 9:
    case 10:
    case 11:
      GetScriptFile_2(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_39;
    case 12:
      v11 = (a3->vtable->GetVariable)(a3, L"BS011KD00");
      switch ( v11 )
      {
        case 3:
          (a3->vtable->SetFlagValue)(a3, L"991", 0);
          break;
        case 4:
          (a3->vtable->SetFlagValue)(a3, L"990", 0);
          break;
        case 6:
          (a3->vtable->SetFlagValue)(a3, L"989", 0);
          break;
        case 9:
          (a3->vtable->SetFlagValue)(a3, L"988", 0);
          break;
        default:
          (a3->vtable->SetFlagValue)(a3, L"987", 0);
          break;
      }
      GetScriptFile_2(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_39;
    case 13:
      GetScriptFile_2(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_39;
    case 14:
    case 15:
      GetScriptFile_2(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_39;
    case 16:
      v6 = (a3->vtable->GetVariable)(a3, L"BS011KE03");
      GetScriptFile_2(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_39;
    case 17:
    case 18:
      GetScriptFile_2(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_39;
    case 19:
      v7 = (a3->vtable->GetVariable)(a3, L"BS011KE06");
      GetScriptFile_2(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_39;
    case 20:
      v8 = (a3->vtable->GetVariable)(a3, L"BS011KF00");
      GetScriptFile_2(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_39;
    case 21:
      GetScriptFile_2(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_39;
    case 22:
      GetScriptFile_2(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_39;
    case 23:
      GetScriptFile_2(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_39;
    case 24:
      GetScriptFile_2(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_39;
    case 25:
      GetScriptFile_2(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_39;
    case 26:
    case 27:
      GetScriptFile_2(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_39;
    case 28:
      v9 = (a3->vtable->GetVariable)(a3, L"BS011KK03");
      GetScriptFile_2(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_39;
    case 29:
      GetScriptFile_2(a3, Dst, SizeInWords, 28, 0);
      goto LABEL_39;
    case 30:
    case 31:
      GetScriptFile_2(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_39;
    case 32:
      v10 = (a3->vtable->GetVariable)(a3, L"BS011KK07");
      GetScriptFile_2(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_39;
    case 33:
      GetScriptFile_2(a3, Dst, SizeInWords, 32, 0);
      goto LABEL_39;
    case 34:
      GetScriptFile_2(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_39;
    case 35:
      GetScriptFile_2(a3, Dst, SizeInWords, 34, 0);
LABEL_39:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38795C: using guessed type wchar_t aScene_22[6];
// 387968: using guessed type wchar_t aBs011kc04_1[10];
// 38797C: using guessed type wchar_t aBs011kd00_0[10];
// 387990: using guessed type wchar_t a991_2[4];
// 387998: using guessed type wchar_t a990_2[4];
// 3879A0: using guessed type wchar_t a989_2[4];
// 3879A8: using guessed type wchar_t a988_2[4];
// 3879B0: using guessed type wchar_t a987_1[4];
// 3879B8: using guessed type wchar_t aBs011ke03_1[10];
// 3879CC: using guessed type wchar_t aBs011ke06_0[10];
// 3879E0: using guessed type wchar_t aBs011kf00_0[10];
// 3879F4: using guessed type wchar_t aBs011kk03_0[10];
// 387A08: using guessed type wchar_t aBs011kk07_0[10];

//----- (00341F30) --------------------------------------------------------
signed int __cdecl searchRoot_route_1k(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 36; ++i )
  {
    if ( !wcscmp((&route_files_2)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 2);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 387A1C: using guessed type wchar_t aRoute_18[6];
// 387A28: using guessed type wchar_t aScene_23[6];

//----- (00341FA0) --------------------------------------------------------
signed int __cdecl CheckScript_route_2(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 == 2 )
  {
    v3 = 17;
  }
  else
  {
    if ( v2 == 35 )
      v3 = 19;
    else
      v3 = CheckScript_by_flags_route_1(a1);
  }
  return v3;
}
// 333C40: using guessed type _DWORD __cdecl CheckScript_by_flags_route_1(_DWORD);
// 341FA0: using guessed type _DWORD __cdecl CheckScript_route_2(_DWORD);
// 387A34: using guessed type wchar_t aScene_24[6];

//----- (00342000) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_2(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 36; ++i )
  {
    if ( !wcscmp((&route_files_2)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00342050) --------------------------------------------------------
int __cdecl SetFeeling_route_2(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@4

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  switch ( result )
  {
    case 2:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 4;
        else
          v3 = 5;
      }
      else
      {
        v3 = 3;
      }
      break;
    case 5:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 7;
        else
          v3 = 8;
      }
      else
      {
        v3 = 6;
      }
      break;
    case 7:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 10;
        else
          v3 = 11;
      }
      else
      {
        v3 = 9;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_2)[2 * v3], a2);
  return result;
}
// 387A40: using guessed type wchar_t aScene_25[6];

//----- (00342180) --------------------------------------------------------
unsigned int __cdecl sub_342180(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 == 19 )
    v4 = 207;
  else
    v4 = -1;
  return sub_3367C0(a1, v4, (&route_files_3)[2 * a3], a2);
}

//----- (003421D0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_3(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_342180(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 3);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_3)[2 * a4]);
}
// 387D7C: using guessed type wchar_t aRoute_19[6];
// 387D88: using guessed type wchar_t aScene_26[6];

//----- (00342240) --------------------------------------------------------
signed int __cdecl GetNextScript_3(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *this)
{
  int v3; // ST18_4@1
  signed int result; // eax@23

  v3 = (this->vtable->GetVariable)(this, L"SCENE");
  sub_342180(this, 1, v3);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_3(this, Dst, SizeInWords, 1, 1);
      goto LABEL_25;
    case 1:
      GetScriptFile_3(this, Dst, SizeInWords, 2, 1);
      goto LABEL_25;
    case 2:
      GetScriptFile_3(this, Dst, SizeInWords, 3, 1);
      goto LABEL_25;
    case 3:
      GetScriptFile_3(this, Dst, SizeInWords, 4, 1);
      goto LABEL_25;
    case 4:
      GetScriptFile_3(this, Dst, SizeInWords, 5, 1);
      goto LABEL_25;
    case 5:
      GetScriptFile_3(this, Dst, SizeInWords, 6, 1);
      goto LABEL_25;
    case 6:
      GetScriptFile_3(this, Dst, SizeInWords, 7, 1);
      goto LABEL_25;
    case 7:
      GetScriptFile_3(this, Dst, SizeInWords, 8, 1);
      goto LABEL_25;
    case 8:
      GetScriptFile_3(this, Dst, SizeInWords, 9, 1);
      goto LABEL_25;
    case 9:
      GetScriptFile_3(this, Dst, SizeInWords, 10, 1);
      goto LABEL_25;
    case 10:
      GetScriptFile_3(this, Dst, SizeInWords, 11, 1);
      goto LABEL_25;
    case 11:
      GetScriptFile_3(this, Dst, SizeInWords, 12, 1);
      goto LABEL_25;
    case 12:
      GetScriptFile_3(this, Dst, SizeInWords, 13, 1);
      goto LABEL_25;
    case 13:
      GetScriptFile_3(this, Dst, SizeInWords, 14, 1);
      goto LABEL_25;
    case 14:
      GetScriptFile_3(this, Dst, SizeInWords, 15, 1);
      goto LABEL_25;
    case 15:
      GetScriptFile_3(this, Dst, SizeInWords, 16, 1);
      goto LABEL_25;
    case 16:
      GetScriptFile_3(this, Dst, SizeInWords, 17, 1);
      goto LABEL_25;
    case 17:
      GetScriptFile_3(this, Dst, SizeInWords, 18, 1);
      goto LABEL_25;
    case 18:
      GetScriptFile_3(this, Dst, SizeInWords, 19, 1);
LABEL_25:
      result = 1;
      break;
    case 19:
      (this->vtable->field_2C)(this);
      (this->vtable->field_38)(this, 1);
      if ( dword_3A6F40 )
        ClearIndexies(this);
      GetScriptFile_5(this, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    default:
      sub_336760(this, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 387D94: using guessed type wchar_t aScene_27[6];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00342570) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_3(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_3)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_1(a3, Dst, SizeInWords, 114, 0);
      return 1;
    case 1:
      GetScriptFile_3(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_23;
    case 2:
      GetScriptFile_3(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_23;
    case 3:
      GetScriptFile_3(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_23;
    case 4:
      GetScriptFile_3(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_23;
    case 5:
      GetScriptFile_3(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_23;
    case 6:
      GetScriptFile_3(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_23;
    case 7:
      GetScriptFile_3(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_23;
    case 8:
      GetScriptFile_3(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_23;
    case 9:
      GetScriptFile_3(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_23;
    case 10:
      GetScriptFile_3(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_23;
    case 11:
      GetScriptFile_3(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_23;
    case 12:
      GetScriptFile_3(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_23;
    case 13:
      GetScriptFile_3(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_23;
    case 14:
      GetScriptFile_3(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_23;
    case 15:
      GetScriptFile_3(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_23;
    case 16:
      GetScriptFile_3(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_23;
    case 17:
      GetScriptFile_3(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_23;
    case 18:
      GetScriptFile_3(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_23;
    case 19:
      GetScriptFile_3(a3, Dst, SizeInWords, 18, 0);
LABEL_23:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 387DA0: using guessed type wchar_t aScene_28[6];

//----- (00342870) --------------------------------------------------------
signed int __cdecl searchRoot_route_1s(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 20; ++i )
  {
    if ( !wcscmp((&route_files_3)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 3);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 387DAC: using guessed type wchar_t aRoute_20[6];
// 387DB8: using guessed type wchar_t aScene_29[6];

//----- (003428E0) --------------------------------------------------------
signed int __cdecl CheckScript_route_3(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") == 19 )
    v2 = 18;
  else
    v2 = CheckScript_by_flags_route_1(a1);
  return v2;
}
// 333C40: using guessed type _DWORD __cdecl CheckScript_by_flags_route_1(_DWORD);
// 3428E0: using guessed type _DWORD __cdecl CheckScript_route_3(_DWORD);
// 387DC4: using guessed type wchar_t aScene_30[6];

//----- (00342930) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_3(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 20; ++i )
  {
    if ( !wcscmp((&route_files_3)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00342980) --------------------------------------------------------
int __cdecl SetFeeling_route_3(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 387DD0: using guessed type wchar_t aScene_31[6];

//----- (003429D0) --------------------------------------------------------
unsigned int __cdecl sub_3429D0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 301;
      break;
    case 45:
      v4 = 307;
      break;
    case 57:
      v4 = 308;
      break;
    case 90:
      v4 = 309;
      break;
    case 41:
      v4 = 310;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_4)[2 * a3], a2);
}

//----- (00342AD0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_4(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3429D0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 4);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_4)[2 * a4]);
}
// 388C68: using guessed type wchar_t aRoute_21[6];
// 388C74: using guessed type wchar_t aScene_32[6];

//----- (00342B40) --------------------------------------------------------
signed int __cdecl GetNextScript_4(wchar_t *Dst, rsize_t SizeInWords, int this)
{
  int v3; // esi@13
  signed int result; // eax@66
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (*(*this + 8))(this, L"SCENE");
  sub_3429D0(this, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_4(this, Dst, SizeInWords, 92, 1);
      goto LABEL_169;
    case 1:
      GetScriptFile_4(this, Dst, SizeInWords, 4, 1);
      goto LABEL_169;
    case 2:
      GetScriptFile_4(this, Dst, SizeInWords, 77, 1);
      goto LABEL_169;
    case 3:
      GetScriptFile_4(this, Dst, SizeInWords, 14, 1);
      goto LABEL_169;
    case 4:
      GetScriptFile_4(this, Dst, SizeInWords, 5, 1);
      goto LABEL_169;
    case 5:
      GetScriptFile_4(this, Dst, SizeInWords, 7, 1);
      goto LABEL_169;
    case 6:
      (*(*this + 12))(this, L"BS022KQ00", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 84, 1);
      goto LABEL_169;
    case 7:
      GetScriptFile_4(this, Dst, SizeInWords, 8, 1);
      goto LABEL_169;
    case 8:
      GetScriptFile_4(this, Dst, SizeInWords, 18, 1);
      goto LABEL_169;
    case 9:
      GetScriptFile_4(this, Dst, SizeInWords, 71, 1);
      goto LABEL_169;
    case 10:
      GetScriptFile_4(this, Dst, SizeInWords, 11, 1);
      goto LABEL_169;
    case 11:
      v3 = (*(*this + 8))(this, L"001");
      if ( v3 <= (*(*this + 8))(this, L"002") )
        GetScriptFile_4(this, Dst, SizeInWords, 91, 1);
      else
        GetScriptFile_4(this, Dst, SizeInWords, 73, 1);
      goto LABEL_169;
    case 12:
      GetScriptFile_4(this, Dst, SizeInWords, 13, 1);
      goto LABEL_169;
    case 13:
      GetScriptFile_4(this, Dst, SizeInWords, 72, 1);
      goto LABEL_169;
    case 14:
      GetScriptFile_4(this, Dst, SizeInWords, 15, 1);
      goto LABEL_169;
    case 15:
      GetScriptFile_4(this, Dst, SizeInWords, 16, 1);
      goto LABEL_169;
    case 16:
      GetScriptFile_4(this, Dst, SizeInWords, 17, 1);
      goto LABEL_169;
    case 17:
      GetScriptFile_4(this, Dst, SizeInWords, 41, 1);
      goto LABEL_169;
    case 18:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          GetScriptFile_4(this, Dst, SizeInWords, 20, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS022KF03", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 21, 1);
        }
      }
      else
      {
        GetScriptFile_4(this, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_169;
    case 19:
    case 20:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          (*(*this + 12))(this, L"BS022KF05", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 23, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS022KF06", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 24, 1);
        }
      }
      else
      {
        (*(*this + 12))(this, L"BS022KF04", v5);
        GetScriptFile_4(this, Dst, SizeInWords, 22, 1);
      }
      goto LABEL_169;
    case 21:
    case 23:
    case 24:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          (*(*this + 12))(this, L"BS022KF08", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 26, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS022KF09", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 27, 1);
        }
      }
      else
      {
        (*(*this + 12))(this, L"BS022KF07", v5);
        GetScriptFile_4(this, Dst, SizeInWords, 25, 1);
      }
      goto LABEL_169;
    case 22:
      if ( (*(*this + 4))(this) )
      {
        GetScriptFile_4(this, Dst, SizeInWords, 21, 1);
      }
      else
      {
        (*(*this + 12))(this, L"BS022KF03", v5);
        GetScriptFile_4(this, Dst, SizeInWords, 28, 1);
      }
      goto LABEL_169;
    case 25:
    case 26:
    case 27:
    case 28:
      (*(*this + 12))(this, L"BS022KG00", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 29, 1);
      goto LABEL_169;
    case 29:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_4(this, Dst, SizeInWords, 31, 1);
        else
          GetScriptFile_4(this, Dst, SizeInWords, 32, 1);
      }
      else
      {
        GetScriptFile_4(this, Dst, SizeInWords, 30, 1);
      }
      goto LABEL_169;
    case 30:
    case 31:
    case 32:
      (*(*this + 12))(this, L"BS022KH00", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 33, 1);
      goto LABEL_169;
    case 33:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_4(this, Dst, SizeInWords, 34, 1);
        else
          GetScriptFile_4(this, Dst, SizeInWords, 35, 1);
      }
      else
      {
        GetScriptFile_4(this, Dst, SizeInWords, 36, 1);
      }
      goto LABEL_169;
    case 34:
    case 36:
    case 37:
      (*(*this + 12))(this, L"BS022KH06", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 38, 1);
      goto LABEL_169;
    case 35:
      GetScriptFile_4(this, Dst, SizeInWords, 37, 1);
      goto LABEL_169;
    case 38:
      GetScriptFile_4(this, Dst, SizeInWords, 39, 1);
      goto LABEL_169;
    case 39:
      GetScriptFile_4(this, Dst, SizeInWords, 42, 1);
      goto LABEL_169;
    case 40:
      GetScriptFile_4(this, Dst, SizeInWords, 83, 1);
      goto LABEL_169;
    case 41:
      (*(*this + 44))(this);
      (*(*this + 56))(this, 1);
      if ( dword_3A6F40 )
        ClearIndexies(this);
      GetScriptFile_15(this, Dst, SizeInWords, 0, 1);
      return 1;
    case 42:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          GetScriptFile_4(this, Dst, SizeInWords, 44, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS022KJ03", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 45, 1);
        }
      }
      else
      {
        GetScriptFile_4(this, Dst, SizeInWords, 43, 1);
      }
      goto LABEL_169;
    case 43:
    case 44:
      (*(*this + 12))(this, L"BS022KJ03", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 45, 1);
      goto LABEL_169;
    case 45:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          (*(*this + 12))(this, L"BS022KJ05", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 47, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS022KJ06", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 48, 1);
        }
      }
      else
      {
        GetScriptFile_4(this, Dst, SizeInWords, 46, 1);
      }
      goto LABEL_169;
    case 46:
      if ( (*(*this + 4))(this) )
      {
        (*(*this + 12))(this, L"BS022KJ06", v5);
        GetScriptFile_4(this, Dst, SizeInWords, 48, 1);
      }
      else
      {
        (*(*this + 12))(this, L"BS022KJ05", v5);
        GetScriptFile_4(this, Dst, SizeInWords, 47, 1);
      }
      goto LABEL_169;
    case 47:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          (*(*this + 12))(this, L"BS022KJ08", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 50, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS022KJ09", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 51, 1);
        }
      }
      else
      {
        GetScriptFile_4(this, Dst, SizeInWords, 49, 1);
      }
      goto LABEL_169;
    case 48:
    case 51:
      if ( v5 == 51 )
      {
        (*(*this + 20))(this, L"978", 1);
        (*(*this + 28))(this, L"REP02_2K_J03", 1);
      }
      (*(*this + 12))(this, L"BS022KK00", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 53, 1);
      goto LABEL_169;
    case 49:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          GetScriptFile_4(this, Dst, SizeInWords, 52, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS022KJ09", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 51, 1);
        }
      }
      else
      {
        (*(*this + 12))(this, L"BS022KJ08", v5);
        GetScriptFile_4(this, Dst, SizeInWords, 50, 1);
      }
      goto LABEL_169;
    case 50:
    case 52:
      if ( v5 == 52 )
        (*(*this + 20))(this, L"979", 1);
      (*(*this + 12))(this, L"BS022KJ09", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 51, 1);
      goto LABEL_169;
    case 53:
      if ( sub_336000(this, (&route_files_4)[2 * v5]) )
      {
        GetScriptFile_4(this, Dst, SizeInWords, 54, 1);
      }
      else
      {
        (*(*this + 12))(this, L"BS022KK02", v5);
        GetScriptFile_4(this, Dst, SizeInWords, 55, 1);
      }
      goto LABEL_169;
    case 54:
      if ( (*(*this + 16))(this, L"978") )
        GetScriptFile_4(this, Dst, SizeInWords, 56, 1);
      else
        GetScriptFile_4(this, Dst, SizeInWords, 62, 1);
      goto LABEL_169;
    case 55:
      GetScriptFile_4(this, Dst, SizeInWords, 63, 1);
      goto LABEL_169;
    case 56:
      (*(*this + 12))(this, L"BS022KK02", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 55, 1);
      goto LABEL_169;
    case 57:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_4(this, Dst, SizeInWords, 59, 1);
        else
          GetScriptFile_4(this, Dst, SizeInWords, 60, 1);
      }
      else
      {
        GetScriptFile_4(this, Dst, SizeInWords, 58, 1);
      }
      goto LABEL_169;
    case 58:
    case 61:
      if ( v5 == 58 )
        (*(*this + 20))(this, L"977", 1);
      (*(*this + 12))(this, L"BS022KM00", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 66, 1);
      goto LABEL_169;
    case 59:
      GetScriptFile_4(this, Dst, SizeInWords, 65, 1);
      goto LABEL_169;
    case 60:
      GetScriptFile_4(this, Dst, SizeInWords, 64, 1);
      goto LABEL_169;
    case 62:
      GetScriptFile_4(this, Dst, SizeInWords, 57, 1);
      goto LABEL_169;
    case 63:
      (*(*this + 28))(this, L"REP02_2K_L01", 1);
      GetScriptFile_4(this, Dst, SizeInWords, 61, 1);
      goto LABEL_169;
    case 64:
    case 65:
      (*(*this + 12))(this, L"BS022KM00", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 66, 1);
      goto LABEL_169;
    case 66:
      GetScriptFile_4(this, Dst, SizeInWords, 67, 1);
      goto LABEL_169;
    case 68:
    case 69:
      (*(*this + 12))(this, L"BS022KM05", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 70, 1);
      goto LABEL_169;
    case 67:
      if ( (*(*this + 16))(this, L"977") )
        GetScriptFile_4(this, Dst, SizeInWords, 68, 1);
      else
        GetScriptFile_4(this, Dst, SizeInWords, 69, 1);
      goto LABEL_169;
    case 70:
      GetScriptFile_4(this, Dst, SizeInWords, 9, 1);
      goto LABEL_169;
    case 71:
      GetScriptFile_4(this, Dst, SizeInWords, 10, 1);
      goto LABEL_169;
    case 72:
      GetScriptFile_4(this, Dst, SizeInWords, 78, 1);
      goto LABEL_169;
    case 73:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          (*(*this + 12))(this, L"BS022KO02", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 75, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS022KO03", v5);
          GetScriptFile_4(this, Dst, SizeInWords, 76, 1);
        }
      }
      else
      {
        GetScriptFile_4(this, Dst, SizeInWords, 74, 1);
      }
      goto LABEL_169;
    case 74:
      GetScriptFile_4(this, Dst, SizeInWords, 2, 1);
      goto LABEL_169;
    case 75:
    case 76:
      (*(*this + 12))(this, L"BS022KO09", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 82, 1);
      goto LABEL_169;
    case 77:
      (*(*this + 28))(this, L"REP02_2K_O01", 1);
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
          GetScriptFile_4(this, Dst, SizeInWords, 80, 1);
        else
          GetScriptFile_4(this, Dst, SizeInWords, 81, 1);
      }
      else
      {
        GetScriptFile_4(this, Dst, SizeInWords, 79, 1);
      }
      goto LABEL_169;
    case 78:
      GetScriptFile_4(this, Dst, SizeInWords, 40, 1);
      goto LABEL_169;
    case 79:
      (*(*this + 12))(this, L"BS022KQ00", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 84, 1);
      goto LABEL_169;
    case 80:
    case 81:
      (*(*this + 12))(this, L"BS022KE05", v5);
      GetScriptFile_4(this, Dst, SizeInWords, 12, 1);
      goto LABEL_169;
    case 82:
      GetScriptFile_4(this, Dst, SizeInWords, 3, 1);
      goto LABEL_169;
    case 83:
      GetScriptFile_4(this, Dst, SizeInWords, 6, 1);
      goto LABEL_169;
    case 84:
      GetScriptFile_4(this, Dst, SizeInWords, 85, 1);
      goto LABEL_169;
    case 85:
      GetScriptFile_4(this, Dst, SizeInWords, 86, 1);
      goto LABEL_169;
    case 86:
      GetScriptFile_4(this, Dst, SizeInWords, 87, 1);
      goto LABEL_169;
    case 87:
      GetScriptFile_4(this, Dst, SizeInWords, 88, 1);
      goto LABEL_169;
    case 88:
      GetScriptFile_4(this, Dst, SizeInWords, 89, 1);
      goto LABEL_169;
    case 89:
      (*(*this + 20))(this, L"968", 1);
      (*(*this + 28))(this, L"REP02_2K_Q03", 1);
      GetScriptFile_4(this, Dst, SizeInWords, 90, 1);
      goto LABEL_169;
    case 90:
      (*(*this + 44))(this);
      (*(*this + 56))(this, 1);
      if ( dword_3A6F40 )
        ClearIndexies(this);
      GetScriptFile_18(this, Dst, SizeInWords, 0, 1);
      return 1;
    case 91:
      if ( (*(*this + 4))(this) )
      {
        (*(*this + 12))(this, L"BS022KO03", v5);
        GetScriptFile_4(this, Dst, SizeInWords, 76, 1);
      }
      else
      {
        (*(*this + 12))(this, L"BS022KO02", v5);
        GetScriptFile_4(this, Dst, SizeInWords, 75, 1);
      }
      goto LABEL_169;
    case 92:
      GetScriptFile_4(this, Dst, SizeInWords, 1, 1);
LABEL_169:
      result = 1;
      break;
    default:
      sub_336760(this, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 388C80: using guessed type wchar_t aScene_33[6];
// 388C8C: using guessed type wchar_t aBs022kq00[10];
// 388CA0: using guessed type wchar_t a001_2[4];
// 388CA8: using guessed type wchar_t a002_2[4];
// 388CB0: using guessed type wchar_t aBs022kf03[10];
// 388CC4: using guessed type wchar_t aBs022kf04[10];
// 388CD8: using guessed type wchar_t aBs022kf05[10];
// 388CEC: using guessed type wchar_t aBs022kf06[10];
// 388D00: using guessed type wchar_t aBs022kf07[10];
// 388D14: using guessed type wchar_t aBs022kf08[10];
// 388D28: using guessed type wchar_t aBs022kf09[10];
// 388D3C: using guessed type wchar_t aBs022kf03_0[10];
// 388D50: using guessed type wchar_t aBs022kg00[10];
// 388D64: using guessed type wchar_t aBs022kh00[10];
// 388D78: using guessed type wchar_t aBs022kh06[10];
// 388D8C: using guessed type wchar_t aBs022kj03[10];
// 388DA0: using guessed type wchar_t aBs022kj03_0[10];
// 388DB4: using guessed type wchar_t aBs022kj05[10];
// 388DC8: using guessed type wchar_t aBs022kj06[10];
// 388DDC: using guessed type wchar_t aBs022kj05_0[10];
// 388DF0: using guessed type wchar_t aBs022kj06_0[10];
// 388E04: using guessed type wchar_t aBs022kj08[10];
// 388E18: using guessed type wchar_t aBs022kj09[10];
// 388E2C: using guessed type wchar_t a978_9[4];
// 388E34: using guessed type wchar_t aRep02_2k_j03[13];
// 388E50: using guessed type wchar_t aBs022kk00[10];
// 388E64: using guessed type wchar_t aBs022kj08_0[10];
// 388E78: using guessed type wchar_t aBs022kj09_0[10];
// 388E8C: using guessed type wchar_t a979_9[4];
// 388E94: using guessed type wchar_t aBs022kj09_1[10];
// 388EA8: using guessed type wchar_t aBs022kk02[10];
// 388EBC: using guessed type wchar_t a978_10[4];
// 388EC4: using guessed type wchar_t aBs022kk02_0[10];
// 388ED8: using guessed type wchar_t a977_0[4];
// 388EE0: using guessed type wchar_t aBs022km00[10];
// 388EF4: using guessed type wchar_t aRep02_2k_l01[13];
// 388F10: using guessed type wchar_t aBs022km00_0[10];
// 388F24: using guessed type wchar_t aBs022km05[10];
// 388F38: using guessed type wchar_t a977_1[4];
// 388F40: using guessed type wchar_t aBs022ko02[10];
// 388F54: using guessed type wchar_t aBs022ko03[10];
// 388F68: using guessed type wchar_t aBs022ko09[10];
// 388F7C: using guessed type wchar_t aRep02_2k_o01[13];
// 388F98: using guessed type wchar_t aBs022kq00_0[10];
// 388FAC: using guessed type wchar_t aBs022ke05[10];
// 388FC0: using guessed type wchar_t a968_4[4];
// 388FC8: using guessed type wchar_t aRep02_2k_q03[13];
// 388FE4: using guessed type wchar_t aBs022ko02_0[10];
// 388FF8: using guessed type wchar_t aBs022ko03_0[10];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00343F40) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_4(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@14
  int v6; // ST18_4@22
  int v7; // ST18_4@23
  int v8; // ST18_4@24
  int v9; // ST18_4@25
  int v10; // ST18_4@26
  int v11; // ST18_4@27
  int v12; // ST18_4@28
  int v13; // ST18_4@30
  int v14; // ST18_4@32
  int v15; // ST18_4@35
  int v16; // ST18_4@41
  int v17; // ST18_4@43
  int v18; // ST18_4@44
  int v19; // ST18_4@46
  int v20; // ST18_4@55
  int v21; // ST18_4@69
  int v22; // ST18_4@77
  int v23; // ST18_4@79
  int v24; // [sp+4h] [bp-8h]@47
  int v25; // [sp+4h] [bp-8h]@51
  int v26; // [sp+4h] [bp-8h]@64

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_4)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_2(a3, Dst, SizeInWords, 35, 0);
      return 1;
    case 1:
      GetScriptFile_4(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_89;
    case 2:
      GetScriptFile_4(a3, Dst, SizeInWords, 74, 0);
      goto LABEL_89;
    case 3:
      GetScriptFile_4(a3, Dst, SizeInWords, 82, 0);
      goto LABEL_89;
    case 4:
      GetScriptFile_4(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_89;
    case 5:
      GetScriptFile_4(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_89;
    case 6:
      GetScriptFile_4(a3, Dst, SizeInWords, 83, 0);
      goto LABEL_89;
    case 7:
      GetScriptFile_4(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_89;
    case 8:
      GetScriptFile_4(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_89;
    case 9:
      GetScriptFile_4(a3, Dst, SizeInWords, 70, 0);
      goto LABEL_89;
    case 10:
      GetScriptFile_4(a3, Dst, SizeInWords, 71, 0);
      goto LABEL_89;
    case 11:
      GetScriptFile_4(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_89;
    case 12:
      v5 = (a3->vtable->GetVariable)(a3, L"BS022KE05");
      GetScriptFile_4(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_89;
    case 13:
      GetScriptFile_4(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_89;
    case 14:
      GetScriptFile_4(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_89;
    case 15:
      GetScriptFile_4(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_89;
    case 16:
      GetScriptFile_4(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_89;
    case 17:
      GetScriptFile_4(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_89;
    case 18:
      GetScriptFile_4(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_89;
    case 19:
    case 20:
      GetScriptFile_4(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_89;
    case 21:
      v6 = (a3->vtable->GetVariable)(a3, L"BS022KF03");
      GetScriptFile_4(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_89;
    case 22:
      v7 = (a3->vtable->GetVariable)(a3, L"BS022KF04");
      GetScriptFile_4(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_89;
    case 23:
      v8 = (a3->vtable->GetVariable)(a3, L"BS022KF05");
      GetScriptFile_4(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_89;
    case 24:
      v9 = (a3->vtable->GetVariable)(a3, L"BS022KF06");
      GetScriptFile_4(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_89;
    case 25:
      v10 = (a3->vtable->GetVariable)(a3, L"BS022KF07");
      GetScriptFile_4(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_89;
    case 26:
      v11 = (a3->vtable->GetVariable)(a3, L"BS022KF08");
      GetScriptFile_4(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_89;
    case 27:
      v12 = (a3->vtable->GetVariable)(a3, L"BS022KF09");
      GetScriptFile_4(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_89;
    case 28:
      GetScriptFile_4(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_89;
    case 29:
      v13 = (a3->vtable->GetVariable)(a3, L"BS022KG00");
      GetScriptFile_4(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_89;
    case 30:
    case 31:
    case 32:
      GetScriptFile_4(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_89;
    case 33:
      v14 = (a3->vtable->GetVariable)(a3, L"BS022KH00");
      GetScriptFile_4(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_89;
    case 34:
    case 35:
    case 36:
      GetScriptFile_4(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_89;
    case 37:
      GetScriptFile_4(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_89;
    case 38:
      v15 = (a3->vtable->GetVariable)(a3, L"BS022KH06");
      GetScriptFile_4(a3, Dst, SizeInWords, v15, 0);
      goto LABEL_89;
    case 39:
      GetScriptFile_4(a3, Dst, SizeInWords, 38, 0);
      goto LABEL_89;
    case 40:
      GetScriptFile_4(a3, Dst, SizeInWords, 78, 0);
      goto LABEL_89;
    case 41:
      GetScriptFile_4(a3, Dst, SizeInWords, 17, 0);
      return 1;
    case 42:
      GetScriptFile_4(a3, Dst, SizeInWords, 39, 0);
      goto LABEL_89;
    case 43:
    case 44:
      GetScriptFile_4(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_89;
    case 45:
      v16 = (a3->vtable->GetVariable)(a3, L"BS022KJ03");
      GetScriptFile_4(a3, Dst, SizeInWords, v16, 0);
      goto LABEL_89;
    case 46:
      GetScriptFile_4(a3, Dst, SizeInWords, 45, 0);
      goto LABEL_89;
    case 47:
      v17 = (a3->vtable->GetVariable)(a3, L"BS022KJ05");
      GetScriptFile_4(a3, Dst, SizeInWords, v17, 0);
      goto LABEL_89;
    case 48:
      v18 = (a3->vtable->GetVariable)(a3, L"BS022KJ06");
      GetScriptFile_4(a3, Dst, SizeInWords, v18, 0);
      goto LABEL_89;
    case 49:
      GetScriptFile_4(a3, Dst, SizeInWords, 47, 0);
      goto LABEL_89;
    case 50:
      v19 = (a3->vtable->GetVariable)(a3, L"BS022KJ08");
      GetScriptFile_4(a3, Dst, SizeInWords, v19, 0);
      goto LABEL_89;
    case 51:
      v24 = (a3->vtable->GetVariable)(a3, L"BS022KJ09");
      if ( v24 == 52 )
        (a3->vtable->SetFlagValue)(a3, L"979", 0);
      GetScriptFile_4(a3, Dst, SizeInWords, v24, 0);
      goto LABEL_89;
    case 52:
      GetScriptFile_4(a3, Dst, SizeInWords, 49, 0);
      goto LABEL_89;
    case 53:
      v25 = (a3->vtable->GetVariable)(a3, L"BS022KK00");
      if ( v25 == 51 )
        (a3->vtable->SetFlagValue)(a3, L"978", 0);
      GetScriptFile_4(a3, Dst, SizeInWords, v25, 0);
      goto LABEL_89;
    case 54:
      GetScriptFile_4(a3, Dst, SizeInWords, 53, 0);
      goto LABEL_89;
    case 55:
      v20 = (a3->vtable->GetVariable)(a3, L"BS022KK02");
      GetScriptFile_4(a3, Dst, SizeInWords, v20, 0);
      goto LABEL_89;
    case 56:
      GetScriptFile_4(a3, Dst, SizeInWords, 54, 0);
      goto LABEL_89;
    case 57:
      GetScriptFile_4(a3, Dst, SizeInWords, 62, 0);
      goto LABEL_89;
    case 58:
    case 59:
    case 60:
      GetScriptFile_4(a3, Dst, SizeInWords, 57, 0);
      goto LABEL_89;
    case 61:
      GetScriptFile_4(a3, Dst, SizeInWords, 63, 0);
      goto LABEL_89;
    case 62:
      GetScriptFile_4(a3, Dst, SizeInWords, 54, 0);
      goto LABEL_89;
    case 63:
      GetScriptFile_4(a3, Dst, SizeInWords, 55, 0);
      goto LABEL_89;
    case 64:
      GetScriptFile_4(a3, Dst, SizeInWords, 60, 0);
      goto LABEL_89;
    case 65:
      GetScriptFile_4(a3, Dst, SizeInWords, 59, 0);
      goto LABEL_89;
    case 66:
      v26 = (a3->vtable->GetVariable)(a3, L"BS022KM00");
      if ( v26 == 58 )
        (a3->vtable->SetFlagValue)(a3, L"977", 0);
      GetScriptFile_4(a3, Dst, SizeInWords, v26, 0);
      goto LABEL_89;
    case 67:
      GetScriptFile_4(a3, Dst, SizeInWords, 66, 0);
      goto LABEL_89;
    case 68:
    case 69:
      GetScriptFile_4(a3, Dst, SizeInWords, 67, 0);
      goto LABEL_89;
    case 70:
      v21 = (a3->vtable->GetVariable)(a3, L"BS022KM05");
      GetScriptFile_4(a3, Dst, SizeInWords, v21, 0);
      goto LABEL_89;
    case 71:
      GetScriptFile_4(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_89;
    case 72:
      GetScriptFile_4(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_89;
    case 73:
      GetScriptFile_4(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_89;
    case 74:
    case 75:
    case 76:
      GetScriptFile_4(a3, Dst, SizeInWords, 73, 0);
      goto LABEL_89;
    case 77:
      GetScriptFile_4(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_89;
    case 78:
      GetScriptFile_4(a3, Dst, SizeInWords, 72, 0);
      goto LABEL_89;
    case 79:
    case 80:
    case 81:
      GetScriptFile_4(a3, Dst, SizeInWords, 77, 0);
      goto LABEL_89;
    case 82:
      v22 = (a3->vtable->GetVariable)(a3, L"BS022KO09");
      GetScriptFile_4(a3, Dst, SizeInWords, v22, 0);
      goto LABEL_89;
    case 83:
      GetScriptFile_4(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_89;
    case 84:
      v23 = (a3->vtable->GetVariable)(a3, L"BS022KQ00");
      GetScriptFile_4(a3, Dst, SizeInWords, v23, 0);
      goto LABEL_89;
    case 85:
      GetScriptFile_4(a3, Dst, SizeInWords, 84, 0);
      goto LABEL_89;
    case 86:
      GetScriptFile_4(a3, Dst, SizeInWords, 85, 0);
      goto LABEL_89;
    case 87:
      GetScriptFile_4(a3, Dst, SizeInWords, 86, 0);
      goto LABEL_89;
    case 88:
      GetScriptFile_4(a3, Dst, SizeInWords, 87, 0);
      goto LABEL_89;
    case 89:
      GetScriptFile_4(a3, Dst, SizeInWords, 88, 0);
      goto LABEL_89;
    case 90:
      (a3->vtable->SetFlagValue)(a3, L"968", 0);
      GetScriptFile_4(a3, Dst, SizeInWords, 89, 0);
      goto LABEL_89;
    case 91:
      GetScriptFile_4(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_89;
    case 92:
      GetScriptFile_4(a3, Dst, SizeInWords, 0, 0);
LABEL_89:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38900C: using guessed type wchar_t aScene_34[6];
// 389018: using guessed type wchar_t aBs022ke05_0[10];
// 38902C: using guessed type wchar_t aBs022kf03_1[10];
// 389040: using guessed type wchar_t aBs022kf04_0[10];
// 389054: using guessed type wchar_t aBs022kf05_0[10];
// 389068: using guessed type wchar_t aBs022kf06_0[10];
// 38907C: using guessed type wchar_t aBs022kf07_0[10];
// 389090: using guessed type wchar_t aBs022kf08_0[10];
// 3890A4: using guessed type wchar_t aBs022kf09_0[10];
// 3890B8: using guessed type wchar_t aBs022kg00_0[10];
// 3890CC: using guessed type wchar_t aBs022kh00_0[10];
// 3890E0: using guessed type wchar_t aBs022kh06_0[10];
// 3890F4: using guessed type wchar_t aBs022kj03_1[10];
// 389108: using guessed type wchar_t aBs022kj05_1[10];
// 38911C: using guessed type wchar_t aBs022kj06_1[10];
// 389130: using guessed type wchar_t aBs022kj08_1[10];
// 389144: using guessed type wchar_t aBs022kj09_2[10];
// 389158: using guessed type wchar_t a979_10[4];
// 389160: using guessed type wchar_t aBs022kk00_0[10];
// 389174: using guessed type wchar_t a978_11[4];
// 38917C: using guessed type wchar_t aBs022kk02_1[10];
// 389190: using guessed type wchar_t aBs022km00_1[10];
// 3891A4: using guessed type wchar_t a977_2[4];
// 3891AC: using guessed type wchar_t aBs022km05_0[10];
// 3891C0: using guessed type wchar_t aBs022ko09_0[10];
// 3891D4: using guessed type wchar_t aBs022kq00_1[10];
// 3891E8: using guessed type wchar_t a968_5[4];

//----- (00344CA0) --------------------------------------------------------
signed int __cdecl searchRoot_route_2k(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 93; ++i )
  {
    if ( !wcscmp((&route_files_4)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 4);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 3891F0: using guessed type wchar_t aRoute_22[6];
// 3891FC: using guessed type wchar_t aScene_35[6];

//----- (00344D10) --------------------------------------------------------
signed int __cdecl CheckScript_route_4(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 12;
      break;
    case 45:
      v2 = 18;
      break;
    case 57:
      v2 = 19;
      break;
    case 90:
      v2 = 20;
      break;
    case 41:
      v2 = 21;
      break;
    default:
      v2 = CheckScript_by_flags_route_4(a1);
      break;
  }
  return v2;
}
// 333D80: using guessed type _DWORD __cdecl CheckScript_by_flags_route_4(_DWORD);
// 344D10: using guessed type _DWORD __cdecl CheckScript_route_4(_DWORD);
// 389208: using guessed type wchar_t aScene_36[6];

//----- (00344E10) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_4(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 92; ++i )
  {
    if ( !wcscmp((&route_files_4)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00344E60) --------------------------------------------------------
int __cdecl SetFeeling_route_4(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 18;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 20;
        else
          v3 = 21;
      }
      else
      {
        v3 = 19;
      }
      break;
    case 1:
    case 2:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 23;
        else
          v3 = 24;
      }
      else
      {
        v3 = 22;
      }
      break;
    case 3:
    case 5:
    case 6:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 26;
        else
          v3 = 27;
      }
      else
      {
        v3 = 25;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 28;
      else
        v3 = 21;
      break;
    case 11:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 31;
        else
          v3 = 32;
      }
      else
      {
        v3 = 30;
      }
      break;
    case 15:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 34;
        else
          v3 = 35;
      }
      else
      {
        v3 = 36;
      }
      break;
    case 24:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 44;
        else
          v3 = 45;
      }
      else
      {
        v3 = 43;
      }
      break;
    case 27:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 47;
        else
          v3 = 48;
      }
      else
      {
        v3 = 46;
      }
      break;
    case 28:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 48;
      else
        v3 = 47;
      break;
    case 29:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 50;
        else
          v3 = 51;
      }
      else
      {
        v3 = 49;
      }
      break;
    case 31:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 52;
        else
          v3 = 51;
      }
      else
      {
        v3 = 50;
      }
      break;
    case 39:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 59;
        else
          v3 = 60;
      }
      else
      {
        v3 = 58;
      }
      break;
    case 55:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 75;
        else
          v3 = 76;
      }
      else
      {
        v3 = 74;
      }
      break;
    case 59:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 80;
        else
          v3 = 81;
      }
      else
      {
        v3 = 79;
      }
      break;
    case 73:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 76;
      else
        v3 = 75;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_4)[2 * v3], a2);
  return result;
}
// 389214: using guessed type wchar_t aScene_37[6];

//----- (003452E0) --------------------------------------------------------
unsigned int __cdecl sub_3452E0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 300;
      break;
    case 19:
      v4 = 302;
      break;
    case 39:
      v4 = 304;
      break;
    case 51:
      v4 = 303;
      break;
    case 90:
      v4 = 305;
      break;
    case 87:
      v4 = 306;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_5)[2 * a3], a2);
}

//----- (003453F0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_5(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3452E0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 5);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_5)[2 * a4]);
}
// 38A23C: using guessed type wchar_t aRoute_23[6];
// 38A248: using guessed type wchar_t aScene_38[6];

//----- (00345460) --------------------------------------------------------
signed int __cdecl GetNextScript_5(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *this)
{
  int v3; // esi@165
  signed int result; // eax@172
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (this->vtable->GetVariable)(this, L"SCENE");
  sub_3452E0(this, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_5(this, Dst, SizeInWords, 102, 1);
      goto LABEL_191;
    case 1:
      GetScriptFile_5(this, Dst, SizeInWords, 2, 1);
      goto LABEL_191;
    case 2:
      GetScriptFile_5(this, Dst, SizeInWords, 72, 1);
      goto LABEL_191;
    case 3:
      GetScriptFile_5(this, Dst, SizeInWords, 61, 1);
      goto LABEL_191;
    case 4:
      GetScriptFile_5(this, Dst, SizeInWords, 5, 1);
      goto LABEL_191;
    case 5:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
        {
          GetScriptFile_5(this, Dst, SizeInWords, 7, 1);
        }
        else
        {
          (this->vtable->SetVariable)(this, L"BS022SC03", v5);
          GetScriptFile_5(this, Dst, SizeInWords, 8, 1);
        }
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 6, 1);
      }
      goto LABEL_191;
    case 6:
    case 8:
    case 10:
    case 11:
    case 13:
      (this->vtable->SetVariable)(this, L"BS022SC07", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 12, 1);
      goto LABEL_191;
    case 7:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
        {
          GetScriptFile_5(this, Dst, SizeInWords, 9, 1);
        }
        else
        {
          (this->vtable->SetVariable)(this, L"BS022SC08", v5);
          GetScriptFile_5(this, Dst, SizeInWords, 13, 1);
        }
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 8, 1);
      }
      goto LABEL_191;
    case 9:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
        {
          GetScriptFile_5(this, Dst, SizeInWords, 11, 1);
        }
        else
        {
          (this->vtable->SetVariable)(this, L"BS022SC08", v5);
          GetScriptFile_5(this, Dst, SizeInWords, 13, 1);
        }
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 10, 1);
      }
      goto LABEL_191;
    case 12:
      GetScriptFile_5(this, Dst, SizeInWords, 16, 1);
      goto LABEL_191;
    case 14:
      GetScriptFile_5(this, Dst, SizeInWords, 15, 1);
      goto LABEL_191;
    case 15:
      GetScriptFile_5(this, Dst, SizeInWords, 88, 1);
      goto LABEL_191;
    case 16:
      GetScriptFile_5(this, Dst, SizeInWords, 17, 1);
      goto LABEL_191;
    case 17:
      GetScriptFile_5(this, Dst, SizeInWords, 18, 1);
      goto LABEL_191;
    case 18:
      GetScriptFile_5(this, Dst, SizeInWords, 19, 1);
      goto LABEL_191;
    case 19:
      if ( (this->vtable->GetCurrentScene)(this) )
        GetScriptFile_5(this, Dst, SizeInWords, 21, 1);
      else
        GetScriptFile_5(this, Dst, SizeInWords, 20, 1);
      goto LABEL_191;
    case 20:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_5(this, Dst, SizeInWords, 23, 1);
        else
          GetScriptFile_5(this, Dst, SizeInWords, 24, 1);
      }
      else
      {
        (this->vtable->SetVariable)(this, L"BS022SH04", v5);
        GetScriptFile_5(this, Dst, SizeInWords, 22, 1);
      }
      goto LABEL_191;
    case 21:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
        {
          (this->vtable->SetVariable)(this, L"BS022SH04", v5);
          GetScriptFile_5(this, Dst, SizeInWords, 22, 1);
        }
        else
        {
          GetScriptFile_5(this, Dst, SizeInWords, 28, 1);
        }
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 27, 1);
      }
      goto LABEL_191;
    case 22:
      GetScriptFile_5(this, Dst, SizeInWords, 29, 1);
      goto LABEL_191;
    case 23:
    case 27:
      (this->vtable->SetVariable)(this, L"BS022SI06", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 35, 1);
      goto LABEL_191;
    case 24:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
        {
          (this->vtable->SetVariable)(this, L"BS022SH04", v5);
          GetScriptFile_5(this, Dst, SizeInWords, 22, 1);
        }
        else
        {
          GetScriptFile_5(this, Dst, SizeInWords, 31, 1);
        }
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 30, 1);
      }
      goto LABEL_191;
    case 25:
    case 28:
      if ( v5 == 25 )
        (this->vtable->SetFlagValue)(this, L"984", 1);
      else
        (this->vtable->SetFlagValue)(this, L"983", 1);
      (this->vtable->SetVariable)(this, L"BS022SJ00", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 36, 1);
      goto LABEL_191;
    case 26:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_5(this, Dst, SizeInWords, 33, 1);
        else
          GetScriptFile_5(this, Dst, SizeInWords, 34, 1);
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 32, 1);
      }
      goto LABEL_191;
    case 29:
      if ( (this->vtable->GetCurrentScene)(this) )
        GetScriptFile_5(this, Dst, SizeInWords, 26, 1);
      else
        GetScriptFile_5(this, Dst, SizeInWords, 25, 1);
      goto LABEL_191;
    case 30:
    case 31:
    case 32:
    case 33:
    case 34:
    case 35:
      if ( v5 == 31 )
      {
        (this->vtable->SetFlagValue)(this, L"983", 1);
      }
      else
      {
        if ( v5 == 34 )
          (this->vtable->SetFlagValue)(this, L"984", 1);
        else
          (this->vtable->SetFlagValue)(this, L"982", 1);
      }
      (this->vtable->SetVariable)(this, L"BS022SJ00", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 36, 1);
      goto LABEL_191;
    case 36:
      if ( (this->vtable->IsFlagSet)(this, L"982") )
      {
        GetScriptFile_5(this, Dst, SizeInWords, 37, 1);
      }
      else
      {
        if ( (this->vtable->IsFlagSet)(this, L"983") )
          GetScriptFile_5(this, Dst, SizeInWords, 38, 1);
        else
          GetScriptFile_5(this, Dst, SizeInWords, 39, 1);
      }
      goto LABEL_191;
    case 37:
      GetScriptFile_5(this, Dst, SizeInWords, 47, 1);
      goto LABEL_191;
    case 38:
      GetScriptFile_5(this, Dst, SizeInWords, 40, 1);
      goto LABEL_191;
    case 39:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_5(this, Dst, SizeInWords, 42, 1);
        else
          GetScriptFile_5(this, Dst, SizeInWords, 43, 1);
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 41, 1);
      }
      goto LABEL_191;
    case 40:
      GetScriptFile_5(this, Dst, SizeInWords, 56, 1);
      goto LABEL_191;
    case 41:
    case 42:
    case 44:
    case 45:
    case 46:
      if ( v5 == 41 || v5 == 42 )
        (this->vtable->SetFlagValue)(this, L"985", 1);
      (this->vtable->SetVariable)(this, L"BS022SK01", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 48, 1);
      goto LABEL_191;
    case 43:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_5(this, Dst, SizeInWords, 45, 1);
        else
          GetScriptFile_5(this, Dst, SizeInWords, 46, 1);
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 44, 1);
      }
      goto LABEL_191;
    case 47:
      GetScriptFile_5(this, Dst, SizeInWords, 50, 1);
      goto LABEL_191;
    case 48:
      GetScriptFile_5(this, Dst, SizeInWords, 57, 1);
      goto LABEL_191;
    case 49:
      GetScriptFile_5(this, Dst, SizeInWords, 51, 1);
      goto LABEL_191;
    case 50:
      GetScriptFile_5(this, Dst, SizeInWords, 49, 1);
      goto LABEL_191;
    case 51:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_5(this, Dst, SizeInWords, 53, 1);
        else
          GetScriptFile_5(this, Dst, SizeInWords, 54, 1);
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 52, 1);
      }
      goto LABEL_191;
    case 52:
    case 54:
      (this->vtable->SetVariable)(this, L"BS022SO00", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 63, 1);
      goto LABEL_191;
    case 53:
      GetScriptFile_5(this, Dst, SizeInWords, 60, 1);
      goto LABEL_191;
    case 55:
      GetScriptFile_5(this, Dst, SizeInWords, 93, 1);
      goto LABEL_191;
    case 56:
    case 58:
    case 59:
      (this->vtable->SetVariable)(this, L"BS022SA01", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 1, 1);
      goto LABEL_191;
    case 57:
      if ( (this->vtable->IsFlagSet)(this, L"985") )
        GetScriptFile_5(this, Dst, SizeInWords, 58, 1);
      else
        GetScriptFile_5(this, Dst, SizeInWords, 59, 1);
      goto LABEL_191;
    case 60:
      (this->vtable->SetVariable)(this, L"BS022SO00", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 63, 1);
      goto LABEL_191;
    case 61:
      GetScriptFile_5(this, Dst, SizeInWords, 96, 1);
      goto LABEL_191;
    case 62:
      GetScriptFile_5(this, Dst, SizeInWords, 14, 1);
      goto LABEL_191;
    case 63:
      (this->vtable->SetFlagValue)(this, L"981", 1);
      GetScriptFile_5(this, Dst, SizeInWords, 64, 1);
      goto LABEL_191;
    case 64:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
        {
          GetScriptFile_5(this, Dst, SizeInWords, 66, 1);
        }
        else
        {
          (this->vtable->SetVariable)(this, L"BS022SP03", v5);
          GetScriptFile_5(this, Dst, SizeInWords, 67, 1);
        }
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 65, 1);
      }
      goto LABEL_191;
    case 65:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
        {
          GetScriptFile_5(this, Dst, SizeInWords, 69, 1);
        }
        else
        {
          (this->vtable->SetVariable)(this, L"BS022SP03", v5);
          GetScriptFile_5(this, Dst, SizeInWords, 67, 1);
        }
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 68, 1);
      }
      goto LABEL_191;
    case 66:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
        {
          GetScriptFile_5(this, Dst, SizeInWords, 71, 1);
        }
        else
        {
          (this->vtable->SetVariable)(this, L"BS022SP03", v5);
          GetScriptFile_5(this, Dst, SizeInWords, 67, 1);
        }
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 70, 1);
      }
      goto LABEL_191;
    case 67:
      (this->vtable->SetVariable)(this, L"BS022SA01", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 1, 1);
      goto LABEL_191;
    case 68:
    case 69:
    case 70:
    case 71:
      (this->vtable->SetVariable)(this, L"BS022SP03", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 67, 1);
      goto LABEL_191;
    case 72:
      if ( (this->vtable->GetCurrentScene)(this) )
        GetScriptFile_5(this, Dst, SizeInWords, 74, 1);
      else
        GetScriptFile_5(this, Dst, SizeInWords, 73, 1);
      goto LABEL_191;
    case 73:
    case 74:
      if ( v5 == 73 )
        (this->vtable->SetFlagValue)(this, L"980", 1);
      (this->vtable->SetVariable)(this, L"BS022SR00", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 75, 1);
      goto LABEL_191;
    case 75:
      if ( (this->vtable->IsFlagSet)(this, L"980") )
        GetScriptFile_5(this, Dst, SizeInWords, 76, 1);
      else
        GetScriptFile_5(this, Dst, SizeInWords, 77, 1);
      goto LABEL_191;
    case 76:
    case 77:
      (this->vtable->SetVariable)(this, L"BS022SR03", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 78, 1);
      goto LABEL_191;
    case 78:
      if ( (this->vtable->GetCurrentScene)(this) )
      {
        if ( (this->vtable->GetCurrentScene)(this) == 1 )
          GetScriptFile_5(this, Dst, SizeInWords, 80, 1);
        else
          GetScriptFile_5(this, Dst, SizeInWords, 81, 1);
      }
      else
      {
        GetScriptFile_5(this, Dst, SizeInWords, 79, 1);
      }
      goto LABEL_191;
    case 79:
    case 80:
    case 81:
      (this->vtable->SetVariable)(this, L"BS022SR07", v5);
      GetScriptFile_5(this, Dst, SizeInWords, 82, 1);
      goto LABEL_191;
    case 82:
      GetScriptFile_5(this, Dst, SizeInWords, 84, 1);
      goto LABEL_191;
    case 83:
      GetScriptFile_5(this, Dst, SizeInWords, 85, 1);
      goto LABEL_191;
    case 84:
      GetScriptFile_5(this, Dst, SizeInWords, 83, 1);
      goto LABEL_191;
    case 85:
      v3 = (this->vtable->GetVariable)(this, L"001");
      if ( v3 <= (this->vtable->GetVariable)(this, L"002") )
        GetScriptFile_5(this, Dst, SizeInWords, 87, 1);
      else
        GetScriptFile_5(this, Dst, SizeInWords, 86, 1);
      goto LABEL_191;
    case 86:
      GetScriptFile_5(this, Dst, SizeInWords, 91, 1);
      goto LABEL_191;
    case 87:
      (this->vtable->field_2C)(this);
      (this->vtable->field_38)(this, 1);
      if ( dword_3A6F40 )
        ClearIndexies(this);
      GetScriptFile_14(this, Dst, SizeInWords, 0, 1);
      return 1;
    case 88:
      GetScriptFile_5(this, Dst, SizeInWords, 94, 1);
      goto LABEL_191;
    case 89:
      GetScriptFile_5(this, Dst, SizeInWords, 101, 1);
      goto LABEL_191;
    case 90:
      (this->vtable->field_2C)(this);
      (this->vtable->field_38)(this, 1);
      if ( dword_3A6F40 )
        ClearIndexies(this);
      GetScriptFile_17(this, Dst, SizeInWords, 0, 1);
      return 1;
    case 91:
      GetScriptFile_5(this, Dst, SizeInWords, 92, 1);
      goto LABEL_191;
    case 92:
      GetScriptFile_5(this, Dst, SizeInWords, 55, 1);
      goto LABEL_191;
    case 93:
      GetScriptFile_5(this, Dst, SizeInWords, 95, 1);
      goto LABEL_191;
    case 94:
      GetScriptFile_5(this, Dst, SizeInWords, 89, 1);
      goto LABEL_191;
    case 95:
      GetScriptFile_5(this, Dst, SizeInWords, 3, 1);
      goto LABEL_191;
    case 96:
      GetScriptFile_5(this, Dst, SizeInWords, 97, 1);
      goto LABEL_191;
    case 97:
      GetScriptFile_5(this, Dst, SizeInWords, 98, 1);
      goto LABEL_191;
    case 98:
      GetScriptFile_5(this, Dst, SizeInWords, 99, 1);
      goto LABEL_191;
    case 99:
      (this->vtable->field_1C)(this, L"REP02_2S_W03", 1);
      GetScriptFile_5(this, Dst, SizeInWords, 100, 1);
      goto LABEL_191;
    case 100:
      GetScriptFile_5(this, Dst, SizeInWords, 62, 1);
      goto LABEL_191;
    case 101:
      GetScriptFile_5(this, Dst, SizeInWords, 90, 1);
      goto LABEL_191;
    case 102:
      GetScriptFile_5(this, Dst, SizeInWords, 4, 1);
LABEL_191:
      result = 1;
      break;
    default:
      sub_336760(this, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38A254: using guessed type wchar_t aScene_39[6];
// 38A260: using guessed type wchar_t aBs022sc03[10];
// 38A274: using guessed type wchar_t aBs022sc07[10];
// 38A288: using guessed type wchar_t aBs022sc08[10];
// 38A29C: using guessed type wchar_t aBs022sc08_0[10];
// 38A2B0: using guessed type wchar_t aBs022sh04[10];
// 38A2C4: using guessed type wchar_t aBs022sh04_0[10];
// 38A2D8: using guessed type wchar_t aBs022si06[10];
// 38A2EC: using guessed type wchar_t aBs022sh04_1[10];
// 38A300: using guessed type wchar_t a984_0[4];
// 38A308: using guessed type wchar_t a983_0[4];
// 38A310: using guessed type wchar_t aBs022sj00[10];
// 38A324: using guessed type wchar_t a983_1[4];
// 38A32C: using guessed type wchar_t a984_1[4];
// 38A334: using guessed type wchar_t a982_0[4];
// 38A33C: using guessed type wchar_t aBs022sj00_0[10];
// 38A350: using guessed type wchar_t a982_1[4];
// 38A358: using guessed type wchar_t a983_2[4];
// 38A360: using guessed type wchar_t a985_0[4];
// 38A368: using guessed type wchar_t aBs022sk01[10];
// 38A37C: using guessed type wchar_t aBs022so00[10];
// 38A390: using guessed type wchar_t aBs022sa01[10];
// 38A3A4: using guessed type wchar_t a985_1[4];
// 38A3AC: using guessed type wchar_t aBs022so00_0[10];
// 38A3C0: using guessed type wchar_t a981_0[4];
// 38A3C8: using guessed type wchar_t aBs022sp03[10];
// 38A3DC: using guessed type wchar_t aBs022sp03_0[10];
// 38A3F0: using guessed type wchar_t aBs022sp03_1[10];
// 38A404: using guessed type wchar_t aBs022sa01_0[10];
// 38A418: using guessed type wchar_t aBs022sp03_2[10];
// 38A42C: using guessed type wchar_t a980_0[4];
// 38A434: using guessed type wchar_t aBs022sr00[10];
// 38A448: using guessed type wchar_t a980_1[4];
// 38A450: using guessed type wchar_t aBs022sr03[10];
// 38A464: using guessed type wchar_t aBs022sr07[10];
// 38A478: using guessed type wchar_t a001_3[4];
// 38A480: using guessed type wchar_t a002_3[4];
// 38A488: using guessed type wchar_t aRep02_2s_w03[13];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (003468B0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_5(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@3
  int v6; // ST18_4@11
  int v7; // ST18_4@12
  int v8; // ST18_4@20
  int v9; // ST18_4@27
  int v10; // ST18_4@60
  int v11; // ST18_4@63
  int v12; // ST18_4@72
  int v13; // ST18_4@74
  int v14; // [sp+4h] [bp-8h]@28
  int v15; // [sp+4h] [bp-8h]@45
  int v16; // [sp+4h] [bp-8h]@68

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_5)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_3(a3, Dst, SizeInWords, 19, 0);
      return 1;
    case 1:
      v5 = (a3->vtable->GetVariable)(a3, L"BS022SA01");
      GetScriptFile_5(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_95;
    case 2:
      GetScriptFile_5(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_95;
    case 3:
      GetScriptFile_5(a3, Dst, SizeInWords, 95, 0);
      goto LABEL_95;
    case 4:
      GetScriptFile_5(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_95;
    case 5:
      GetScriptFile_5(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_95;
    case 6:
    case 7:
      GetScriptFile_5(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_95;
    case 8:
    case 9:
      GetScriptFile_5(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_95;
    case 10:
    case 11:
      GetScriptFile_5(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_95;
    case 12:
      v6 = (a3->vtable->GetVariable)(a3, L"BS022SC07");
      GetScriptFile_5(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_95;
    case 13:
      v7 = (a3->vtable->GetVariable)(a3, L"BS022SC08");
      GetScriptFile_5(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_95;
    case 14:
      GetScriptFile_5(a3, Dst, SizeInWords, 62, 0);
      goto LABEL_95;
    case 15:
      GetScriptFile_5(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_95;
    case 16:
      GetScriptFile_5(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_95;
    case 17:
      GetScriptFile_5(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_95;
    case 18:
      GetScriptFile_5(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_95;
    case 19:
      GetScriptFile_5(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_95;
    case 20:
    case 21:
      GetScriptFile_5(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_95;
    case 22:
      v8 = (a3->vtable->GetVariable)(a3, L"BS022SH04");
      GetScriptFile_5(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_95;
    case 23:
    case 24:
      GetScriptFile_5(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_95;
    case 25:
    case 26:
      GetScriptFile_5(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_95;
    case 27:
    case 28:
      GetScriptFile_5(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_95;
    case 29:
      GetScriptFile_5(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_95;
    case 30:
    case 31:
      GetScriptFile_5(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_95;
    case 32:
    case 33:
    case 34:
      GetScriptFile_5(a3, Dst, SizeInWords, 26, 0);
      goto LABEL_95;
    case 35:
      v9 = (a3->vtable->GetVariable)(a3, L"BS022SI06");
      GetScriptFile_5(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_95;
    case 36:
      v14 = (a3->vtable->GetVariable)(a3, L"BS022SJ00");
      if ( v14 != 30 && v14 != 32 && v14 != 33 && v14 != 35 )
      {
        if ( v14 != 28 && v14 != 31 )
        {
          if ( v14 == 25 || v14 == 34 )
            (a3->vtable->SetFlagValue)(a3, L"984", 0);
        }
        else
        {
          (a3->vtable->SetFlagValue)(a3, L"983", 0);
        }
      }
      else
      {
        (a3->vtable->SetFlagValue)(a3, L"982", 0);
      }
      GetScriptFile_5(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_95;
    case 37:
    case 38:
    case 39:
      GetScriptFile_5(a3, Dst, SizeInWords, 36, 0);
      goto LABEL_95;
    case 40:
      GetScriptFile_5(a3, Dst, SizeInWords, 38, 0);
      goto LABEL_95;
    case 41:
    case 42:
    case 43:
      GetScriptFile_5(a3, Dst, SizeInWords, 39, 0);
      goto LABEL_95;
    case 44:
    case 45:
    case 46:
      GetScriptFile_5(a3, Dst, SizeInWords, 43, 0);
      goto LABEL_95;
    case 47:
      GetScriptFile_5(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_95;
    case 48:
      v15 = (a3->vtable->GetVariable)(a3, L"BS022SK01");
      if ( v15 == 41 || v15 == 42 )
        (a3->vtable->SetFlagValue)(a3, L"985", 0);
      GetScriptFile_5(a3, Dst, SizeInWords, v15, 0);
      goto LABEL_95;
    case 49:
      GetScriptFile_5(a3, Dst, SizeInWords, 50, 0);
      goto LABEL_95;
    case 50:
      GetScriptFile_5(a3, Dst, SizeInWords, 47, 0);
      goto LABEL_95;
    case 51:
      GetScriptFile_5(a3, Dst, SizeInWords, 49, 0);
      goto LABEL_95;
    case 52:
    case 53:
    case 54:
      GetScriptFile_5(a3, Dst, SizeInWords, 51, 0);
      goto LABEL_95;
    case 55:
      GetScriptFile_5(a3, Dst, SizeInWords, 92, 0);
      goto LABEL_95;
    case 56:
      GetScriptFile_5(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_95;
    case 57:
      GetScriptFile_5(a3, Dst, SizeInWords, 48, 0);
      goto LABEL_95;
    case 58:
    case 59:
      GetScriptFile_5(a3, Dst, SizeInWords, 57, 0);
      goto LABEL_95;
    case 60:
      GetScriptFile_5(a3, Dst, SizeInWords, 53, 0);
      goto LABEL_95;
    case 61:
      GetScriptFile_5(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_95;
    case 62:
      GetScriptFile_5(a3, Dst, SizeInWords, 100, 0);
      goto LABEL_95;
    case 63:
      v10 = (a3->vtable->GetVariable)(a3, L"BS022SO00");
      GetScriptFile_5(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_95;
    case 64:
      (a3->vtable->SetFlagValue)(a3, L"981", 0);
      GetScriptFile_5(a3, Dst, SizeInWords, 63, 0);
      goto LABEL_95;
    case 65:
    case 66:
      GetScriptFile_5(a3, Dst, SizeInWords, 64, 0);
      goto LABEL_95;
    case 67:
      v11 = (a3->vtable->GetVariable)(a3, L"BS022SP03");
      GetScriptFile_5(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_95;
    case 68:
    case 69:
      GetScriptFile_5(a3, Dst, SizeInWords, 65, 0);
      goto LABEL_95;
    case 70:
    case 71:
      GetScriptFile_5(a3, Dst, SizeInWords, 66, 0);
      goto LABEL_95;
    case 72:
      GetScriptFile_5(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_95;
    case 73:
    case 74:
      GetScriptFile_5(a3, Dst, SizeInWords, 72, 0);
      goto LABEL_95;
    case 75:
      v16 = (a3->vtable->GetVariable)(a3, L"BS022SR00");
      if ( v16 == 73 )
        (a3->vtable->SetFlagValue)(a3, L"980", 0);
      GetScriptFile_5(a3, Dst, SizeInWords, v16, 0);
      goto LABEL_95;
    case 76:
    case 77:
      GetScriptFile_5(a3, Dst, SizeInWords, 75, 0);
      goto LABEL_95;
    case 78:
      v12 = (a3->vtable->GetVariable)(a3, L"BS022SR03");
      GetScriptFile_5(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_95;
    case 79:
    case 80:
    case 81:
      GetScriptFile_5(a3, Dst, SizeInWords, 78, 0);
      goto LABEL_95;
    case 82:
      v13 = (a3->vtable->GetVariable)(a3, L"BS022SR07");
      GetScriptFile_5(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_95;
    case 83:
      GetScriptFile_5(a3, Dst, SizeInWords, 84, 0);
      goto LABEL_95;
    case 84:
      GetScriptFile_5(a3, Dst, SizeInWords, 82, 0);
      goto LABEL_95;
    case 85:
      GetScriptFile_5(a3, Dst, SizeInWords, 83, 0);
      goto LABEL_95;
    case 86:
    case 87:
      GetScriptFile_5(a3, Dst, SizeInWords, 85, 0);
      goto LABEL_95;
    case 88:
      GetScriptFile_5(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_95;
    case 89:
      GetScriptFile_5(a3, Dst, SizeInWords, 94, 0);
      goto LABEL_95;
    case 90:
      GetScriptFile_5(a3, Dst, SizeInWords, 101, 0);
      goto LABEL_95;
    case 91:
      GetScriptFile_5(a3, Dst, SizeInWords, 86, 0);
      goto LABEL_95;
    case 92:
      GetScriptFile_5(a3, Dst, SizeInWords, 91, 0);
      goto LABEL_95;
    case 93:
      GetScriptFile_5(a3, Dst, SizeInWords, 55, 0);
      goto LABEL_95;
    case 94:
      GetScriptFile_5(a3, Dst, SizeInWords, 88, 0);
      goto LABEL_95;
    case 95:
      GetScriptFile_5(a3, Dst, SizeInWords, 93, 0);
      goto LABEL_95;
    case 96:
      GetScriptFile_5(a3, Dst, SizeInWords, 61, 0);
      goto LABEL_95;
    case 97:
      GetScriptFile_5(a3, Dst, SizeInWords, 96, 0);
      goto LABEL_95;
    case 98:
      GetScriptFile_5(a3, Dst, SizeInWords, 97, 0);
      goto LABEL_95;
    case 99:
      GetScriptFile_5(a3, Dst, SizeInWords, 98, 0);
      goto LABEL_95;
    case 100:
      GetScriptFile_5(a3, Dst, SizeInWords, 99, 0);
      goto LABEL_95;
    case 101:
      GetScriptFile_5(a3, Dst, SizeInWords, 89, 0);
      goto LABEL_95;
    case 102:
      GetScriptFile_5(a3, Dst, SizeInWords, 0, 0);
LABEL_95:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38A4A4: using guessed type wchar_t aScene_40[6];
// 38A4B0: using guessed type wchar_t aBs022sa01_1[10];
// 38A4C4: using guessed type wchar_t aBs022sc07_0[10];
// 38A4D8: using guessed type wchar_t aBs022sc08_1[10];
// 38A4EC: using guessed type wchar_t aBs022sh04_2[10];
// 38A500: using guessed type wchar_t aBs022si06_0[10];
// 38A514: using guessed type wchar_t aBs022sj00_1[10];
// 38A528: using guessed type wchar_t a982_2[4];
// 38A530: using guessed type wchar_t a983_3[4];
// 38A538: using guessed type wchar_t a984_2[4];
// 38A540: using guessed type wchar_t aBs022sk01_0[10];
// 38A554: using guessed type wchar_t a985_2[4];
// 38A55C: using guessed type wchar_t aBs022so00_1[10];
// 38A570: using guessed type wchar_t a981_1[4];
// 38A578: using guessed type wchar_t aBs022sp03_3[10];
// 38A58C: using guessed type wchar_t aBs022sr00_0[10];
// 38A5A0: using guessed type wchar_t a980_2[4];
// 38A5A8: using guessed type wchar_t aBs022sr03_0[10];
// 38A5BC: using guessed type wchar_t aBs022sr07_0[10];

//----- (00347540) --------------------------------------------------------
signed int __cdecl searchRoot_route_2s(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 103; ++i )
  {
    if ( !wcscmp((&route_files_5)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 5);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38A5D0: using guessed type wchar_t aRoute_24[6];
// 38A5DC: using guessed type wchar_t aScene_41[6];

//----- (003475B0) --------------------------------------------------------
signed int __cdecl CheckScript_route_5(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 11;
      break;
    case 19:
      v2 = 13;
      break;
    case 39:
      v2 = 15;
      break;
    case 51:
      v2 = 14;
      break;
    case 90:
      v2 = 16;
      break;
    case 87:
      v2 = 17;
      break;
    default:
      v2 = CheckScript_by_flags_route_4(a1);
      break;
  }
  return v2;
}
// 333D80: using guessed type _DWORD __cdecl CheckScript_by_flags_route_4(_DWORD);
// 3475B0: using guessed type _DWORD __cdecl CheckScript_route_5(_DWORD);
// 38A5E8: using guessed type wchar_t aScene_42[6];

//----- (003476C0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_5(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 102; ++i )
  {
    if ( !wcscmp((&route_files_5)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00347710) --------------------------------------------------------
int __cdecl SetFeeling_route_5(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 5;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 7;
        else
          v3 = 8;
      }
      else
      {
        v3 = 6;
      }
      break;
    case 2:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 9;
        else
          v3 = 13;
      }
      else
      {
        v3 = 8;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 11;
        else
          v3 = 13;
      }
      else
      {
        v3 = 10;
      }
      break;
    case 14:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 21;
      else
        v3 = 20;
      break;
    case 15:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 23;
        else
          v3 = 24;
      }
      else
      {
        v3 = 22;
      }
      break;
    case 16:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 27;
        else
          v3 = 28;
      }
      else
      {
        v3 = 22;
      }
      break;
    case 19:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 30;
        else
          v3 = 31;
      }
      else
      {
        v3 = 22;
      }
      break;
    case 21:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 33;
        else
          v3 = 34;
      }
      else
      {
        v3 = 32;
      }
      break;
    case 24:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 26;
      else
        v3 = 25;
      break;
    case 34:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 42;
        else
          v3 = 43;
      }
      else
      {
        v3 = 41;
      }
      break;
    case 38:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 45;
        else
          v3 = 46;
      }
      else
      {
        v3 = 44;
      }
      break;
    case 46:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 53;
        else
          v3 = 54;
      }
      else
      {
        v3 = 52;
      }
      break;
    case 59:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 66;
        else
          v3 = 67;
      }
      else
      {
        v3 = 65;
      }
      break;
    case 60:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 69;
        else
          v3 = 67;
      }
      else
      {
        v3 = 68;
      }
      break;
    case 61:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 71;
        else
          v3 = 67;
      }
      else
      {
        v3 = 70;
      }
      break;
    case 67:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 74;
      else
        v3 = 73;
      break;
    case 73:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 80;
        else
          v3 = 81;
      }
      else
      {
        v3 = 79;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_5)[2 * v3], a2);
  return result;
}
// 38A5F4: using guessed type wchar_t aScene_43[6];

//----- (00347C20) --------------------------------------------------------
unsigned int __cdecl sub_347C20(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 )
    v4 = -1;
  else
    v4 = 412;
  return sub_3367C0(a1, v4, (&route_files_6)[2 * a3], a2);
}

//----- (00347C70) --------------------------------------------------------
errno_t __cdecl GetScriptFile_6(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_347C20(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 6);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_6)[2 * a4]);
}
// 38A840: using guessed type wchar_t aRoute_25[6];
// 38A84C: using guessed type wchar_t aScene_44[6];

//----- (00347CE0) --------------------------------------------------------
signed int __cdecl GetNextScript_6(wchar_t *Dst, rsize_t SizeInWords, int this)
{
  signed int result; // eax@41
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (*(*this + 8))(this, L"SCENE");
  sub_347C20(this, 1, v4);
  switch ( v4 )
  {
    case 0:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          (*(*this + 12))(this, L"BS03A0A05", v4);
          GetScriptFile_6(this, Dst, SizeInWords, 2, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS03A0A06", v4);
          GetScriptFile_6(this, Dst, SizeInWords, 3, 1);
        }
      }
      else
      {
        GetScriptFile_6(this, Dst, SizeInWords, 1, 1);
      }
      goto LABEL_43;
    case 1:
      if ( (*(*this + 4))(this) )
      {
        (*(*this + 12))(this, L"BS03A0A06", v4);
        GetScriptFile_6(this, Dst, SizeInWords, 3, 1);
      }
      else
      {
        (*(*this + 12))(this, L"BS03A0A05", v4);
        GetScriptFile_6(this, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_43;
    case 2:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          (*(*this + 12))(this, L"BS03A0A08", v4);
          GetScriptFile_6(this, Dst, SizeInWords, 5, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS03A0A09", v4);
          GetScriptFile_6(this, Dst, SizeInWords, 6, 1);
        }
      }
      else
      {
        GetScriptFile_6(this, Dst, SizeInWords, 4, 1);
      }
      goto LABEL_43;
    case 3:
    case 6:
      if ( v4 == 6 )
      {
        (*(*this + 20))(this, L"978", 1);
        (*(*this + 28))(this, L"REP03_A0_A00", 1);
      }
      (*(*this + 12))(this, L"BS03A0B00", v4);
      GetScriptFile_6(this, Dst, SizeInWords, 8, 1);
      goto LABEL_43;
    case 4:
      if ( (*(*this + 4))(this) )
      {
        if ( (*(*this + 4))(this) == 1 )
        {
          GetScriptFile_6(this, Dst, SizeInWords, 7, 1);
        }
        else
        {
          (*(*this + 12))(this, L"BS03A0A09", v4);
          GetScriptFile_6(this, Dst, SizeInWords, 6, 1);
        }
      }
      else
      {
        (*(*this + 12))(this, L"BS03A0A08", v4);
        GetScriptFile_6(this, Dst, SizeInWords, 5, 1);
      }
      goto LABEL_43;
    case 5:
    case 7:
      if ( v4 == 7 )
        (*(*this + 20))(this, L"979", 1);
      (*(*this + 12))(this, L"BS03A0A09", v4);
      GetScriptFile_6(this, Dst, SizeInWords, 6, 1);
      goto LABEL_43;
    case 8:
      if ( sub_336000(this, (&route_files_6)[2 * v4]) )
        GetScriptFile_6(this, Dst, SizeInWords, 9, 1);
      else
        GetScriptFile_6(this, Dst, SizeInWords, 10, 1);
      goto LABEL_43;
    case 9:
    case 10:
      if ( v4 == 10 )
        (*(*this + 20))(this, L"963", 1);
      (*(*this + 12))(this, L"BS03A0C00", v4);
      GetScriptFile_6(this, Dst, SizeInWords, 11, 1);
      goto LABEL_43;
    case 11:
      if ( sub_336000(this, (&route_files_6)[2 * v4]) )
        GetScriptFile_6(this, Dst, SizeInWords, 12, 1);
      else
        GetScriptFile_6(this, Dst, SizeInWords, 13, 1);
LABEL_43:
      result = 1;
      break;
    case 12:
    case 13:
      (*(*this + 12))(this, L"BS03A1A00", v4);
      GetScriptFile_7(this, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    default:
      sub_336760(this, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38A858: using guessed type wchar_t aScene_45[6];
// 38A864: using guessed type wchar_t aBs03a0a05[10];
// 38A878: using guessed type wchar_t aBs03a0a06[10];
// 38A88C: using guessed type wchar_t aBs03a0a05_0[10];
// 38A8A0: using guessed type wchar_t aBs03a0a06_0[10];
// 38A8B4: using guessed type wchar_t aBs03a0a08[10];
// 38A8C8: using guessed type wchar_t aBs03a0a09[10];
// 38A8DC: using guessed type wchar_t a978_12[4];
// 38A8E4: using guessed type wchar_t aRep03_a0_a00[13];
// 38A900: using guessed type wchar_t aBs03a0b00[10];
// 38A914: using guessed type wchar_t aBs03a0a08_0[10];
// 38A928: using guessed type wchar_t aBs03a0a09_0[10];
// 38A93C: using guessed type wchar_t a979_11[4];
// 38A944: using guessed type wchar_t aBs03a0a09_1[10];
// 38A958: using guessed type wchar_t a963_1[4];
// 38A960: using guessed type wchar_t aBs03a0c00[10];
// 38A974: using guessed type wchar_t aBs03a1a00[10];

//----- (003481B0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_6(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@4
  int v6; // ST18_4@5
  int v7; // ST18_4@7
  int v8; // [sp+4h] [bp-8h]@8
  int v9; // [sp+4h] [bp-8h]@12
  int v10; // [sp+4h] [bp-8h]@16

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_6)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_14(a3, Dst, SizeInWords, 97, 0);
      return 1;
    case 1:
      GetScriptFile_6(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_21;
    case 2:
      v5 = (a3->vtable->GetVariable)(a3, L"BS03A0A05");
      GetScriptFile_6(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_21;
    case 3:
      v6 = (a3->vtable->GetVariable)(a3, L"BS03A0A06");
      GetScriptFile_6(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_21;
    case 4:
      GetScriptFile_6(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_21;
    case 5:
      v7 = (a3->vtable->GetVariable)(a3, L"BS03A0A08");
      GetScriptFile_6(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_21;
    case 6:
      v8 = (a3->vtable->GetVariable)(a3, L"BS03A0A09");
      if ( v8 == 7 )
        (a3->vtable->SetFlagValue)(a3, L"979", 0);
      GetScriptFile_6(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_21;
    case 7:
      GetScriptFile_6(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_21;
    case 8:
      v9 = (a3->vtable->GetVariable)(a3, L"BS03A0B00");
      if ( v9 == 6 )
        (a3->vtable->SetFlagValue)(a3, L"978", 0);
      GetScriptFile_6(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_21;
    case 9:
    case 10:
      GetScriptFile_6(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_21;
    case 11:
      v10 = (a3->vtable->GetVariable)(a3, L"BS03A0C00");
      if ( v10 == 10 )
        (a3->vtable->SetFlagValue)(a3, L"963", 0);
      GetScriptFile_6(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_21;
    case 12:
    case 13:
      GetScriptFile_6(a3, Dst, SizeInWords, 11, 0);
LABEL_21:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38A988: using guessed type wchar_t aScene_46[6];
// 38A994: using guessed type wchar_t aBs03a0a05_1[10];
// 38A9A8: using guessed type wchar_t aBs03a0a06_1[10];
// 38A9BC: using guessed type wchar_t aBs03a0a08_1[10];
// 38A9D0: using guessed type wchar_t aBs03a0a09_2[10];
// 38A9E4: using guessed type wchar_t a979_12[4];
// 38A9EC: using guessed type wchar_t aBs03a0b00_0[10];
// 38AA00: using guessed type wchar_t a978_13[4];
// 38AA08: using guessed type wchar_t aBs03a0c00_0[10];
// 38AA1C: using guessed type wchar_t a963_2[4];

//----- (00348490) --------------------------------------------------------
signed int __cdecl searchRoot_route_3a0(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 14; ++i )
  {
    if ( !wcscmp((&route_files_6)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 6);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38AA24: using guessed type wchar_t aRoute_26[6];
// 38AA30: using guessed type wchar_t aScene_47[6];

//----- (00348500) --------------------------------------------------------
signed int __cdecl CheckScript_route_6(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") )
    v2 = CheckScript_by_flags_route_6(a1);
  else
    v2 = 23;
  return v2;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 348500: using guessed type _DWORD __cdecl CheckScript_route_6(_DWORD);
// 38AA3C: using guessed type wchar_t aScene_48[6];

//----- (00348550) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_6(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 14; ++i )
  {
    if ( !wcscmp((&route_files_6)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003485A0) --------------------------------------------------------
int __cdecl SetFeeling_route_6(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 2;
        else
          v3 = 3;
      }
      else
      {
        v3 = 1;
      }
      break;
    case 1:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 3;
      else
        v3 = 2;
      break;
    case 2:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 5;
        else
          v3 = 6;
      }
      else
      {
        v3 = 4;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 7;
        else
          v3 = 6;
      }
      else
      {
        v3 = 5;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_6)[2 * v3], a2);
  return result;
}
// 38AA48: using guessed type wchar_t aScene_49[6];

//----- (00348700) --------------------------------------------------------
unsigned int __cdecl sub_348700(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 == 1 )
  {
    v4 = 413;
  }
  else
  {
    if ( a3 == 34 )
      v4 = 414;
    else
      v4 = -1;
  }
  return sub_3367C0(a1, v4, (&route_files_7)[2 * a3], a2);
}

//----- (00348760) --------------------------------------------------------
errno_t __cdecl GetScriptFile_7(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_348700(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 7);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_7)[2 * a4]);
}
// 38AFDC: using guessed type wchar_t aRoute_27[6];
// 38AFE8: using guessed type wchar_t aScene_50[6];

//----- (003487D0) --------------------------------------------------------
signed int __cdecl GetNextScript_7(wchar_t *Dst, rsize_t SizeInWords, int a3)
{
  int v3; // esi@68
  signed int result; // eax@69
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (*(*a3 + 8))(a3, L"SCENE");
  sub_348700(a3, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_7(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_82;
    case 1:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
        {
          (*(*a3 + 12))(a3, L"BS03A1B02", v5);
          GetScriptFile_7(a3, Dst, SizeInWords, 3, 1);
        }
        else
        {
          (*(*a3 + 12))(a3, L"BS03A1B03", v5);
          GetScriptFile_7(a3, Dst, SizeInWords, 4, 1);
        }
      }
      else
      {
        GetScriptFile_7(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_82;
    case 2:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
        {
          (*(*a3 + 12))(a3, L"BS03A1B02", v5);
          GetScriptFile_7(a3, Dst, SizeInWords, 3, 1);
        }
        else
        {
          (*(*a3 + 12))(a3, L"BS03A1B03", v5);
          GetScriptFile_7(a3, Dst, SizeInWords, 4, 1);
        }
      }
      else
      {
        GetScriptFile_7(a3, Dst, SizeInWords, 5, 1);
      }
      goto LABEL_82;
    case 3:
    case 4:
      if ( v5 == 3 )
        (*(*a3 + 20))(a3, L"962", 1);
      (*(*a3 + 12))(a3, L"BS03A1C00", v5);
      GetScriptFile_7(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_82;
    case 5:
      if ( (*(*a3 + 4))(a3) )
      {
        (*(*a3 + 12))(a3, L"BS03A1B03", v5);
        GetScriptFile_7(a3, Dst, SizeInWords, 4, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03A1B02", v5);
        GetScriptFile_7(a3, Dst, SizeInWords, 3, 1);
      }
      goto LABEL_82;
    case 6:
      GetScriptFile_7(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_82;
    case 7:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_7(a3, Dst, SizeInWords, 9, 1);
        else
          GetScriptFile_7(a3, Dst, SizeInWords, 10, 1);
      }
      else
      {
        GetScriptFile_7(a3, Dst, SizeInWords, 8, 1);
      }
      goto LABEL_82;
    case 8:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_7(a3, Dst, SizeInWords, 12, 1);
        else
          GetScriptFile_7(a3, Dst, SizeInWords, 13, 1);
      }
      else
      {
        GetScriptFile_7(a3, Dst, SizeInWords, 11, 1);
      }
      goto LABEL_82;
    case 9:
      if ( (*(*a3 + 16))(a3, L"962") )
        GetScriptFile_7(a3, Dst, SizeInWords, 14, 1);
      else
        GetScriptFile_7(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_82;
    case 10:
      if ( (*(*a3 + 4))(a3) )
      {
        GetScriptFile_7(a3, Dst, SizeInWords, 17, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03A1D09", v5);
        GetScriptFile_7(a3, Dst, SizeInWords, 16, 1);
      }
      goto LABEL_82;
    case 11:
    case 12:
    case 13:
    case 16:
      (*(*a3 + 12))(a3, L"BS03A1E00", v5);
      GetScriptFile_7(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_82;
    case 14:
      if ( sub_336000(a3, (&route_files_7)[2 * v5]) )
      {
        (*(*a3 + 12))(a3, L"BS03A1E04", v5);
        GetScriptFile_7(a3, Dst, SizeInWords, 22, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03A1E05", v5);
        GetScriptFile_7(a3, Dst, SizeInWords, 23, 1);
      }
      goto LABEL_82;
    case 15:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_7(a3, Dst, SizeInWords, 20, 1);
        else
          GetScriptFile_7(a3, Dst, SizeInWords, 21, 1);
      }
      else
      {
        GetScriptFile_7(a3, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_82;
    case 17:
      (*(*a3 + 12))(a3, L"BS03A1D09", v5);
      GetScriptFile_7(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_82;
    case 18:
      if ( sub_336000(a3, (&route_files_7)[2 * v5]) )
      {
        (*(*a3 + 12))(a3, L"BS03A1E04", v5);
        GetScriptFile_7(a3, Dst, SizeInWords, 22, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03A1E05", v5);
        GetScriptFile_7(a3, Dst, SizeInWords, 23, 1);
      }
      goto LABEL_82;
    case 19:
    case 21:
      (*(*a3 + 12))(a3, L"BS03A1E00", v5);
      GetScriptFile_7(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_82;
    case 20:
      (*(*a3 + 12))(a3, L"BS03A1D09", v5);
      GetScriptFile_7(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_82;
    case 22:
    case 23:
      (*(*a3 + 12))(a3, L"BS03A1E06", v5);
      GetScriptFile_7(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_82;
    case 24:
      GetScriptFile_7(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_82;
    case 25:
      GetScriptFile_7(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_82;
    case 26:
      if ( (*(*a3 + 4))(a3) )
        GetScriptFile_7(a3, Dst, SizeInWords, 33, 1);
      else
        GetScriptFile_7(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_82;
    case 27:
      v3 = (*(*a3 + 8))(a3, L"001");
      if ( v3 <= (*(*a3 + 8))(a3, L"002") )
      {
        GetScriptFile_7(a3, Dst, SizeInWords, 29, 1);
LABEL_82:
        result = 1;
      }
      else
      {
        GetScriptFile_9(a3, Dst, SizeInWords, 0, 1);
        result = 1;
      }
      break;
    case 28:
      GetScriptFile_7(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_82;
    case 29:
      GetScriptFile_8(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 30:
      GetScriptFile_7(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_82;
    case 31:
      GetScriptFile_7(a3, Dst, SizeInWords, 26, 1);
      goto LABEL_82;
    case 32:
    case 33:
      (*(*a3 + 12))(a3, L"BS03A1Z02", v5);
      (*(*a3 + 28))(a3, L"REP03_A1_E08", 1);
      if ( v5 == 33 )
        (*(*a3 + 20))(a3, L"942", 1);
      GetScriptFile_7(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_82;
    case 34:
      (*(*a3 + 44))(a3);
      (*(*a3 + 56))(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_26(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38AFF4: using guessed type wchar_t aScene_51[6];
// 38B000: using guessed type wchar_t aBs03a1b02[10];
// 38B014: using guessed type wchar_t aBs03a1b03[10];
// 38B028: using guessed type wchar_t aBs03a1b02_0[10];
// 38B03C: using guessed type wchar_t aBs03a1b03_0[10];
// 38B050: using guessed type wchar_t a962_1[4];
// 38B058: using guessed type wchar_t aBs03a1c00[10];
// 38B06C: using guessed type wchar_t aBs03a1b02_1[10];
// 38B080: using guessed type wchar_t aBs03a1b03_1[10];
// 38B094: using guessed type wchar_t a962_2[4];
// 38B09C: using guessed type wchar_t aBs03a1d09[10];
// 38B0B0: using guessed type wchar_t aBs03a1e00[10];
// 38B0C4: using guessed type wchar_t aBs03a1e04[10];
// 38B0D8: using guessed type wchar_t aBs03a1e05[10];
// 38B0EC: using guessed type wchar_t aBs03a1d09_0[10];
// 38B100: using guessed type wchar_t aBs03a1e04_0[10];
// 38B114: using guessed type wchar_t aBs03a1e05_0[10];
// 38B128: using guessed type wchar_t aBs03a1e00_0[10];
// 38B13C: using guessed type wchar_t aBs03a1d09_1[10];
// 38B150: using guessed type wchar_t aBs03a1e06[10];
// 38B164: using guessed type wchar_t a001_4[4];
// 38B16C: using guessed type wchar_t a002_4[4];
// 38B174: using guessed type wchar_t aBs03a1z02[10];
// 38B188: using guessed type wchar_t aRep03_a1_e08[13];
// 38B1A4: using guessed type wchar_t a942[4];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00349120) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_7(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  int v4; // ST18_4@2
  signed int result; // eax@2
  int v6; // ST18_4@5
  int v7; // ST18_4@6
  int v8; // ST18_4@15
  int v9; // ST18_4@17
  int v10; // ST18_4@19
  int v11; // ST18_4@20
  int v12; // ST18_4@21
  int v13; // [sp+4h] [bp-8h]@8
  int v14; // [sp+4h] [bp-8h]@30

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_7)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      v4 = (a3->vtable->GetVariable)(a3, L"BS03A1A00");
      GetScriptFile_6(a3, Dst, SizeInWords, v4, 0);
      return 1;
    case 1:
      GetScriptFile_7(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_34;
    case 2:
      GetScriptFile_7(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_34;
    case 3:
      v6 = (a3->vtable->GetVariable)(a3, L"BS03A1B02");
      GetScriptFile_7(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_34;
    case 4:
      v7 = (a3->vtable->GetVariable)(a3, L"BS03A1B03");
      GetScriptFile_7(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_34;
    case 5:
      GetScriptFile_7(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_34;
    case 6:
      v13 = (a3->vtable->GetVariable)(a3, L"BS03A1C00");
      if ( v13 == 3 )
        (a3->vtable->SetFlagValue)(a3, L"962", 0);
      GetScriptFile_7(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_34;
    case 7:
      GetScriptFile_7(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_34;
    case 8:
    case 9:
    case 10:
      GetScriptFile_7(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_34;
    case 11:
    case 12:
    case 13:
      GetScriptFile_7(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_34;
    case 14:
    case 15:
      GetScriptFile_7(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_34;
    case 16:
      v8 = (a3->vtable->GetVariable)(a3, L"BS03A1D09");
      GetScriptFile_7(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_34;
    case 17:
      GetScriptFile_7(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_34;
    case 18:
      v9 = (a3->vtable->GetVariable)(a3, L"BS03A1E00");
      GetScriptFile_7(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_34;
    case 19:
    case 20:
    case 21:
      GetScriptFile_7(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_34;
    case 22:
      v10 = (a3->vtable->GetVariable)(a3, L"BS03A1E04");
      GetScriptFile_7(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_34;
    case 23:
      v11 = (a3->vtable->GetVariable)(a3, L"BS03A1E05");
      GetScriptFile_7(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_34;
    case 24:
      v12 = (a3->vtable->GetVariable)(a3, L"BS03A1E06");
      GetScriptFile_7(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_34;
    case 25:
      GetScriptFile_7(a3, Dst, SizeInWords, 28, 0);
      goto LABEL_34;
    case 26:
      GetScriptFile_7(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_34;
    case 27:
      GetScriptFile_7(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_34;
    case 28:
      GetScriptFile_9(a3, Dst, SizeInWords, 3, 0);
      return 1;
    case 29:
      GetScriptFile_7(a3, Dst, SizeInWords, 27, 0);
      goto LABEL_34;
    case 30:
      GetScriptFile_7(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_34;
    case 31:
      GetScriptFile_7(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_34;
    case 32:
    case 33:
      GetScriptFile_7(a3, Dst, SizeInWords, 26, 0);
      goto LABEL_34;
    case 34:
      v14 = (a3->vtable->GetVariable)(a3, L"BS03A1Z02");
      if ( v14 == 33 )
        (a3->vtable->SetFlagValue)(a3, L"942", 0);
      GetScriptFile_7(a3, Dst, SizeInWords, v14, 0);
LABEL_34:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38B1AC: using guessed type wchar_t aScene_52[6];
// 38B1B8: using guessed type wchar_t aBs03a1a00_0[10];
// 38B1CC: using guessed type wchar_t aBs03a1b02_2[10];
// 38B1E0: using guessed type wchar_t aBs03a1b03_2[10];
// 38B1F4: using guessed type wchar_t aBs03a1c00_0[10];
// 38B208: using guessed type wchar_t a962_3[4];
// 38B210: using guessed type wchar_t aBs03a1d09_2[10];
// 38B224: using guessed type wchar_t aBs03a1e00_1[10];
// 38B238: using guessed type wchar_t aBs03a1e04_1[10];
// 38B24C: using guessed type wchar_t aBs03a1e05_1[10];
// 38B260: using guessed type wchar_t aBs03a1e06_0[10];
// 38B274: using guessed type wchar_t aBs03a1z02_0[10];
// 38B288: using guessed type wchar_t a942_0[4];

//----- (00349650) --------------------------------------------------------
signed int __cdecl searchRoot_route_3a1(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 35; ++i )
  {
    if ( !wcscmp((&route_files_7)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 7);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38B290: using guessed type wchar_t aRoute_28[6];
// 38B29C: using guessed type wchar_t aScene_53[6];

//----- (003496C0) --------------------------------------------------------
signed int __cdecl CheckScript_route_7(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 == 1 )
  {
    v3 = 24;
  }
  else
  {
    if ( v2 == 34 )
      v3 = 25;
    else
      v3 = CheckScript_by_flags_route_6(a1);
  }
  return v3;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 3496C0: using guessed type _DWORD __cdecl CheckScript_route_7(_DWORD);
// 38B2A8: using guessed type wchar_t aScene_54[6];

//----- (00349720) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_7(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 35; ++i )
  {
    if ( !wcscmp((&route_files_7)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00349770) --------------------------------------------------------
int __cdecl SetFeeling_route_7(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 1;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 2;
      }
      break;
    case 1:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 5;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 4;
      else
        v3 = 3;
      break;
    case 6:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 9;
        else
          v3 = 10;
      }
      else
      {
        v3 = 8;
      }
      break;
    case 7:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 12;
        else
          v3 = 13;
      }
      else
      {
        v3 = 11;
      }
      break;
    case 9:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 17;
      else
        v3 = 16;
      break;
    case 14:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 20;
        else
          v3 = 21;
      }
      else
      {
        v3 = 19;
      }
      break;
    case 25:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 33;
      else
        v3 = 32;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_7)[2 * v3], a2);
  return result;
}
// 38B2B4: using guessed type wchar_t aScene_55[6];

//----- (003499E0) --------------------------------------------------------
unsigned int __cdecl sub_3499E0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 == 3 )
    v4 = 415;
  else
    v4 = -1;
  return sub_3367C0(a1, v4, (&route_files_8)[2 * a3], a2);
}

//----- (00349A30) --------------------------------------------------------
errno_t __cdecl GetScriptFile_8(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3499E0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 8);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_8)[2 * a4]);
}
// 38B370: using guessed type wchar_t aRoute_29[6];
// 38B37C: using guessed type wchar_t aScene_56[6];

//----- (00349AA0) --------------------------------------------------------
signed int __cdecl GetNextScript_8(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@7

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_3499E0(a3, 1, v3);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_8(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_9;
    case 1:
      GetScriptFile_8(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_9;
    case 2:
      (a3->vtable->SetFlagValue)(a3, L"971", 1);
      GetScriptFile_8(a3, Dst, SizeInWords, 3, 1);
LABEL_9:
      result = 1;
      break;
    case 3:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->field_1C)(a3, L"REP03_AK_E00", 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_23(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38B388: using guessed type wchar_t aScene_57[6];
// 38B394: using guessed type wchar_t a971_3[4];
// 38B39C: using guessed type wchar_t aRep03_ak_e00[13];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00349BF0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_8(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_8)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_7(a3, Dst, SizeInWords, 29, 0);
      return 1;
    case 1:
      GetScriptFile_8(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_7;
    case 2:
      GetScriptFile_8(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_7;
    case 3:
      (a3->vtable->SetFlagValue)(a3, L"971", 0);
      GetScriptFile_8(a3, Dst, SizeInWords, 2, 0);
LABEL_7:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38B3B8: using guessed type wchar_t aScene_58[6];
// 38B3C4: using guessed type wchar_t a971_4[4];

//----- (00349D00) --------------------------------------------------------
signed int __cdecl searchRoot_route_3ak(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 4; ++i )
  {
    if ( !wcscmp((&route_files_8)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 8);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38B3CC: using guessed type wchar_t aRoute_30[6];
// 38B3D8: using guessed type wchar_t aScene_59[6];

//----- (00349D70) --------------------------------------------------------
signed int __cdecl CheckScript_route_8(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") == 3 )
    v2 = 26;
  else
    v2 = CheckScript_by_flags_route_6(a1);
  return v2;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 349D70: using guessed type _DWORD __cdecl CheckScript_route_8(_DWORD);
// 38B3E4: using guessed type wchar_t aScene_60[6];

//----- (00349DC0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_8(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 4; ++i )
  {
    if ( !wcscmp((&route_files_8)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00349E10) --------------------------------------------------------
int __cdecl SetFeeling_route_8(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 38B3F0: using guessed type wchar_t aScene_61[6];

//----- (00349E60) --------------------------------------------------------
unsigned int __cdecl sub_349E60(ScriptObject *a1, int a2, int a3)
{
  return sub_3367C0(a1, -1, (&route_files_9)[2 * a3], a2);
}

//----- (00349E90) --------------------------------------------------------
errno_t __cdecl GetScriptFile_9(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_349E60(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 9);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_9)[2 * a4]);
}
// 38B4AC: using guessed type wchar_t aRoute_31[6];
// 38B4B8: using guessed type wchar_t aScene_62[6];

//----- (00349F00) --------------------------------------------------------
signed int __cdecl GetNextScript_9(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@5

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_349E60(a3, 1, v3);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_9(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_7;
    case 1:
      GetScriptFile_9(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_7;
    case 2:
      GetScriptFile_9(a3, Dst, SizeInWords, 3, 1);
LABEL_7:
      result = 1;
      break;
    case 3:
      GetScriptFile_7(a3, Dst, SizeInWords, 28, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38B4C4: using guessed type wchar_t aScene_63[6];

//----- (00349FF0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_9(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_9)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_7(a3, Dst, SizeInWords, 27, 0);
      return 1;
    case 1:
      GetScriptFile_9(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_7;
    case 2:
      GetScriptFile_9(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_7;
    case 3:
      GetScriptFile_9(a3, Dst, SizeInWords, 2, 0);
LABEL_7:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38B4D0: using guessed type wchar_t aScene_64[6];

//----- (0034A0E0) --------------------------------------------------------
signed int __cdecl searchRoot_route_3as(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 4; ++i )
  {
    if ( !wcscmp((&route_files_9)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 9);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38B4DC: using guessed type wchar_t aRoute_32[6];
// 38B4E8: using guessed type wchar_t aScene_65[6];

//----- (0034A150) --------------------------------------------------------
int __cdecl CheckScript_route_9(int a1)
{
  return CheckScript_by_flags_route_6(a1);
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 34A150: using guessed type _DWORD __cdecl CheckScript_route_9(_DWORD);

//----- (0034A180) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_9(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 4; ++i )
  {
    if ( !wcscmp((&route_files_9)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0034A1D0) --------------------------------------------------------
int __cdecl SetFeeling_route_9(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 38B4F4: using guessed type wchar_t aScene_66[6];

//----- (0034A220) --------------------------------------------------------
unsigned int __cdecl sub_34A220(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 == 2 )
    v4 = 427;
  else
    v4 = -1;
  return sub_3367C0(a1, v4, (&route_files_10)[2 * a3], a2);
}

//----- (0034A270) --------------------------------------------------------
errno_t __cdecl GetScriptFile_10(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_34A220(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 10);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_10)[2 * a4]);
}
// 38B588: using guessed type wchar_t aRoute_33[6];
// 38B594: using guessed type wchar_t aScene_67[6];

//----- (0034A2E0) --------------------------------------------------------
signed int __cdecl GetNextScript_10(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@7
  signed int result; // eax@4
  int v5; // [sp+4h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_34A220(a3, 1, v5);
  if ( !v5 )
  {
    GetScriptFile_10(a3, Dst, SizeInWords, 1, 1);
    return 1;
  }
  if ( v5 == 1 )
  {
    GetScriptFile_10(a3, Dst, SizeInWords, 2, 1);
    return 1;
  }
  if ( v5 == 2 )
  {
    (a3->vtable->field_2C)(a3);
    (a3->vtable->field_38)(a3, 1);
    (a3->vtable->SetVariable)(a3, L"BS04KCA00", 2);
    v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
    (a3->vtable->SetVariable)(a3, L"BS04KC", v3);
    if ( dword_3A6F40 )
      ClearIndexies(a3);
    GetScriptFile_24(a3, Dst, SizeInWords, 0, 0);
    result = 1;
  }
  else
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  return result;
}
// 38B5A0: using guessed type wchar_t aScene_68[6];
// 38B5AC: using guessed type wchar_t aBs04kca00[10];
// 38B5C0: using guessed type wchar_t aRoute_34[6];
// 38B5CC: using guessed type wchar_t aBs04kc[7];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (0034A420) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_10(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@5
  signed int result; // eax@4
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_10)[2 * v5], 0);
  if ( v5 )
  {
    if ( v5 == 1 )
    {
      GetScriptFile_10(a3, Dst, SizeInWords, 0, 0);
    }
    else
    {
      if ( v5 != 2 )
      {
        sub_336760(a3, Dst, SizeInWords, 0);
        return 0;
      }
      GetScriptFile_10(a3, Dst, SizeInWords, 1, 0);
    }
    result = 1;
  }
  else
  {
    v3 = (a3->vtable->GetVariable)(a3, L"BS03B0A00");
    GetScriptFile_18(a3, Dst, SizeInWords, v3, 0);
    result = 1;
  }
  return result;
}
// 38B5DC: using guessed type wchar_t aScene_69[6];
// 38B5E8: using guessed type wchar_t aBs03b0a00[10];

//----- (0034A500) --------------------------------------------------------
signed int __cdecl searchRoot_route_3b0(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 3; ++i )
  {
    if ( !wcscmp((&route_files_10)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 10);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38B5FC: using guessed type wchar_t aRoute_35[6];
// 38B608: using guessed type wchar_t aScene_70[6];

//----- (0034A570) --------------------------------------------------------
signed int __cdecl CheckScript_route_10(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") == 2 )
    v2 = 38;
  else
    v2 = CheckScript_by_flags_route_6(a1);
  return v2;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 34A570: using guessed type _DWORD __cdecl CheckScript_route_10(_DWORD);
// 38B614: using guessed type wchar_t aScene_71[6];

//----- (0034A5C0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_10(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 3; ++i )
  {
    if ( !wcscmp((&route_files_10)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0034A610) --------------------------------------------------------
int __cdecl SetFeeling_route_10(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 38B620: using guessed type wchar_t aScene_72[6];

//----- (0034A660) --------------------------------------------------------
unsigned int __cdecl sub_34A660(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 == 3 )
    v4 = 424;
  else
    v4 = -1;
  return sub_3367C0(a1, v4, (&route_files_11)[2 * a3], a2);
}

//----- (0034A6B0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_11(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_34A660(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 11);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_11)[2 * a4]);
}
// 38B6DC: using guessed type wchar_t aRoute_36[6];
// 38B6E8: using guessed type wchar_t aScene_73[6];

//----- (0034A720) --------------------------------------------------------
signed int __cdecl GetNextScript_11(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@5
  signed int result; // eax@7
  int v5; // [sp+4h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_34A660(a3, 1, v5);
  switch ( v5 )
  {
    case 0:
      (a3->vtable->SetFlagValue)(a3, L"971", 1);
      GetScriptFile_11(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_9;
    case 1:
      GetScriptFile_11(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_9;
    case 2:
      GetScriptFile_11(a3, Dst, SizeInWords, 3, 1);
LABEL_9:
      result = 1;
      break;
    case 3:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS04KCA00", v5);
      v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS04KC", v3);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_24(a3, Dst, SizeInWords, 0, 0);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38B6F4: using guessed type wchar_t aScene_74[6];
// 38B700: using guessed type wchar_t a971_5[4];
// 38B708: using guessed type wchar_t aBs04kca00_0[10];
// 38B71C: using guessed type wchar_t aRoute_37[6];
// 38B728: using guessed type wchar_t aBs04kc_0[7];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (0034A890) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_11(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  int v4; // ST18_4@2
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_11)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      v4 = (a3->vtable->GetVariable)(a3, L"BS03B1A00");
      GetScriptFile_18(a3, Dst, SizeInWords, v4, 0);
      return 1;
    case 1:
      (a3->vtable->SetFlagValue)(a3, L"971", 0);
      GetScriptFile_11(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_7;
    case 2:
      GetScriptFile_11(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_7;
    case 3:
      GetScriptFile_11(a3, Dst, SizeInWords, 2, 0);
LABEL_7:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38B738: using guessed type wchar_t aScene_75[6];
// 38B744: using guessed type wchar_t aBs03b1a00[10];
// 38B758: using guessed type wchar_t a971_6[4];

//----- (0034A9B0) --------------------------------------------------------
signed int __cdecl searchRoot_route_3b1(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 4; ++i )
  {
    if ( !wcscmp((&route_files_11)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 11);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38B760: using guessed type wchar_t aRoute_38[6];
// 38B76C: using guessed type wchar_t aScene_76[6];

//----- (0034AA20) --------------------------------------------------------
signed int __cdecl CheckScript_route_11(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") == 3 )
    v2 = 35;
  else
    v2 = CheckScript_by_flags_route_4(a1);
  return v2;
}
// 333D80: using guessed type _DWORD __cdecl CheckScript_by_flags_route_4(_DWORD);
// 34AA20: using guessed type _DWORD __cdecl CheckScript_route_11(_DWORD);
// 38B778: using guessed type wchar_t aScene_77[6];

//----- (0034AA70) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_11(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 4; ++i )
  {
    if ( !wcscmp((&route_files_11)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0034AAC0) --------------------------------------------------------
int __cdecl SetFeeling_route_11(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 38B784: using guessed type wchar_t aScene_78[6];

//----- (0034AB10) --------------------------------------------------------
unsigned int __cdecl sub_34AB10(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 == 4 )
    v4 = 429;
  else
    v4 = -1;
  return sub_3367C0(a1, v4, (&route_files_12)[2 * a3], a2);
}

//----- (0034AB60) --------------------------------------------------------
errno_t __cdecl GetScriptFile_12(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_34AB10(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 12);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_12)[2 * a4]);
}
// 38B9F8: using guessed type wchar_t aRoute_39[6];
// 38BA04: using guessed type wchar_t aScene_79[6];

//----- (0034ABD0) --------------------------------------------------------
signed int __cdecl GetNextScript_12(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@2
  signed int result; // eax@14
  int v5; // eax@29
  int v6; // [sp+8h] [bp-4h]@1

  v6 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_34AB10(a3, 1, v6);
  switch ( v6 )
  {
    case 0:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
      {
        (a3->vtable->SetVariable)(a3, L"BS03B2A02", v6);
        GetScriptFile_12(a3, Dst, SizeInWords, 2, 1);
      }
      else
      {
        GetScriptFile_12(a3, Dst, SizeInWords, 1, 1);
      }
      goto LABEL_31;
    case 1:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        GetScriptFile_12(a3, Dst, SizeInWords, 3, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03B2A02", v6);
        GetScriptFile_12(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_31;
    case 2:
      GetScriptFile_12(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_31;
    case 3:
      GetScriptFile_12(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_31;
    case 4:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_30(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 5:
      GetScriptFile_12(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_31;
    case 6:
      GetScriptFile_12(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_31;
    case 7:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_12(a3, Dst, SizeInWords, 9, 1);
        else
          GetScriptFile_12(a3, Dst, SizeInWords, 10, 1);
      }
      else
      {
        GetScriptFile_12(a3, Dst, SizeInWords, 8, 1);
      }
      goto LABEL_31;
    case 8:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_12(a3, Dst, SizeInWords, 12, 1);
      else
        GetScriptFile_12(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_31;
    case 9:
    case 10:
    case 11:
    case 12:
      (a3->vtable->SetVariable)(a3, L"BS03B2O03", v6);
      GetScriptFile_12(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_31;
    case 13:
      (a3->vtable->field_1C)(a3, L"REP03_B2_C00", 1);
      GetScriptFile_12(a3, Dst, SizeInWords, 6, 1);
LABEL_31:
      result = 1;
      break;
    case 14:
      (a3->vtable->SetFlagValue)(a3, L"969", 1);
      (a3->vtable->SetVariable)(a3, L"BS03BKA00", v6);
      v5 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS03BK", v5);
      GetScriptFile_13(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38BA10: using guessed type wchar_t aScene_80[6];
// 38BA1C: using guessed type wchar_t a001_5[4];
// 38BA24: using guessed type wchar_t a002_5[4];
// 38BA2C: using guessed type wchar_t aBs03b2a02[10];
// 38BA40: using guessed type wchar_t aBs03b2a02_0[10];
// 38BA54: using guessed type wchar_t aBs03b2o03[10];
// 38BA68: using guessed type wchar_t aRep03_b2_c00[13];
// 38BA84: using guessed type wchar_t a969_1[4];
// 38BA8C: using guessed type wchar_t aBs03bka00[10];
// 38BAA0: using guessed type wchar_t aRoute_40[6];
// 38BAAC: using guessed type wchar_t aBs03bk[7];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (0034AFB0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_12(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@4
  int v6; // ST18_4@12

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_12)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_18(a3, Dst, SizeInWords, 60, 0);
      return 1;
    case 1:
      GetScriptFile_12(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_15;
    case 2:
      v5 = (a3->vtable->GetVariable)(a3, L"BS03B2A02");
      GetScriptFile_12(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_15;
    case 3:
      GetScriptFile_12(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_15;
    case 4:
      GetScriptFile_12(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_15;
    case 5:
      GetScriptFile_12(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_15;
    case 6:
      GetScriptFile_12(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_15;
    case 7:
      GetScriptFile_12(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_15;
    case 8:
    case 9:
    case 10:
      GetScriptFile_12(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_15;
    case 11:
    case 12:
      GetScriptFile_12(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_15;
    case 13:
      v6 = (a3->vtable->GetVariable)(a3, L"BS03B2O03");
      GetScriptFile_12(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_15;
    case 14:
      GetScriptFile_12(a3, Dst, SizeInWords, 6, 0);
LABEL_15:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38BABC: using guessed type wchar_t aScene_81[6];
// 38BAC8: using guessed type wchar_t aBs03b2a02_1[10];
// 38BADC: using guessed type wchar_t aBs03b2o03_0[10];

//----- (0034B1E0) --------------------------------------------------------
signed int __cdecl searchRoot_route_3b2(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 15; ++i )
  {
    if ( !wcscmp((&route_files_12)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 12);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38BAF0: using guessed type wchar_t aRoute_41[6];
// 38BAFC: using guessed type wchar_t aScene_82[6];

//----- (0034B250) --------------------------------------------------------
signed int __cdecl CheckScript_route_12(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") == 4 )
    v2 = 40;
  else
    v2 = CheckScript_by_flags_route_6(a1);
  return v2;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 34B250: using guessed type _DWORD __cdecl CheckScript_route_12(_DWORD);
// 38BB08: using guessed type wchar_t aScene_83[6];

//----- (0034B2A0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_12(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 15; ++i )
  {
    if ( !wcscmp((&route_files_12)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0034B2F0) --------------------------------------------------------
int __cdecl SetFeeling_route_12(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@4

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  switch ( result )
  {
    case 1:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 3;
      else
        v3 = 2;
      break;
    case 7:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 9;
        else
          v3 = 10;
      }
      else
      {
        v3 = 8;
      }
      break;
    case 8:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 12;
      else
        v3 = 11;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_12)[2 * v3], a2);
  return result;
}
// 38BB14: using guessed type wchar_t aScene_84[6];

//----- (0034B3E0) --------------------------------------------------------
unsigned int __cdecl sub_34B3E0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 == 21 )
  {
    v4 = 433;
  }
  else
  {
    if ( a3 == 44 )
      v4 = 434;
    else
      v4 = -1;
  }
  return sub_3367C0(a1, v4, (&route_files_13)[2 * a3], a2);
}

//----- (0034B440) --------------------------------------------------------
errno_t __cdecl GetScriptFile_13(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_34B3E0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 13);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_13)[2 * a4]);
}
// 38C238: using guessed type wchar_t aRoute_42[6];
// 38C244: using guessed type wchar_t aScene_85[6];

//----- (0034B4B0) --------------------------------------------------------
signed int __cdecl GetNextScript_13(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@34
  signed int result; // eax@36
  int v5; // esi@67
  int v6; // [sp+8h] [bp-4h]@1

  v6 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_34B3E0(a3, 1, v6);
  switch ( v6 )
  {
    case 0:
      if ( (a3->vtable->IsFlagSet)(a3, L"969") )
        GetScriptFile_13(a3, Dst, SizeInWords, 8, 1);
      else
        GetScriptFile_13(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_81;
    case 1:
      GetScriptFile_13(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_81;
    case 2:
      (a3->vtable->SetVariable)(a3, L"BS03BKG00", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_81;
    case 3:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_13(a3, Dst, SizeInWords, 5, 1);
        else
          GetScriptFile_13(a3, Dst, SizeInWords, 6, 1);
      }
      else
      {
        GetScriptFile_13(a3, Dst, SizeInWords, 4, 1);
      }
      goto LABEL_81;
    case 4:
    case 5:
    case 6:
      (a3->vtable->SetVariable)(a3, L"BS03BKA07", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_81;
    case 7:
      GetScriptFile_13(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_81;
    case 8:
      GetScriptFile_13(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_81;
    case 9:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_13(a3, Dst, SizeInWords, 11, 1);
      else
        GetScriptFile_13(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_81;
    case 10:
    case 11:
      (a3->vtable->SetVariable)(a3, L"BS03BKA03", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_81;
    case 12:
      GetScriptFile_13(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_81;
    case 13:
      GetScriptFile_13(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_81;
    case 14:
      GetScriptFile_13(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_81;
    case 15:
      GetScriptFile_13(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_81;
    case 16:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_13(a3, Dst, SizeInWords, 18, 1);
        else
          GetScriptFile_13(a3, Dst, SizeInWords, 19, 1);
      }
      else
      {
        GetScriptFile_13(a3, Dst, SizeInWords, 17, 1);
      }
      goto LABEL_81;
    case 17:
    case 18:
    case 19:
      (a3->vtable->SetVariable)(a3, L"BS03BKD05", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_81;
    case 20:
      GetScriptFile_13(a3, Dst, SizeInWords, 39, 1);
      goto LABEL_81;
    case 21:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS04SE", v3);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_29(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 22:
      if ( (a3->vtable->IsFlagSet)(a3, L"801") )
      {
        GetScriptFile_13(a3, Dst, SizeInWords, 23, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03BKE02", v6);
        GetScriptFile_13(a3, Dst, SizeInWords, 24, 1);
      }
      goto LABEL_81;
    case 23:
      (a3->vtable->SetVariable)(a3, L"BS03BKE02", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_81;
    case 24:
      GetScriptFile_13(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_81;
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_13(a3, Dst, SizeInWords, 27, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS03BKF03", v6);
          GetScriptFile_13(a3, Dst, SizeInWords, 28, 1);
        }
      }
      else
      {
        GetScriptFile_13(a3, Dst, SizeInWords, 26, 1);
      }
      goto LABEL_81;
    case 26:
    case 27:
      (a3->vtable->SetVariable)(a3, L"BS03BKF03", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_81;
    case 28:
      (a3->vtable->SetVariable)(a3, L"BS03BKG00", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_81;
    case 29:
      GetScriptFile_13(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_81;
    case 30:
      GetScriptFile_13(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_81;
    case 31:
      if ( (a3->vtable->IsFlagSet)(a3, L"970") )
        GetScriptFile_13(a3, Dst, SizeInWords, 32, 1);
      else
        GetScriptFile_13(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_81;
    case 32:
      (a3->vtable->SetVariable)(a3, L"BS03BKI04", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_81;
    case 33:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          (a3->vtable->SetVariable)(a3, L"BS03BKI04", v6);
          GetScriptFile_13(a3, Dst, SizeInWords, 35, 1);
        }
        else
        {
          GetScriptFile_13(a3, Dst, SizeInWords, 36, 1);
        }
      }
      else
      {
        GetScriptFile_13(a3, Dst, SizeInWords, 34, 1);
      }
      goto LABEL_81;
    case 34:
    case 35:
    case 36:
      (a3->vtable->SetVariable)(a3, L"BS03BKI06", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_81;
    case 37:
      GetScriptFile_13(a3, Dst, SizeInWords, 38, 1);
      goto LABEL_81;
    case 38:
      GetScriptFile_13(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_81;
    case 39:
      v5 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v5 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_13(a3, Dst, SizeInWords, 41, 1);
      else
        GetScriptFile_13(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_81;
    case 40:
      GetScriptFile_13(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_81;
    case 41:
      if ( (a3->vtable->IsFlagSet)(a3, L"970") )
        GetScriptFile_13(a3, Dst, SizeInWords, 42, 1);
      else
        GetScriptFile_13(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_81;
    case 42:
    case 43:
      (a3->vtable->SetVariable)(a3, L"BS03BKK05", v6);
      GetScriptFile_13(a3, Dst, SizeInWords, 44, 1);
LABEL_81:
      result = 1;
      break;
    case 44:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_25(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38C250: using guessed type wchar_t aScene_86[6];
// 38C25C: using guessed type wchar_t a969_2[4];
// 38C264: using guessed type wchar_t aBs03bkg00[10];
// 38C278: using guessed type wchar_t aBs03bka07[10];
// 38C28C: using guessed type wchar_t aBs03bka03[10];
// 38C2A0: using guessed type wchar_t aBs03bkd05[10];
// 38C2B4: using guessed type wchar_t aRoute_43[6];
// 38C2C0: using guessed type wchar_t aBs04se[7];
// 38C2D0: using guessed type wchar_t a801_5[4];
// 38C2D8: using guessed type wchar_t aBs03bke02[10];
// 38C2EC: using guessed type wchar_t aBs03bke02_0[10];
// 38C300: using guessed type wchar_t aBs03bkf03[10];
// 38C314: using guessed type wchar_t aBs03bkf03_0[10];
// 38C328: using guessed type wchar_t aBs03bkg00_0[10];
// 38C33C: using guessed type wchar_t a970_1[4];
// 38C344: using guessed type wchar_t aBs03bki04[10];
// 38C358: using guessed type wchar_t aBs03bki04_0[10];
// 38C36C: using guessed type wchar_t aBs03bki06[10];
// 38C380: using guessed type wchar_t a001_6[4];
// 38C388: using guessed type wchar_t a002_6[4];
// 38C390: using guessed type wchar_t a970_2[4];
// 38C398: using guessed type wchar_t aBs03bkk05[10];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (0034BE20) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_13(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST20_4@1
  int v5; // ST1C_4@11
  int v6; // ST1C_4@13
  int v7; // ST1C_4@23
  int v8; // ST1C_4@27
  int v9; // ST1C_4@30
  int v10; // ST1C_4@31
  int v11; // ST1C_4@36
  int v12; // ST1C_4@37
  int v13; // ST1C_4@42
  int v14; // [sp+4h] [bp-Ch]@2
  int v15; // [sp+8h] [bp-8h]@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_13)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      v15 = (a3->vtable->GetVariable)(a3, L"BS03BKA00");
      v14 = (a3->vtable->GetVariable)(a3, L"BS03BK");
      if ( v15 == 106 || v15 == 14 )
        (a3->vtable->SetFlagValue)(a3, L"969", 0);
      if ( v14 == 13 )
        GetScriptFile_13(a3, Dst, SizeInWords, v15, 0);
      else
        GetScriptFile_15(a3, Dst, SizeInWords, v15, 0);
      return 1;
    case 1:
      GetScriptFile_13(a3, Dst, SizeInWords, 0, 0);
      return 1;
    case 2:
      GetScriptFile_13(a3, Dst, SizeInWords, 13, 0);
      return 1;
    case 3:
      v5 = (a3->vtable->GetVariable)(a3, L"BS03BKA03");
      GetScriptFile_13(a3, Dst, SizeInWords, v5, 0);
      return 1;
    case 4:
    case 5:
    case 6:
      GetScriptFile_13(a3, Dst, SizeInWords, 3, 0);
      return 1;
    case 7:
      v6 = (a3->vtable->GetVariable)(a3, L"BS03BKA07");
      GetScriptFile_13(a3, Dst, SizeInWords, v6, 0);
      return 1;
    case 8:
      GetScriptFile_13(a3, Dst, SizeInWords, 0, 0);
      return 1;
    case 9:
      GetScriptFile_13(a3, Dst, SizeInWords, 38, 0);
      return 1;
    case 10:
    case 11:
      GetScriptFile_13(a3, Dst, SizeInWords, 9, 0);
      return 1;
    case 12:
      GetScriptFile_13(a3, Dst, SizeInWords, 7, 0);
      return 1;
    case 13:
      GetScriptFile_13(a3, Dst, SizeInWords, 1, 0);
      return 1;
    case 14:
      GetScriptFile_13(a3, Dst, SizeInWords, 40, 0);
      return 1;
    case 15:
      GetScriptFile_13(a3, Dst, SizeInWords, 8, 0);
      return 1;
    case 16:
      GetScriptFile_13(a3, Dst, SizeInWords, 12, 0);
      return 1;
    case 17:
    case 18:
    case 19:
      GetScriptFile_13(a3, Dst, SizeInWords, 16, 0);
      return 1;
    case 20:
      v7 = (a3->vtable->GetVariable)(a3, L"BS03BKD05");
      GetScriptFile_13(a3, Dst, SizeInWords, v7, 0);
      return 1;
    case 21:
      GetScriptFile_13(a3, Dst, SizeInWords, 14, 0);
      return 1;
    case 22:
      GetScriptFile_13(a3, Dst, SizeInWords, 15, 0);
      return 1;
    case 23:
      GetScriptFile_13(a3, Dst, SizeInWords, 22, 0);
      return 1;
    case 24:
      v8 = (a3->vtable->GetVariable)(a3, L"BS03BKE02");
      GetScriptFile_13(a3, Dst, SizeInWords, v8, 0);
      return 1;
    case 25:
      GetScriptFile_13(a3, Dst, SizeInWords, 24, 0);
      return 1;
    case 26:
    case 27:
      GetScriptFile_13(a3, Dst, SizeInWords, 25, 0);
      return 1;
    case 28:
      v9 = (a3->vtable->GetVariable)(a3, L"BS03BKF03");
      GetScriptFile_13(a3, Dst, SizeInWords, v9, 0);
      return 1;
    case 29:
      v10 = (a3->vtable->GetVariable)(a3, L"BS03BKG00");
      GetScriptFile_13(a3, Dst, SizeInWords, v10, 0);
      return 1;
    case 30:
      GetScriptFile_13(a3, Dst, SizeInWords, 29, 0);
      return 1;
    case 31:
      GetScriptFile_13(a3, Dst, SizeInWords, 30, 0);
      return 1;
    case 32:
    case 33:
      GetScriptFile_13(a3, Dst, SizeInWords, 31, 0);
      return 1;
    case 34:
    case 36:
      GetScriptFile_13(a3, Dst, SizeInWords, 33, 0);
      return 1;
    case 35:
      v11 = (a3->vtable->GetVariable)(a3, L"BS03BKI04");
      GetScriptFile_13(a3, Dst, SizeInWords, v11, 0);
      return 1;
    case 37:
      v12 = (a3->vtable->GetVariable)(a3, L"BS03BKI06");
      GetScriptFile_13(a3, Dst, SizeInWords, v12, 0);
      return 1;
    case 38:
      GetScriptFile_13(a3, Dst, SizeInWords, 37, 0);
      return 1;
    case 39:
      GetScriptFile_13(a3, Dst, SizeInWords, 20, 0);
      return 1;
    case 40:
    case 41:
      GetScriptFile_13(a3, Dst, SizeInWords, 39, 0);
      return 1;
    case 42:
    case 43:
      GetScriptFile_13(a3, Dst, SizeInWords, 41, 0);
      return 1;
    case 44:
      v13 = (a3->vtable->GetVariable)(a3, L"BS03BKK05");
      GetScriptFile_13(a3, Dst, SizeInWords, v13, 0);
      break;
    default:
      break;
  }
  sub_336760(a3, Dst, SizeInWords, 0);
  return 0;
}
// 38C3AC: using guessed type wchar_t aScene_87[6];
// 38C3B8: using guessed type wchar_t aBs03bka00_0[10];
// 38C3CC: using guessed type wchar_t aBs03bk_0[7];
// 38C3DC: using guessed type wchar_t a969_3[4];
// 38C3E4: using guessed type wchar_t aBs03bka03_0[10];
// 38C3F8: using guessed type wchar_t aBs03bka07_0[10];
// 38C40C: using guessed type wchar_t aBs03bkd05_0[10];
// 38C420: using guessed type wchar_t aBs03bke02_1[10];
// 38C434: using guessed type wchar_t aBs03bkf03_1[10];
// 38C448: using guessed type wchar_t aBs03bkg00_1[10];
// 38C45C: using guessed type wchar_t aBs03bki04_1[10];
// 38C470: using guessed type wchar_t aBs03bki06_0[10];
// 38C484: using guessed type wchar_t aBs03bkk05_0[10];

//----- (0034C470) --------------------------------------------------------
signed int __cdecl searchRoot_route_3bk(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 45; ++i )
  {
    if ( !wcscmp((&route_files_13)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 13);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38C498: using guessed type wchar_t aRoute_44[6];
// 38C4A4: using guessed type wchar_t aScene_88[6];

//----- (0034C4E0) --------------------------------------------------------
signed int __cdecl CheckScript_route_13(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 == 21 )
  {
    v3 = 44;
  }
  else
  {
    if ( v2 == 44 )
      v3 = 45;
    else
      v3 = CheckScript_by_flags_route_6(a1);
  }
  return v3;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 34C4E0: using guessed type _DWORD __cdecl CheckScript_route_13(_DWORD);
// 38C4B0: using guessed type wchar_t aScene_89[6];

//----- (0034C540) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_13(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 45; ++i )
  {
    if ( !wcscmp((&route_files_13)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0034C590) --------------------------------------------------------
int __cdecl SetFeeling_route_13(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 3;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 5;
        else
          v3 = 6;
      }
      else
      {
        v3 = 4;
      }
      break;
    case 6:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 11;
      else
        v3 = 10;
      break;
    case 13:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 18;
        else
          v3 = 19;
      }
      else
      {
        v3 = 17;
      }
      break;
    case 22:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 27;
        else
          v3 = 28;
      }
      else
      {
        v3 = 26;
      }
      break;
    case 30:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 35;
        else
          v3 = 36;
      }
      else
      {
        v3 = 34;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_13)[2 * v3], a2);
  return result;
}
// 38C4BC: using guessed type wchar_t aScene_90[6];

//----- (0034C770) --------------------------------------------------------
unsigned int __cdecl sub_34C770(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@4

  if ( a3 )
  {
    if ( a3 == 22 )
    {
      v4 = 411;
    }
    else
    {
      if ( a3 == 61 )
        v4 = 410;
      else
        v4 = -1;
    }
  }
  else
  {
    v4 = 409;
  }
  return sub_3367C0(a1, v4, (&route_files_14)[2 * a3], a2);
}

//----- (0034C7E0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_14(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_34C770(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 14);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_14)[2 * a4]);
}
// 38D46C: using guessed type wchar_t aRoute_45[6];
// 38D478: using guessed type wchar_t aScene_91[6];

//----- (0034C850) --------------------------------------------------------
signed int __cdecl GetNextScript_14(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@176
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_34C770(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      GetScriptFile_14(a3, Dst, SizeInWords, 99, 1);
      goto LABEL_180;
    case 1:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 3, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 4, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_180;
    case 2:
    case 3:
    case 4:
      (a3->vtable->SetVariable)(a3, L"BS03KAA05", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_180;
    case 5:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 7, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 8, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 6, 1);
      }
      goto LABEL_180;
    case 6:
    case 7:
    case 8:
      if ( v4 == 6 )
        (a3->vtable->SetFlagValue)(a3, L"800", 1);
      (a3->vtable->SetVariable)(a3, L"BS03KAA09", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_180;
    case 9:
      GetScriptFile_14(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_180;
    case 10:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 12, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 13, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 11, 1);
      }
      goto LABEL_180;
    case 11:
    case 12:
    case 13:
      (a3->vtable->SetVariable)(a3, L"BS03KAC00", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_180;
    case 14:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 16, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 17, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 15, 1);
      }
      goto LABEL_180;
    case 15:
    case 16:
    case 17:
      (a3->vtable->SetVariable)(a3, L"BS03KAK00", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 79, 1);
      goto LABEL_180;
    case 18:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 20, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 21, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_180;
    case 19:
    case 20:
    case 21:
      (a3->vtable->SetVariable)(a3, L"BS03KAA01", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_180;
    case 22:
      (a3->vtable->SetFlagValue)(a3, L"964", 1);
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 24, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 25, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 23, 1);
      }
      goto LABEL_180;
    case 23:
    case 24:
    case 25:
      (a3->vtable->SetVariable)(a3, L"BS03KAC08", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 26, 1);
      goto LABEL_180;
    case 26:
      GetScriptFile_14(a3, Dst, SizeInWords, 80, 1);
      goto LABEL_180;
    case 27:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 44, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 45, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 43, 1);
      }
      goto LABEL_180;
    case 28:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 49, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 50, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 48, 1);
      }
      goto LABEL_180;
    case 29:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 31, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 32, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 30, 1);
      }
      goto LABEL_180;
    case 30:
    case 31:
    case 32:
      (a3->vtable->SetVariable)(a3, L"BS03KAD04", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_180;
    case 33:
      GetScriptFile_14(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_180;
    case 34:
      GetScriptFile_14(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_180;
    case 35:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 37, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 38, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 36, 1);
      }
      goto LABEL_180;
    case 36:
    case 38:
    case 39:
    case 40:
    case 41:
      (a3->vtable->SetVariable)(a3, L"BS03KAP00", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 98, 1);
      goto LABEL_180;
    case 37:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 40, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 41, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 39, 1);
      }
      goto LABEL_180;
    case 42:
      GetScriptFile_14(a3, Dst, SizeInWords, 53, 1);
      goto LABEL_180;
    case 43:
      if ( (a3->vtable->IsFlagSet)(a3, L"965") )
        GetScriptFile_14(a3, Dst, SizeInWords, 46, 1);
      else
        GetScriptFile_14(a3, Dst, SizeInWords, 47, 1);
      goto LABEL_180;
    case 44:
    case 45:
      (a3->vtable->SetVariable)(a3, L"BS03KAC10", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_180;
    case 46:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_14(a3, Dst, SizeInWords, 52, 1);
      else
        GetScriptFile_14(a3, Dst, SizeInWords, 51, 1);
      goto LABEL_180;
    case 47:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_14(a3, Dst, SizeInWords, 82, 1);
      else
        GetScriptFile_14(a3, Dst, SizeInWords, 81, 1);
      goto LABEL_180;
    case 48:
    case 49:
    case 50:
    case 51:
    case 52:
      (a3->vtable->SetVariable)(a3, L"BS03KAL02", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 83, 1);
      goto LABEL_180;
    case 53:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 55, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 56, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 54, 1);
      }
      goto LABEL_180;
    case 54:
    case 55:
    case 56:
      (a3->vtable->SetVariable)(a3, L"BS03KAH04", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 57, 1);
      goto LABEL_180;
    case 57:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 59, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 60, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 58, 1);
      }
      goto LABEL_180;
    case 58:
    case 59:
    case 60:
      (a3->vtable->SetVariable)(a3, L"BS03KAI00", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 64, 1);
      goto LABEL_180;
    case 61:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 63, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 75, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 62, 1);
      }
      goto LABEL_180;
    case 62:
      (a3->vtable->SetVariable)(a3, L"BS03KAC04", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_180;
    case 63:
      (a3->vtable->SetFlagValue)(a3, L"965", 1);
      GetScriptFile_14(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_180;
    case 64:
      GetScriptFile_14(a3, Dst, SizeInWords, 61, 1);
      goto LABEL_180;
    case 65:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 67, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 68, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 66, 1);
      }
      goto LABEL_180;
    case 66:
      (a3->vtable->SetVariable)(a3, L"BS03KAO00", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 97, 1);
      goto LABEL_180;
    case 67:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 70, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 71, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 69, 1);
      }
      goto LABEL_180;
    case 68:
      GetScriptFile_14(a3, Dst, SizeInWords, 77, 1);
      goto LABEL_180;
    case 69:
    case 70:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          (a3->vtable->SetVariable)(a3, L"BS03KAI09", v4);
          GetScriptFile_14(a3, Dst, SizeInWords, 73, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS03KAI10", v4);
          GetScriptFile_14(a3, Dst, SizeInWords, 74, 1);
        }
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03KAI08", v4);
        GetScriptFile_14(a3, Dst, SizeInWords, 72, 1);
      }
      goto LABEL_180;
    case 71:
      (a3->vtable->SetVariable)(a3, L"BS03KAN00", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 96, 1);
      goto LABEL_180;
    case 72:
    case 73:
    case 74:
      (a3->vtable->SetVariable)(a3, L"BS03KAJ03", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 78, 1);
      goto LABEL_180;
    case 75:
      (a3->vtable->SetVariable)(a3, L"BS03KAC04", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_180;
    case 76:
      (a3->vtable->SetVariable)(a3, L"BS03KAL02", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 83, 1);
      goto LABEL_180;
    case 77:
    case 78:
      (a3->vtable->SetVariable)(a3, L"BS03KAN00", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 96, 1);
      goto LABEL_180;
    case 79:
      (a3->vtable->SetFlagValue)(a3, L"802", 1);
      (a3->vtable->SetVariable)(a3, L"BS03KAC09", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_180;
    case 80:
      (a3->vtable->SetVariable)(a3, L"BS03KAC09", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_180;
    case 81:
      (a3->vtable->SetVariable)(a3, L"BS03KAL02", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 83, 1);
      goto LABEL_180;
    case 82:
      GetScriptFile_14(a3, Dst, SizeInWords, 76, 1);
      goto LABEL_180;
    case 83:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 85, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 86, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 84, 1);
      }
      goto LABEL_180;
    case 84:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_14(a3, Dst, SizeInWords, 88, 1);
        else
          GetScriptFile_14(a3, Dst, SizeInWords, 89, 1);
      }
      else
      {
        GetScriptFile_14(a3, Dst, SizeInWords, 87, 1);
      }
      goto LABEL_180;
    case 85:
    case 86:
    case 87:
    case 89:
      (a3->vtable->SetVariable)(a3, L"BS03KAM03", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 95, 1);
      goto LABEL_180;
    case 88:
      if ( (a3->vtable->IsFlagSet)(a3, L"964") )
        GetScriptFile_14(a3, Dst, SizeInWords, 90, 1);
      else
        GetScriptFile_14(a3, Dst, SizeInWords, 91, 1);
      goto LABEL_180;
    case 90:
    case 91:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          (a3->vtable->SetVariable)(a3, L"BS03KAM01", v4);
          GetScriptFile_14(a3, Dst, SizeInWords, 93, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS03KAM02", v4);
          GetScriptFile_14(a3, Dst, SizeInWords, 94, 1);
        }
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03KAM00", v4);
        GetScriptFile_14(a3, Dst, SizeInWords, 92, 1);
      }
      goto LABEL_180;
    case 92:
    case 93:
    case 94:
      (a3->vtable->SetVariable)(a3, L"BS03KAM03", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 95, 1);
      goto LABEL_180;
    case 95:
      GetScriptFile_14(a3, Dst, SizeInWords, 65, 1);
      goto LABEL_180;
    case 96:
      (a3->vtable->SetVariable)(a3, L"BS03KAO00", v4);
      GetScriptFile_14(a3, Dst, SizeInWords, 97, 1);
      goto LABEL_180;
    case 97:
      GetScriptFile_6(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 98:
      GetScriptFile_14(a3, Dst, SizeInWords, 42, 1);
      goto LABEL_180;
    case 99:
      GetScriptFile_14(a3, Dst, SizeInWords, 10, 1);
LABEL_180:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38D484: using guessed type wchar_t aScene_92[6];
// 38D490: using guessed type wchar_t aBs03kaa05[10];
// 38D4A4: using guessed type wchar_t a800[4];
// 38D4AC: using guessed type wchar_t aBs03kaa09[10];
// 38D4C0: using guessed type wchar_t aBs03kac00[10];
// 38D4D4: using guessed type wchar_t aBs03kak00[10];
// 38D4E8: using guessed type wchar_t aBs03kaa01[10];
// 38D4FC: using guessed type wchar_t a964_1[4];
// 38D504: using guessed type wchar_t aBs03kac08[10];
// 38D518: using guessed type wchar_t aBs03kad04[10];
// 38D52C: using guessed type wchar_t aBs03kap00[10];
// 38D540: using guessed type wchar_t a965_1[4];
// 38D548: using guessed type wchar_t aBs03kac10[10];
// 38D55C: using guessed type wchar_t aBs03kal02[10];
// 38D570: using guessed type wchar_t aBs03kah04[10];
// 38D584: using guessed type wchar_t aBs03kai00[10];
// 38D598: using guessed type wchar_t aBs03kac04[10];
// 38D5AC: using guessed type wchar_t a965_2[4];
// 38D5B4: using guessed type wchar_t aBs03kao00[10];
// 38D5C8: using guessed type wchar_t aBs03kai08[10];
// 38D5DC: using guessed type wchar_t aBs03kai09[10];
// 38D5F0: using guessed type wchar_t aBs03kai10[10];
// 38D604: using guessed type wchar_t aBs03kan00[10];
// 38D618: using guessed type wchar_t aBs03kaj03[10];
// 38D62C: using guessed type wchar_t aBs03kac04_0[10];
// 38D640: using guessed type wchar_t aBs03kal02_0[10];
// 38D654: using guessed type wchar_t aBs03kan00_0[10];
// 38D668: using guessed type wchar_t a802_1[4];
// 38D670: using guessed type wchar_t aBs03kac09[10];
// 38D684: using guessed type wchar_t aBs03kac09_0[10];
// 38D698: using guessed type wchar_t aBs03kal02_1[10];
// 38D6AC: using guessed type wchar_t aBs03kam03[10];
// 38D6C0: using guessed type wchar_t a964_2[4];
// 38D6C8: using guessed type wchar_t aBs03kam00[10];
// 38D6DC: using guessed type wchar_t aBs03kam01[10];
// 38D6F0: using guessed type wchar_t aBs03kam02[10];
// 38D704: using guessed type wchar_t aBs03kam03_0[10];
// 38D718: using guessed type wchar_t aBs03kao00_0[10];

//----- (0034DBC0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_14(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@3
  int v6; // ST18_4@5
  int v7; // ST18_4@14
  int v8; // ST18_4@16
  int v9; // ST18_4@18
  int v10; // ST18_4@22
  int v11; // ST18_4@25
  int v12; // ST18_4@37
  int v13; // ST18_4@41
  int v14; // ST18_4@45
  int v15; // ST18_4@46
  int v16; // ST18_4@47
  int v17; // ST18_4@51
  int v18; // ST18_4@52
  int v19; // ST18_4@55
  int v20; // ST18_4@59
  int v21; // ST18_4@60
  int v22; // ST18_4@61
  int v23; // ST18_4@62
  int v24; // ST18_4@63
  int v25; // ST18_4@64
  int v26; // ST18_4@65
  int v27; // [sp+4h] [bp-8h]@7
  int v28; // [sp+4h] [bp-8h]@19

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_14)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_5(a3, Dst, SizeInWords, 87, 0);
      return 1;
    case 1:
      v5 = (a3->vtable->GetVariable)(a3, L"BS03KAA01");
      GetScriptFile_14(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_68;
    case 2:
    case 3:
    case 4:
      GetScriptFile_14(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_68;
    case 5:
      v6 = (a3->vtable->GetVariable)(a3, L"BS03KAA05");
      GetScriptFile_14(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_68;
    case 6:
    case 7:
    case 8:
      GetScriptFile_14(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_68;
    case 9:
      v27 = (a3->vtable->GetVariable)(a3, L"BS03KAA09");
      if ( v27 == 6 )
        (a3->vtable->SetFlagValue)(a3, L"800", 0);
      GetScriptFile_14(a3, Dst, SizeInWords, v27, 0);
      goto LABEL_68;
    case 10:
      GetScriptFile_14(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_68;
    case 11:
    case 12:
    case 13:
      GetScriptFile_14(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_68;
    case 14:
      (a3->vtable->SetFlagValue)(a3, L"965", 0);
      GetScriptFile_14(a3, Dst, SizeInWords, 63, 0);
      goto LABEL_68;
    case 15:
    case 16:
    case 17:
      GetScriptFile_14(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_68;
    case 18:
      v7 = (a3->vtable->GetVariable)(a3, L"BS03KAC00");
      GetScriptFile_14(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_68;
    case 19:
    case 20:
    case 21:
      GetScriptFile_14(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_68;
    case 22:
      v8 = (a3->vtable->GetVariable)(a3, L"BS03KAC04");
      GetScriptFile_14(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_68;
    case 23:
    case 24:
    case 25:
      (a3->vtable->SetFlagValue)(a3, L"964", 0);
      GetScriptFile_14(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_68;
    case 26:
      v9 = (a3->vtable->GetVariable)(a3, L"BS03KAC08");
      GetScriptFile_14(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_68;
    case 27:
      v28 = (a3->vtable->GetVariable)(a3, L"BS03KAC09");
      if ( v28 == 79 )
        (a3->vtable->SetFlagValue)(a3, L"802", 0);
      GetScriptFile_14(a3, Dst, SizeInWords, v28, 0);
      goto LABEL_68;
    case 28:
      v10 = (a3->vtable->GetVariable)(a3, L"BS03KAC10");
      GetScriptFile_14(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_68;
    case 29:
      GetScriptFile_14(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_68;
    case 30:
    case 31:
    case 32:
      GetScriptFile_14(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_68;
    case 33:
      v11 = (a3->vtable->GetVariable)(a3, L"BS03KAD04");
      GetScriptFile_14(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_68;
    case 34:
      GetScriptFile_14(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_68;
    case 35:
      GetScriptFile_14(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_68;
    case 36:
    case 37:
    case 38:
      GetScriptFile_14(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_68;
    case 39:
    case 40:
    case 41:
      GetScriptFile_14(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_68;
    case 42:
      GetScriptFile_14(a3, Dst, SizeInWords, 98, 0);
      goto LABEL_68;
    case 43:
    case 44:
    case 45:
      GetScriptFile_14(a3, Dst, SizeInWords, 27, 0);
      goto LABEL_68;
    case 46:
    case 47:
      GetScriptFile_14(a3, Dst, SizeInWords, 43, 0);
      goto LABEL_68;
    case 48:
    case 49:
    case 50:
      GetScriptFile_14(a3, Dst, SizeInWords, 28, 0);
      goto LABEL_68;
    case 51:
    case 52:
      GetScriptFile_14(a3, Dst, SizeInWords, 46, 0);
      goto LABEL_68;
    case 53:
      GetScriptFile_14(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_68;
    case 54:
    case 55:
    case 56:
      GetScriptFile_14(a3, Dst, SizeInWords, 53, 0);
      goto LABEL_68;
    case 57:
      v12 = (a3->vtable->GetVariable)(a3, L"BS03KAH04");
      GetScriptFile_14(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_68;
    case 58:
    case 59:
    case 60:
      GetScriptFile_14(a3, Dst, SizeInWords, 57, 0);
      goto LABEL_68;
    case 61:
      GetScriptFile_14(a3, Dst, SizeInWords, 64, 0);
      goto LABEL_68;
    case 62:
    case 63:
      GetScriptFile_14(a3, Dst, SizeInWords, 61, 0);
      goto LABEL_68;
    case 64:
      v13 = (a3->vtable->GetVariable)(a3, L"BS03KAI00");
      GetScriptFile_14(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_68;
    case 65:
      GetScriptFile_14(a3, Dst, SizeInWords, 95, 0);
      goto LABEL_68;
    case 66:
    case 67:
    case 68:
      GetScriptFile_14(a3, Dst, SizeInWords, 65, 0);
      goto LABEL_68;
    case 69:
    case 70:
    case 71:
      GetScriptFile_14(a3, Dst, SizeInWords, 67, 0);
      goto LABEL_68;
    case 72:
      v14 = (a3->vtable->GetVariable)(a3, L"BS03KAI08");
      GetScriptFile_14(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_68;
    case 73:
      v15 = (a3->vtable->GetVariable)(a3, L"BS03KAI09");
      GetScriptFile_14(a3, Dst, SizeInWords, v15, 0);
      goto LABEL_68;
    case 74:
      v16 = (a3->vtable->GetVariable)(a3, L"BS03KAI10");
      GetScriptFile_14(a3, Dst, SizeInWords, v16, 0);
      goto LABEL_68;
    case 75:
      GetScriptFile_14(a3, Dst, SizeInWords, 61, 0);
      goto LABEL_68;
    case 76:
      GetScriptFile_14(a3, Dst, SizeInWords, 82, 0);
      goto LABEL_68;
    case 77:
      GetScriptFile_14(a3, Dst, SizeInWords, 68, 0);
      goto LABEL_68;
    case 78:
      v17 = (a3->vtable->GetVariable)(a3, L"BS03KAJ03");
      GetScriptFile_14(a3, Dst, SizeInWords, v17, 0);
      goto LABEL_68;
    case 79:
      v18 = (a3->vtable->GetVariable)(a3, L"BS03KAK00");
      GetScriptFile_14(a3, Dst, SizeInWords, v18, 0);
      goto LABEL_68;
    case 80:
      GetScriptFile_14(a3, Dst, SizeInWords, 26, 0);
      goto LABEL_68;
    case 81:
    case 82:
      GetScriptFile_14(a3, Dst, SizeInWords, 47, 0);
      goto LABEL_68;
    case 83:
      v19 = (a3->vtable->GetVariable)(a3, L"BS03KAL02");
      GetScriptFile_14(a3, Dst, SizeInWords, v19, 0);
      goto LABEL_68;
    case 84:
    case 85:
    case 86:
      GetScriptFile_14(a3, Dst, SizeInWords, 83, 0);
      goto LABEL_68;
    case 87:
    case 88:
    case 89:
      GetScriptFile_14(a3, Dst, SizeInWords, 84, 0);
      goto LABEL_68;
    case 90:
    case 91:
      GetScriptFile_14(a3, Dst, SizeInWords, 88, 0);
      goto LABEL_68;
    case 92:
      v20 = (a3->vtable->GetVariable)(a3, L"BS03KAM00");
      GetScriptFile_14(a3, Dst, SizeInWords, v20, 0);
      goto LABEL_68;
    case 93:
      v21 = (a3->vtable->GetVariable)(a3, L"BS03KAM01");
      GetScriptFile_14(a3, Dst, SizeInWords, v21, 0);
      goto LABEL_68;
    case 94:
      v22 = (a3->vtable->GetVariable)(a3, L"BS03KAM02");
      GetScriptFile_14(a3, Dst, SizeInWords, v22, 0);
      goto LABEL_68;
    case 95:
      v23 = (a3->vtable->GetVariable)(a3, L"BS03KAM03");
      GetScriptFile_14(a3, Dst, SizeInWords, v23, 0);
      goto LABEL_68;
    case 96:
      v24 = (a3->vtable->GetVariable)(a3, L"BS03KAN00");
      GetScriptFile_14(a3, Dst, SizeInWords, v24, 0);
      goto LABEL_68;
    case 97:
      v25 = (a3->vtable->GetVariable)(a3, L"BS03KAO00");
      GetScriptFile_14(a3, Dst, SizeInWords, v25, 0);
      goto LABEL_68;
    case 98:
      v26 = (a3->vtable->GetVariable)(a3, L"BS03KAP00");
      GetScriptFile_14(a3, Dst, SizeInWords, v26, 0);
      goto LABEL_68;
    case 99:
      GetScriptFile_14(a3, Dst, SizeInWords, 0, 0);
LABEL_68:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38D72C: using guessed type wchar_t aScene_93[6];
// 38D738: using guessed type wchar_t aBs03kaa01_0[10];
// 38D74C: using guessed type wchar_t aBs03kaa05_0[10];
// 38D760: using guessed type wchar_t aBs03kaa09_0[10];
// 38D774: using guessed type wchar_t a800_0[4];
// 38D77C: using guessed type wchar_t a965_3[4];
// 38D784: using guessed type wchar_t aBs03kac00_0[10];
// 38D798: using guessed type wchar_t aBs03kac04_1[10];
// 38D7AC: using guessed type wchar_t a964_3[4];
// 38D7B4: using guessed type wchar_t aBs03kac08_0[10];
// 38D7C8: using guessed type wchar_t aBs03kac09_1[10];
// 38D7DC: using guessed type wchar_t a802_2[4];
// 38D7E4: using guessed type wchar_t aBs03kac10_0[10];
// 38D7F8: using guessed type wchar_t aBs03kad04_0[10];
// 38D80C: using guessed type wchar_t aBs03kah04_0[10];
// 38D820: using guessed type wchar_t aBs03kai00_0[10];
// 38D834: using guessed type wchar_t aBs03kai08_0[10];
// 38D848: using guessed type wchar_t aBs03kai09_0[10];
// 38D85C: using guessed type wchar_t aBs03kai10_0[10];
// 38D870: using guessed type wchar_t aBs03kaj03_0[10];
// 38D884: using guessed type wchar_t aBs03kak00_0[10];
// 38D898: using guessed type wchar_t aBs03kal02_2[10];
// 38D8AC: using guessed type wchar_t aBs03kam00_0[10];
// 38D8C0: using guessed type wchar_t aBs03kam01_0[10];
// 38D8D4: using guessed type wchar_t aBs03kam02_0[10];
// 38D8E8: using guessed type wchar_t aBs03kam03_1[10];
// 38D8FC: using guessed type wchar_t aBs03kan00_1[10];
// 38D910: using guessed type wchar_t aBs03kao00_1[10];
// 38D924: using guessed type wchar_t aBs03kap00_0[10];

//----- (0034E710) --------------------------------------------------------
signed int __cdecl searchRoot_route_3ka(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 100; ++i )
  {
    if ( !wcscmp((&route_files_14)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 14);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38D938: using guessed type wchar_t aRoute_46[6];
// 38D944: using guessed type wchar_t aScene_94[6];

//----- (0034E780) --------------------------------------------------------
signed int __cdecl CheckScript_route_14(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@4

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 )
  {
    if ( v2 == 22 )
    {
      v3 = 22;
    }
    else
    {
      if ( v2 == 61 )
        v3 = 21;
      else
        v3 = CheckScript_by_flags_route_6(a1);
    }
  }
  else
  {
    v3 = 20;
  }
  return v3;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 34E780: using guessed type _DWORD __cdecl CheckScript_route_14(_DWORD);
// 38D950: using guessed type wchar_t aScene_95[6];

//----- (0034E7F0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_14(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 99; ++i )
  {
    if ( !wcscmp((&route_files_14)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0034E840) --------------------------------------------------------
int __cdecl SetFeeling_route_14(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 1;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 2;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 7;
        else
          v3 = 8;
      }
      else
      {
        v3 = 6;
      }
      break;
    case 9:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 12;
        else
          v3 = 13;
      }
      else
      {
        v3 = 11;
      }
      break;
    case 13:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 16;
        else
          v3 = 17;
      }
      else
      {
        v3 = 15;
      }
      break;
    case 17:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 20;
        else
          v3 = 21;
      }
      else
      {
        v3 = 19;
      }
      break;
    case 21:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 24;
        else
          v3 = 25;
      }
      else
      {
        v3 = 23;
      }
      break;
    case 26:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 44;
        else
          v3 = 45;
      }
      else
      {
        v3 = 43;
      }
      break;
    case 27:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 49;
        else
          v3 = 50;
      }
      else
      {
        v3 = 48;
      }
      break;
    case 28:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 31;
        else
          v3 = 32;
      }
      else
      {
        v3 = 30;
      }
      break;
    case 34:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 37;
        else
          v3 = 38;
      }
      else
      {
        v3 = 36;
      }
      break;
    case 36:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 40;
        else
          v3 = 41;
      }
      else
      {
        v3 = 39;
      }
      break;
    case 45:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 52;
      else
        v3 = 51;
      break;
    case 46:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 82;
      else
        v3 = 81;
      break;
    case 52:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 55;
        else
          v3 = 56;
      }
      else
      {
        v3 = 54;
      }
      break;
    case 56:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 59;
        else
          v3 = 60;
      }
      else
      {
        v3 = 58;
      }
      break;
    case 60:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 63;
        else
          v3 = 75;
      }
      else
      {
        v3 = 62;
      }
      break;
    case 64:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 67;
        else
          v3 = 68;
      }
      else
      {
        v3 = 66;
      }
      break;
    case 66:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 70;
        else
          v3 = 71;
      }
      else
      {
        v3 = 69;
      }
      break;
    case 68:
    case 69:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 73;
        else
          v3 = 74;
      }
      else
      {
        v3 = 72;
      }
      break;
    case 82:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 85;
        else
          v3 = 86;
      }
      else
      {
        v3 = 84;
      }
      break;
    case 83:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 88;
        else
          v3 = 89;
      }
      else
      {
        v3 = 87;
      }
      break;
    case 89:
    case 90:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 93;
        else
          v3 = 94;
      }
      else
      {
        v3 = 92;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_14)[2 * v3], a2);
  return result;
}
// 38D95C: using guessed type wchar_t aScene_96[6];

//----- (0034EED0) --------------------------------------------------------
unsigned int __cdecl sub_34EED0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 417;
      break;
    case 24:
      v4 = 431;
      break;
    case 53:
      v4 = 430;
      break;
    case 70:
      v4 = 432;
      break;
    case 85:
    case 108:
      v4 = 428;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_15)[2 * a3], a2);
}

//----- (0034EFE0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_15(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_34EED0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 15);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_15)[2 * a4]);
}
// 38EA9C: using guessed type wchar_t aRoute_47[6];
// 38EAA8: using guessed type wchar_t aScene_97[6];

//----- (0034F050) --------------------------------------------------------
signed int __cdecl GetNextScript_15(wchar_t *Dst, rsize_t SizeInWords, int a3)
{
  int v3; // esi@71
  int v4; // eax@105
  signed int result; // eax@105
  int v6; // eax@106
  int v7; // eax@214
  int v8; // eax@216
  int v9; // [sp+8h] [bp-4h]@1

  v9 = (*(*a3 + 8))(a3, L"SCENE");
  sub_34EED0(a3, 1, v9);
  switch ( v9 )
  {
    case 0:
      GetScriptFile_15(a3, Dst, SizeInWords, 109, 1);
      goto LABEL_221;
    case 1:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
        {
          GetScriptFile_15(a3, Dst, SizeInWords, 3, 1);
        }
        else
        {
          (*(*a3 + 12))(a3, L"BS03KBA04", v9);
          GetScriptFile_15(a3, Dst, SizeInWords, 4, 1);
        }
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_221;
    case 2:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
        {
          GetScriptFile_15(a3, Dst, SizeInWords, 6, 1);
        }
        else
        {
          (*(*a3 + 12))(a3, L"BS03KBA04", v9);
          GetScriptFile_15(a3, Dst, SizeInWords, 4, 1);
        }
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 5, 1);
      }
      goto LABEL_221;
    case 3:
    case 4:
    case 5:
    case 6:
      (*(*a3 + 12))(a3, L"BS03KBA07", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_221;
    case 7:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 9, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 10, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 8, 1);
      }
      goto LABEL_221;
    case 8:
    case 9:
    case 10:
      (*(*a3 + 12))(a3, L"BS03KBC00", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_221;
    case 11:
      GetScriptFile_15(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_221;
    case 12:
      GetScriptFile_15(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_221;
    case 13:
      GetScriptFile_15(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_221;
    case 14:
      GetScriptFile_15(a3, Dst, SizeInWords, 58, 1);
      goto LABEL_221;
    case 15:
      if ( sub_336000(a3, (&route_files_15)[2 * v9]) )
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 16, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBK08", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 74, 1);
      }
      goto LABEL_221;
    case 16:
      (*(*a3 + 20))(a3, L"973", 1);
      GetScriptFile_15(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_221;
    case 17:
      if ( (*(*a3 + 4))(a3) )
      {
        (*(*a3 + 12))(a3, L"BS03KBK08", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 74, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBM00", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 78, 1);
      }
      goto LABEL_221;
    case 18:
      GetScriptFile_15(a3, Dst, SizeInWords, 66, 1);
      goto LABEL_221;
    case 19:
      GetScriptFile_15(a3, Dst, SizeInWords, 86, 1);
      goto LABEL_221;
    case 20:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 22, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 23, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 21, 1);
      }
      goto LABEL_221;
    case 21:
    case 22:
    case 23:
      if ( v9 == 21 )
        (*(*a3 + 20))(a3, L"801", 1);
      (*(*a3 + 12))(a3, L"BS03KBD04", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_221;
    case 24:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 26, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 27, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 25, 1);
      }
      goto LABEL_221;
    case 25:
    case 27:
      (*(*a3 + 12))(a3, L"BS03KBE01", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_221;
    case 26:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 29, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 30, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 28, 1);
      }
      goto LABEL_221;
    case 28:
      (*(*a3 + 12))(a3, L"BS03KBE00", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_221;
    case 29:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 36, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 37, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 35, 1);
      }
      goto LABEL_221;
    case 30:
      if ( (*(*a3 + 4))(a3) )
      {
        (*(*a3 + 12))(a3, L"BS03KBE03", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 34, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBE02", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 33, 1);
      }
      goto LABEL_221;
    case 31:
      v3 = (*(*a3 + 8))(a3, L"001");
      if ( v3 <= (*(*a3 + 8))(a3, L"002") )
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 48, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBF00", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 42, 1);
      }
      goto LABEL_221;
    case 32:
      if ( (*(*a3 + 4))(a3) )
      {
        (*(*a3 + 12))(a3, L"BS03KBE03", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 34, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBE02", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 33, 1);
      }
      goto LABEL_221;
    case 33:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 39, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 40, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 38, 1);
      }
      goto LABEL_221;
    case 34:
    case 36:
    case 38:
    case 39:
    case 40:
    case 41:
      if ( v9 == 38 )
      {
        (*(*a3 + 20))(a3, L"974", 1);
      }
      else
      {
        if ( v9 == 41 )
          (*(*a3 + 20))(a3, L"975", 1);
      }
      (*(*a3 + 12))(a3, L"BS03KBE00", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_221;
    case 35:
    case 37:
      (*(*a3 + 12))(a3, L"BS03KBE10", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_221;
    case 42:
      if ( (*(*a3 + 16))(a3, L"976") )
        GetScriptFile_15(a3, Dst, SizeInWords, 43, 1);
      else
        GetScriptFile_15(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_221;
    case 43:
      GetScriptFile_15(a3, Dst, SizeInWords, 49, 1);
      goto LABEL_221;
    case 44:
    case 45:
    case 46:
      (*(*a3 + 12))(a3, L"BS03KBF05", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 47, 1);
      goto LABEL_221;
    case 47:
      GetScriptFile_15(a3, Dst, SizeInWords, 54, 1);
      goto LABEL_221;
    case 48:
      (*(*a3 + 20))(a3, L"976", 1);
      (*(*a3 + 12))(a3, L"BS03KBF00", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 42, 1);
      goto LABEL_221;
    case 49:
      if ( (*(*a3 + 4))(a3) )
        GetScriptFile_15(a3, Dst, SizeInWords, 51, 1);
      else
        GetScriptFile_15(a3, Dst, SizeInWords, 50, 1);
      goto LABEL_221;
    case 50:
      GetScriptFile_15(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_221;
    case 51:
      GetScriptFile_15(a3, Dst, SizeInWords, 46, 1);
      goto LABEL_221;
    case 52:
      (*(*a3 + 12))(a3, L"BS03BKA00", v9);
      v4 = (*(*a3 + 8))(a3, L"ROUTE");
      (*(*a3 + 12))(a3, L"BS03BK", v4);
      GetScriptFile_13(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 53:
      (*(*a3 + 44))(a3);
      (*(*a3 + 56))(a3, 1);
      v6 = (*(*a3 + 8))(a3, L"ROUTE");
      (*(*a3 + 12))(a3, L"BS04SG", v6);
      GetScriptFile_31(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 54:
      if ( (*(*a3 + 16))(a3, L"975") || (*(*a3 + 16))(a3, L"974") )
        GetScriptFile_15(a3, Dst, SizeInWords, 55, 1);
      else
        GetScriptFile_15(a3, Dst, SizeInWords, 56, 1);
      goto LABEL_221;
    case 55:
    case 56:
      (*(*a3 + 12))(a3, L"BS03KBI03", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 57, 1);
      goto LABEL_221;
    case 57:
      GetScriptFile_15(a3, Dst, SizeInWords, 65, 1);
      goto LABEL_221;
    case 58:
      if ( (*(*a3 + 16))(a3, L"975") )
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 59, 1);
      }
      else
      {
        if ( (*(*a3 + 16))(a3, L"974") )
          GetScriptFile_15(a3, Dst, SizeInWords, 60, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 61, 1);
      }
      goto LABEL_221;
    case 59:
    case 60:
    case 61:
      if ( v9 == 59 )
        (*(*a3 + 20))(a3, L"972", 1);
      (*(*a3 + 12))(a3, L"BS03KBI08", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 62, 1);
      goto LABEL_221;
    case 62:
      GetScriptFile_15(a3, Dst, SizeInWords, 63, 1);
      goto LABEL_221;
    case 63:
      GetScriptFile_15(a3, Dst, SizeInWords, 64, 1);
      goto LABEL_221;
    case 64:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 68, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 69, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 67, 1);
      }
      goto LABEL_221;
    case 65:
      GetScriptFile_15(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_221;
    case 66:
      GetScriptFile_15(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_221;
    case 67:
    case 68:
    case 69:
      (*(*a3 + 12))(a3, L"BS03KBK04", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 70, 1);
      goto LABEL_221;
    case 70:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 72, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 73, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 71, 1);
      }
      goto LABEL_221;
    case 71:
    case 73:
      (*(*a3 + 12))(a3, L"BS03KBL00", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 77, 1);
      goto LABEL_221;
    case 72:
      if ( (*(*a3 + 16))(a3, L"974") )
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 18, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBL00", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 77, 1);
      }
      goto LABEL_221;
    case 74:
      if ( (*(*a3 + 16))(a3, L"973") )
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 75, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBK10", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 76, 1);
      }
      goto LABEL_221;
    case 75:
      if ( (*(*a3 + 4))(a3) )
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 88, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBK10", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 76, 1);
      }
      goto LABEL_221;
    case 76:
      GetScriptFile_15(a3, Dst, SizeInWords, 79, 1);
      goto LABEL_221;
    case 77:
      (*(*a3 + 20))(a3, L"971", 1);
      GetScriptFile_15(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_221;
    case 78:
      if ( (*(*a3 + 16))(a3, L"973") )
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 82, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBM05", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 83, 1);
      }
      goto LABEL_221;
    case 79:
      GetScriptFile_15(a3, Dst, SizeInWords, 87, 1);
      goto LABEL_221;
    case 80:
      if ( (*(*a3 + 16))(a3, L"973") )
        GetScriptFile_15(a3, Dst, SizeInWords, 107, 1);
      else
        GetScriptFile_15(a3, Dst, SizeInWords, 52, 1);
      goto LABEL_221;
    case 81:
      GetScriptFile_15(a3, Dst, SizeInWords, 106, 1);
      goto LABEL_221;
    case 82:
    case 86:
      (*(*a3 + 12))(a3, L"BS03KBM05", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 83, 1);
      goto LABEL_221;
    case 83:
      GetScriptFile_15(a3, Dst, SizeInWords, 108, 1);
      goto LABEL_221;
    case 84:
      GetScriptFile_15(a3, Dst, SizeInWords, 85, 1);
      goto LABEL_221;
    case 85:
      GetScriptFile_15(a3, Dst, SizeInWords, 53, 1);
      goto LABEL_221;
    case 87:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 90, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 91, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 89, 1);
      }
      goto LABEL_221;
    case 88:
      (*(*a3 + 12))(a3, L"BS03KBM00", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 78, 1);
      goto LABEL_221;
    case 89:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_15(a3, Dst, SizeInWords, 93, 1);
        else
          GetScriptFile_15(a3, Dst, SizeInWords, 94, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 92, 1);
      }
      goto LABEL_221;
    case 90:
    case 91:
      (*(*a3 + 12))(a3, L"BS03KBO03", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 100, 1);
      goto LABEL_221;
    case 92:
      if ( (*(*a3 + 16))(a3, L"972") )
        GetScriptFile_15(a3, Dst, SizeInWords, 95, 1);
      else
        GetScriptFile_15(a3, Dst, SizeInWords, 96, 1);
      goto LABEL_221;
    case 93:
      if ( (*(*a3 + 16))(a3, L"972") )
        GetScriptFile_15(a3, Dst, SizeInWords, 97, 1);
      else
        GetScriptFile_15(a3, Dst, SizeInWords, 98, 1);
      goto LABEL_221;
    case 94:
      if ( (*(*a3 + 16))(a3, L"972") )
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 99, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBO03", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 100, 1);
      }
      goto LABEL_221;
    case 95:
    case 96:
    case 98:
    case 101:
      (*(*a3 + 12))(a3, L"BS03KBO03", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 100, 1);
      goto LABEL_221;
    case 97:
    case 99:
      (*(*a3 + 12))(a3, L"BS03KBO04", v9);
      GetScriptFile_15(a3, Dst, SizeInWords, 101, 1);
      goto LABEL_221;
    case 100:
      if ( (*(*a3 + 4))(a3) )
      {
        (*(*a3 + 12))(a3, L"BS03KBO07", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 103, 1);
      }
      else
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 102, 1);
      }
      goto LABEL_221;
    case 102:
      GetScriptFile_15(a3, Dst, SizeInWords, 104, 1);
      goto LABEL_221;
    case 103:
      (*(*a3 + 20))(a3, L"970", 1);
      (*(*a3 + 28))(a3, L"REP03_KB_N00", 1);
      if ( (*(*a3 + 16))(a3, L"972") )
        (*(*a3 + 28))(a3, L"REP03_KB_N00A", 1);
      else
        (*(*a3 + 28))(a3, L"REP03_KB_N00D", 1);
      GetScriptFile_15(a3, Dst, SizeInWords, 80, 1);
      goto LABEL_221;
    case 104:
      if ( sub_336000(a3, (&route_files_15)[2 * v9]) )
      {
        GetScriptFile_15(a3, Dst, SizeInWords, 105, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS03KBO07", v9);
        GetScriptFile_15(a3, Dst, SizeInWords, 103, 1);
      }
      goto LABEL_221;
    case 105:
      (*(*a3 + 28))(a3, L"REP03_KB_N00", 1);
      if ( (*(*a3 + 16))(a3, L"972") )
        (*(*a3 + 28))(a3, L"REP03_KB_N00C", 1);
      else
        (*(*a3 + 28))(a3, L"REP03_KB_N00B", 1);
      GetScriptFile_15(a3, Dst, SizeInWords, 81, 1);
      goto LABEL_221;
    case 106:
      (*(*a3 + 20))(a3, L"969", 1);
      (*(*a3 + 12))(a3, L"BS03BKA00", v9);
      v7 = (*(*a3 + 8))(a3, L"ROUTE");
      (*(*a3 + 12))(a3, L"BS03BK", v7);
      GetScriptFile_13(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 107:
      GetScriptFile_15(a3, Dst, SizeInWords, 84, 1);
      goto LABEL_221;
    case 108:
      (*(*a3 + 44))(a3);
      (*(*a3 + 56))(a3, 1);
      (*(*a3 + 12))(a3, L"BS04SCA00", v9);
      v8 = (*(*a3 + 8))(a3, L"ROUTE");
      (*(*a3 + 12))(a3, L"BS04SC", v8);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_28(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 109:
      GetScriptFile_15(a3, Dst, SizeInWords, 11, 1);
LABEL_221:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38EAB4: using guessed type wchar_t aScene_98[6];
// 38EAC0: using guessed type wchar_t aBs03kba04[10];
// 38EAD4: using guessed type wchar_t aBs03kba04_0[10];
// 38EAE8: using guessed type wchar_t aBs03kba07[10];
// 38EAFC: using guessed type wchar_t aBs03kbc00[10];
// 38EB10: using guessed type wchar_t aBs03kbk08[10];
// 38EB24: using guessed type wchar_t a973_1[4];
// 38EB2C: using guessed type wchar_t aBs03kbm00[10];
// 38EB40: using guessed type wchar_t aBs03kbk08_0[10];
// 38EB54: using guessed type wchar_t a801_6[4];
// 38EB5C: using guessed type wchar_t aBs03kbd04[10];
// 38EB70: using guessed type wchar_t aBs03kbe01[10];
// 38EB84: using guessed type wchar_t aBs03kbe00[10];
// 38EB98: using guessed type wchar_t aBs03kbe02[10];
// 38EBAC: using guessed type wchar_t aBs03kbe03[10];
// 38EBC0: using guessed type wchar_t a001_7[4];
// 38EBC8: using guessed type wchar_t a002_7[4];
// 38EBD0: using guessed type wchar_t aBs03kbf00[10];
// 38EBE4: using guessed type wchar_t aBs03kbe02_0[10];
// 38EBF8: using guessed type wchar_t aBs03kbe03_0[10];
// 38EC0C: using guessed type wchar_t a974_1[4];
// 38EC14: using guessed type wchar_t a975_1[4];
// 38EC1C: using guessed type wchar_t aBs03kbe00_0[10];
// 38EC30: using guessed type wchar_t aBs03kbe10[10];
// 38EC44: using guessed type wchar_t a976_1[4];
// 38EC4C: using guessed type wchar_t aBs03kbf05[10];
// 38EC60: using guessed type wchar_t a976_2[4];
// 38EC68: using guessed type wchar_t aBs03kbf00_0[10];
// 38EC7C: using guessed type wchar_t aBs03bka00_1[10];
// 38EC90: using guessed type wchar_t aRoute_48[6];
// 38EC9C: using guessed type wchar_t aBs03bk_1[7];
// 38ECAC: using guessed type wchar_t aRoute_49[6];
// 38ECB8: using guessed type wchar_t aBs04sg[7];
// 38ECC8: using guessed type wchar_t a975_2[4];
// 38ECD0: using guessed type wchar_t a974_2[4];
// 38ECD8: using guessed type wchar_t aBs03kbi03[10];
// 38ECEC: using guessed type wchar_t a975_3[4];
// 38ECF4: using guessed type wchar_t a974_3[4];
// 38ECFC: using guessed type wchar_t a972_1[4];
// 38ED04: using guessed type wchar_t aBs03kbi08[10];
// 38ED18: using guessed type wchar_t aBs03kbk04[10];
// 38ED2C: using guessed type wchar_t aBs03kbl00[10];
// 38ED40: using guessed type wchar_t a974_4[4];
// 38ED48: using guessed type wchar_t aBs03kbl00_0[10];
// 38ED5C: using guessed type wchar_t a973_2[4];
// 38ED64: using guessed type wchar_t aBs03kbk10[10];
// 38ED78: using guessed type wchar_t aBs03kbk10_0[10];
// 38ED8C: using guessed type wchar_t a971_7[4];
// 38ED94: using guessed type wchar_t a973_3[4];
// 38ED9C: using guessed type wchar_t aBs03kbm05[10];
// 38EDB0: using guessed type wchar_t a973_4[4];
// 38EDB8: using guessed type wchar_t aBs03kbm05_0[10];
// 38EDCC: using guessed type wchar_t aBs03kbm00_0[10];
// 38EDE0: using guessed type wchar_t aBs03kbo03[10];
// 38EDF4: using guessed type wchar_t a972_2[4];
// 38EDFC: using guessed type wchar_t a972_3[4];
// 38EE04: using guessed type wchar_t a972_4[4];
// 38EE0C: using guessed type wchar_t aBs03kbo03_0[10];
// 38EE20: using guessed type wchar_t aBs03kbo03_1[10];
// 38EE34: using guessed type wchar_t aBs03kbo04[10];
// 38EE48: using guessed type wchar_t aBs03kbo07[10];
// 38EE5C: using guessed type wchar_t a970_3[4];
// 38EE64: using guessed type wchar_t aRep03_kb_n00[13];
// 38EE80: using guessed type wchar_t a972_5[4];
// 38EE88: using guessed type wchar_t aRep03_kb_n00a[14];
// 38EEA4: using guessed type wchar_t aRep03_kb_n00d[14];
// 38EEC0: using guessed type wchar_t aBs03kbo07_0[10];
// 38EED4: using guessed type wchar_t aRep03_kb_n00_0[13];
// 38EEF0: using guessed type wchar_t a972_6[4];
// 38EEF8: using guessed type wchar_t aRep03_kb_n00c[14];
// 38EF14: using guessed type wchar_t aRep03_kb_n00b[14];
// 38EF30: using guessed type wchar_t a969_4[4];
// 38EF38: using guessed type wchar_t aBs03bka00_2[10];
// 38EF4C: using guessed type wchar_t aRoute_50[6];
// 38EF58: using guessed type wchar_t aBs03bk_2[7];
// 38EF68: using guessed type wchar_t aBs04sca00[10];
// 38EF7C: using guessed type wchar_t aRoute_51[6];
// 38EF88: using guessed type wchar_t aBs04sc[7];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00350960) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_15(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@5
  int v6; // ST18_4@7
  int v7; // ST18_4@11
  int v8; // ST18_4@30
  int v9; // ST18_4@31
  int v10; // ST18_4@32
  int v11; // ST18_4@35
  int v12; // ST18_4@42
  int v13; // ST18_4@50
  int v14; // ST18_4@61
  int v15; // ST18_4@63
  int v16; // ST18_4@65
  int v17; // ST18_4@66
  int v18; // ST18_4@67
  int v19; // ST18_4@72
  int v20; // ST18_4@83
  int v21; // ST18_4@84
  int v22; // ST18_4@86
  int v23; // [sp+4h] [bp-8h]@20
  int v24; // [sp+4h] [bp-8h]@25
  int v25; // [sp+4h] [bp-8h]@36
  int v26; // [sp+4h] [bp-8h]@53

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_15)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_4(a3, Dst, SizeInWords, 41, 0);
      return 1;
    case 1:
      GetScriptFile_15(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_94;
    case 2:
    case 3:
      GetScriptFile_15(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_94;
    case 4:
      v5 = (a3->vtable->GetVariable)(a3, L"BS03KBA04");
      GetScriptFile_15(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_94;
    case 5:
    case 6:
      GetScriptFile_15(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_94;
    case 7:
      v6 = (a3->vtable->GetVariable)(a3, L"BS03KBA07");
      GetScriptFile_15(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_94;
    case 8:
    case 9:
    case 10:
      GetScriptFile_15(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_94;
    case 11:
      GetScriptFile_15(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_94;
    case 12:
      GetScriptFile_15(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_94;
    case 13:
      v7 = (a3->vtable->GetVariable)(a3, L"BS03KBC00");
      GetScriptFile_15(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_94;
    case 14:
      GetScriptFile_15(a3, Dst, SizeInWords, 65, 0);
      goto LABEL_94;
    case 15:
      (a3->vtable->SetFlagValue)(a3, L"971", 0);
      GetScriptFile_15(a3, Dst, SizeInWords, 77, 0);
      goto LABEL_94;
    case 16:
      GetScriptFile_15(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_94;
    case 17:
      (a3->vtable->SetFlagValue)(a3, L"973", 0);
      GetScriptFile_15(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_94;
    case 18:
      GetScriptFile_15(a3, Dst, SizeInWords, 72, 0);
      goto LABEL_94;
    case 19:
      GetScriptFile_15(a3, Dst, SizeInWords, 66, 0);
      goto LABEL_94;
    case 20:
      GetScriptFile_15(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_94;
    case 21:
    case 22:
    case 23:
      GetScriptFile_15(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_94;
    case 24:
      v23 = (a3->vtable->GetVariable)(a3, L"BS03KBD04");
      if ( v23 == 21 )
        (a3->vtable->SetFlagValue)(a3, L"801", 0);
      GetScriptFile_15(a3, Dst, SizeInWords, v23, 0);
      goto LABEL_94;
    case 25:
    case 26:
    case 27:
      GetScriptFile_15(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_94;
    case 28:
    case 29:
    case 30:
      GetScriptFile_15(a3, Dst, SizeInWords, 26, 0);
      goto LABEL_94;
    case 31:
      v24 = (a3->vtable->GetVariable)(a3, L"BS03KBE00");
      if ( v24 == 38 )
      {
        (a3->vtable->SetFlagValue)(a3, L"974", 0);
      }
      else
      {
        if ( v24 == 41 )
          (a3->vtable->SetFlagValue)(a3, L"975", 0);
      }
      GetScriptFile_15(a3, Dst, SizeInWords, v24, 0);
      goto LABEL_94;
    case 32:
      v8 = (a3->vtable->GetVariable)(a3, L"BS03KBE01");
      GetScriptFile_15(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_94;
    case 33:
      v9 = (a3->vtable->GetVariable)(a3, L"BS03KBE02");
      GetScriptFile_15(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_94;
    case 34:
      v10 = (a3->vtable->GetVariable)(a3, L"BS03KBE03");
      GetScriptFile_15(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_94;
    case 35:
    case 36:
    case 37:
      GetScriptFile_15(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_94;
    case 38:
    case 39:
    case 40:
      GetScriptFile_15(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_94;
    case 41:
      v11 = (a3->vtable->GetVariable)(a3, L"BS03KBE10");
      GetScriptFile_15(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_94;
    case 42:
      v25 = (a3->vtable->GetVariable)(a3, L"BS03KBF00");
      if ( v25 == 48 )
        (a3->vtable->SetFlagValue)(a3, L"976", 0);
      GetScriptFile_15(a3, Dst, SizeInWords, v25, 0);
      goto LABEL_94;
    case 43:
    case 44:
      GetScriptFile_15(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_94;
    case 45:
      GetScriptFile_15(a3, Dst, SizeInWords, 50, 0);
      goto LABEL_94;
    case 46:
      GetScriptFile_15(a3, Dst, SizeInWords, 51, 0);
      goto LABEL_94;
    case 47:
      v12 = (a3->vtable->GetVariable)(a3, L"BS03KBF05");
      GetScriptFile_15(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_94;
    case 48:
      GetScriptFile_15(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_94;
    case 49:
      GetScriptFile_15(a3, Dst, SizeInWords, 43, 0);
      goto LABEL_94;
    case 50:
    case 51:
      GetScriptFile_15(a3, Dst, SizeInWords, 49, 0);
      goto LABEL_94;
    case 52:
      GetScriptFile_15(a3, Dst, SizeInWords, 80, 0);
      goto LABEL_94;
    case 53:
      GetScriptFile_15(a3, Dst, SizeInWords, 85, 0);
      goto LABEL_94;
    case 54:
      GetScriptFile_15(a3, Dst, SizeInWords, 47, 0);
      goto LABEL_94;
    case 55:
    case 56:
      GetScriptFile_15(a3, Dst, SizeInWords, 54, 0);
      goto LABEL_94;
    case 57:
      v13 = (a3->vtable->GetVariable)(a3, L"BS03KBI03");
      GetScriptFile_15(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_51;
    case 58:
LABEL_51:
      GetScriptFile_15(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_94;
    case 59:
    case 60:
    case 61:
      GetScriptFile_15(a3, Dst, SizeInWords, 58, 0);
      goto LABEL_94;
    case 62:
      v26 = (a3->vtable->GetVariable)(a3, L"BS03KBI08");
      if ( v26 == 59 )
        (a3->vtable->SetFlagValue)(a3, L"972", 0);
      GetScriptFile_15(a3, Dst, SizeInWords, v26, 0);
      goto LABEL_94;
    case 63:
      GetScriptFile_15(a3, Dst, SizeInWords, 62, 0);
      goto LABEL_94;
    case 64:
      GetScriptFile_15(a3, Dst, SizeInWords, 63, 0);
      goto LABEL_94;
    case 65:
      GetScriptFile_15(a3, Dst, SizeInWords, 57, 0);
      goto LABEL_94;
    case 66:
      GetScriptFile_15(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_94;
    case 67:
    case 68:
    case 69:
      GetScriptFile_15(a3, Dst, SizeInWords, 64, 0);
      goto LABEL_94;
    case 70:
      v14 = (a3->vtable->GetVariable)(a3, L"BS03KBK04");
      GetScriptFile_15(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_94;
    case 71:
    case 72:
    case 73:
      GetScriptFile_15(a3, Dst, SizeInWords, 70, 0);
      goto LABEL_94;
    case 74:
      v15 = (a3->vtable->GetVariable)(a3, L"BS03KBK08");
      GetScriptFile_15(a3, Dst, SizeInWords, v15, 0);
      goto LABEL_94;
    case 75:
      GetScriptFile_15(a3, Dst, SizeInWords, 74, 0);
      goto LABEL_94;
    case 76:
      v16 = (a3->vtable->GetVariable)(a3, L"BS03KBK10");
      GetScriptFile_15(a3, Dst, SizeInWords, v16, 0);
      goto LABEL_94;
    case 77:
      v17 = (a3->vtable->GetVariable)(a3, L"BS03KBL00");
      GetScriptFile_15(a3, Dst, SizeInWords, v17, 0);
      goto LABEL_94;
    case 78:
      v18 = (a3->vtable->GetVariable)(a3, L"BS03KBM00");
      GetScriptFile_15(a3, Dst, SizeInWords, v18, 0);
      goto LABEL_94;
    case 79:
      GetScriptFile_15(a3, Dst, SizeInWords, 76, 0);
      goto LABEL_94;
    case 80:
      (a3->vtable->SetFlagValue)(a3, L"970", 0);
      GetScriptFile_15(a3, Dst, SizeInWords, 103, 0);
      goto LABEL_94;
    case 81:
      GetScriptFile_15(a3, Dst, SizeInWords, 105, 0);
      goto LABEL_94;
    case 82:
      GetScriptFile_15(a3, Dst, SizeInWords, 78, 0);
      goto LABEL_94;
    case 83:
      v19 = (a3->vtable->GetVariable)(a3, L"BS03KBM05");
      GetScriptFile_15(a3, Dst, SizeInWords, v19, 0);
      goto LABEL_94;
    case 84:
      GetScriptFile_15(a3, Dst, SizeInWords, 107, 0);
      goto LABEL_94;
    case 85:
      GetScriptFile_15(a3, Dst, SizeInWords, 84, 0);
      goto LABEL_94;
    case 86:
      GetScriptFile_15(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_94;
    case 87:
      GetScriptFile_15(a3, Dst, SizeInWords, 79, 0);
      goto LABEL_94;
    case 88:
      GetScriptFile_15(a3, Dst, SizeInWords, 75, 0);
      goto LABEL_94;
    case 89:
    case 90:
    case 91:
      GetScriptFile_15(a3, Dst, SizeInWords, 87, 0);
      goto LABEL_94;
    case 92:
    case 93:
    case 94:
      GetScriptFile_15(a3, Dst, SizeInWords, 89, 0);
      goto LABEL_94;
    case 95:
    case 96:
      GetScriptFile_15(a3, Dst, SizeInWords, 92, 0);
      goto LABEL_94;
    case 97:
    case 98:
      GetScriptFile_15(a3, Dst, SizeInWords, 93, 0);
      goto LABEL_94;
    case 99:
      GetScriptFile_15(a3, Dst, SizeInWords, 94, 0);
      goto LABEL_94;
    case 100:
      v20 = (a3->vtable->GetVariable)(a3, L"BS03KBO03");
      GetScriptFile_15(a3, Dst, SizeInWords, v20, 0);
      goto LABEL_94;
    case 101:
      v21 = (a3->vtable->GetVariable)(a3, L"BS03KBO04");
      GetScriptFile_15(a3, Dst, SizeInWords, v21, 0);
      goto LABEL_94;
    case 102:
      GetScriptFile_15(a3, Dst, SizeInWords, 100, 0);
      goto LABEL_94;
    case 103:
      v22 = (a3->vtable->GetVariable)(a3, L"BS03KBO07");
      GetScriptFile_15(a3, Dst, SizeInWords, v22, 0);
      goto LABEL_94;
    case 104:
      GetScriptFile_15(a3, Dst, SizeInWords, 102, 0);
      goto LABEL_94;
    case 105:
      GetScriptFile_15(a3, Dst, SizeInWords, 104, 0);
      goto LABEL_94;
    case 106:
      GetScriptFile_15(a3, Dst, SizeInWords, 81, 0);
      goto LABEL_94;
    case 107:
      GetScriptFile_15(a3, Dst, SizeInWords, 80, 0);
      goto LABEL_94;
    case 108:
      GetScriptFile_15(a3, Dst, SizeInWords, 83, 0);
      goto LABEL_94;
    case 109:
      GetScriptFile_15(a3, Dst, SizeInWords, 0, 0);
LABEL_94:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38EF98: using guessed type wchar_t asc_38EF98[6];
// 38EFA4: using guessed type wchar_t aBs03kba04_1[10];
// 38EFB8: using guessed type wchar_t aBs03kba07_0[10];
// 38EFCC: using guessed type wchar_t aBs03kbc00_0[10];
// 38EFE0: using guessed type wchar_t a971_8[4];
// 38EFE8: using guessed type wchar_t a973_5[4];
// 38EFF0: using guessed type wchar_t aBs03kbd04_0[10];
// 38F004: using guessed type wchar_t a801_7[4];
// 38F00C: using guessed type wchar_t aBs03kbe00_1[10];
// 38F020: using guessed type wchar_t a974_5[4];
// 38F028: using guessed type wchar_t a975_4[4];
// 38F030: using guessed type wchar_t aBs03kbe01_0[10];
// 38F044: using guessed type wchar_t aBs03kbe02_1[10];
// 38F058: using guessed type wchar_t aBs03kbe03_1[10];
// 38F06C: using guessed type wchar_t aBs03kbe10_0[10];
// 38F080: using guessed type wchar_t aBs03kbf00_1[10];
// 38F094: using guessed type wchar_t a976_3[4];
// 38F09C: using guessed type wchar_t aBs03kbf05_0[10];
// 38F0B0: using guessed type wchar_t aBs03kbi03_0[10];
// 38F0C4: using guessed type wchar_t aBs03kbi08_0[10];
// 38F0D8: using guessed type wchar_t a972_7[4];
// 38F0E0: using guessed type wchar_t aBs03kbk04_0[10];
// 38F0F4: using guessed type wchar_t aBs03kbk08_1[10];
// 38F108: using guessed type wchar_t aBs03kbk10_1[10];
// 38F11C: using guessed type wchar_t aBs03kbl00_1[10];
// 38F130: using guessed type wchar_t aBs03kbm00_1[10];
// 38F144: using guessed type wchar_t a970_4[4];
// 38F14C: using guessed type wchar_t aBs03kbm05_1[10];
// 38F160: using guessed type wchar_t aBs03kbo03_2[10];
// 38F174: using guessed type wchar_t aBs03kbo04_0[10];
// 38F188: using guessed type wchar_t aBs03kbo07_1[10];

//----- (00351780) --------------------------------------------------------
signed int __cdecl searchRoot_route_3kb(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 110; ++i )
  {
    if ( !wcscmp((&route_files_15)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 15);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38F19C: using guessed type wchar_t aRoute_52[6];
// 38F1A8: using guessed type wchar_t asc_38F1A8[6];

//----- (003517F0) --------------------------------------------------------
signed int __cdecl CheckScript_route_15(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 28;
      break;
    case 24:
      v2 = 42;
      break;
    case 53:
      v2 = 41;
      break;
    case 70:
      v2 = 43;
      break;
    case 85:
    case 108:
      v2 = 39;
      break;
    default:
      v2 = CheckScript_by_flags_route_6(a1);
      break;
  }
  return v2;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 3517F0: using guessed type _DWORD __cdecl CheckScript_route_15(_DWORD);
// 38F1B4: using guessed type wchar_t asc_38F1B4[6];

//----- (00351900) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_15(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 109; ++i )
  {
    if ( !wcscmp((&route_files_15)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00351950) --------------------------------------------------------
int __cdecl SetFeeling_route_15(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 1;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 2;
      }
      break;
    case 1:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 6;
        else
          v3 = 4;
      }
      else
      {
        v3 = 5;
      }
      break;
    case 6:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 9;
        else
          v3 = 10;
      }
      else
      {
        v3 = 8;
      }
      break;
    case 16:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 74;
      else
        v3 = 78;
      break;
    case 19:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 22;
        else
          v3 = 23;
      }
      else
      {
        v3 = 21;
      }
      break;
    case 23:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 26;
        else
          v3 = 27;
      }
      else
      {
        v3 = 25;
      }
      break;
    case 25:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 29;
        else
          v3 = 30;
      }
      else
      {
        v3 = 28;
      }
      break;
    case 28:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 36;
        else
          v3 = 37;
      }
      else
      {
        v3 = 35;
      }
      break;
    case 29:
    case 31:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 34;
      else
        v3 = 33;
      break;
    case 32:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 39;
        else
          v3 = 40;
      }
      else
      {
        v3 = 38;
      }
      break;
    case 48:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 51;
      else
        v3 = 50;
      break;
    case 63:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 68;
        else
          v3 = 69;
      }
      else
      {
        v3 = 67;
      }
      break;
    case 69:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 72;
        else
          v3 = 73;
      }
      else
      {
        v3 = 71;
      }
      break;
    case 74:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 88;
      else
        v3 = 76;
      break;
    case 86:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 90;
        else
          v3 = 91;
      }
      else
      {
        v3 = 89;
      }
      break;
    case 88:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 93;
        else
          v3 = 94;
      }
      else
      {
        v3 = 92;
      }
      break;
    case 99:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 103;
      else
        v3 = 102;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_15)[2 * v3], a2);
  return result;
}
// 38F1C0: using guessed type wchar_t asc_38F1C0[6];

//----- (00351E40) --------------------------------------------------------
unsigned int __cdecl sub_351E40(ScriptObject *a1, int a2, int a3)
{
  return sub_3367C0(a1, -1, (&route_files_16)[2 * a3], a2);
}

//----- (00351E70) --------------------------------------------------------
errno_t __cdecl sub_351E70(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_351E40(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 16);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_16)[2 * a4]);
}
// 38F204: using guessed type wchar_t aRoute_53[6];
// 38F210: using guessed type wchar_t asc_38F210[6];

//----- (00351EE0) --------------------------------------------------------
signed int __cdecl GetNextScript_16(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_351E40(a3, 1, v3);
  if ( v3 )
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  else
  {
    (a3->vtable->SetVariable)(a3, L"BS03SAB07", 0);
    GetScriptFile_17(a3, Dst, SizeInWords, 8, 1);
    result = 1;
  }
  return result;
}
// 38F21C: using guessed type wchar_t asc_38F21C[6];
// 38F228: using guessed type wchar_t aBs03sab07[10];

//----- (00351F80) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_16(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_16)[2 * v3], 0);
  if ( v3 )
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  else
  {
    GetScriptFile_17(a3, Dst, SizeInWords, 17, 0);
    result = 1;
  }
  return result;
}
// 38F23C: using guessed type wchar_t asc_38F23C[6];

//----- (00352010) --------------------------------------------------------
signed int __cdecl searchRoot_route_3s0(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_16)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 16);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 38F248: using guessed type wchar_t aRoute_54[6];
// 38F254: using guessed type wchar_t asc_38F254[6];

//----- (00352080) --------------------------------------------------------
int __cdecl CheckScript_route_16(int a1)
{
  return CheckScript_by_flags_route_6(a1);
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 352080: using guessed type _DWORD __cdecl CheckScript_route_16(_DWORD);

//----- (003520B0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_16(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_16)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00352100) --------------------------------------------------------
int __cdecl SetFeeling_route_16(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 38F260: using guessed type wchar_t asc_38F260[6];

//----- (00352150) --------------------------------------------------------
unsigned int __cdecl sub_352150(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 408;
      break;
    case 19:
      v4 = 400;
      break;
    case 51:
      v4 = 401;
      break;
    case 55:
      v4 = 403;
      break;
    case 36:
      v4 = 402;
      break;
    case 10:
      v4 = 404;
      break;
    case 16:
      v4 = 405;
      break;
    case 61:
      v4 = 407;
      break;
    case 67:
      v4 = 406;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_17)[2 * a3], a2);
}

//----- (00352270) --------------------------------------------------------
errno_t __cdecl GetScriptFile_17(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_352150(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 17);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_17)[2 * a4]);
}
// 38FDD8: using guessed type wchar_t aRoute_55[6];
// 38FDE4: using guessed type wchar_t asc_38FDE4[6];

//----- (003522E0) --------------------------------------------------------
signed int __cdecl GetNextScript_17(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@17
  int v4; // esi@22
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_352150(a3, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_17(a3, Dst, SizeInWords, 72, 1);
      goto LABEL_133;
    case 1:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_17(a3, Dst, SizeInWords, 3, 1);
        else
          GetScriptFile_17(a3, Dst, SizeInWords, 4, 1);
      }
      else
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_133;
    case 2:
    case 3:
    case 4:
      (a3->vtable->SetVariable)(a3, L"BS03SAB04", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_133;
    case 5:
      GetScriptFile_17(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_133;
    case 6:
      GetScriptFile_17(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_133;
    case 7:
      (a3->vtable->SetVariable)(a3, L"BS03SAI00", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 59, 1);
      goto LABEL_133;
    case 8:
      (a3->vtable->field_1C)(a3, L"REP03_SA_B07", 1);
      GetScriptFile_17(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_133;
    case 9:
      GetScriptFile_17(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_133;
    case 10:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetFlagValue)(a3, L"969", 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_22(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 11:
      (a3->vtable->SetFlagValue)(a3, L"944", 1);
      GetScriptFile_17(a3, Dst, SizeInWords, 60, 1);
      goto LABEL_133;
    case 12:
      GetScriptFile_17(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_133;
    case 13:
      (a3->vtable->SetVariable)(a3, L"BS03SAI00", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 59, 1);
      goto LABEL_133;
    case 14:
      GetScriptFile_17(a3, Dst, SizeInWords, 69, 1);
      goto LABEL_133;
    case 15:
      v4 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v4 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_17(a3, Dst, SizeInWords, 17, 1);
      else
        GetScriptFile_17(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_133;
    case 16:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS04SBA00", v5);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_27(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 17:
      sub_351E70(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 18:
      GetScriptFile_17(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_133;
    case 19:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_17(a3, Dst, SizeInWords, 21, 1);
      else
        GetScriptFile_17(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_133;
    case 20:
      GetScriptFile_17(a3, Dst, SizeInWords, 46, 1);
      goto LABEL_133;
    case 21:
      GetScriptFile_17(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_133;
    case 22:
      GetScriptFile_17(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_133;
    case 23:
      (a3->vtable->SetFlagValue)(a3, L"961", 1);
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_17(a3, Dst, SizeInWords, 25, 1);
        else
          GetScriptFile_17(a3, Dst, SizeInWords, 26, 1);
      }
      else
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 24, 1);
      }
      goto LABEL_133;
    case 24:
      GetScriptFile_17(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_133;
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_17(a3, Dst, SizeInWords, 28, 1);
        else
          GetScriptFile_17(a3, Dst, SizeInWords, 29, 1);
      }
      else
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 27, 1);
      }
      goto LABEL_133;
    case 26:
    case 29:
    case 30:
      (a3->vtable->SetVariable)(a3, L"BS03SAG01", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_133;
    case 27:
    case 28:
      (a3->vtable->SetVariable)(a3, L"BS03SAE08", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_133;
    case 31:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_17(a3, Dst, SizeInWords, 14, 1);
      else
        GetScriptFile_17(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_133;
    case 32:
      GetScriptFile_17(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_133;
    case 33:
      GetScriptFile_17(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_133;
    case 34:
      if ( (a3->vtable->IsFlagSet)(a3, L"961") )
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 35, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SAF04", v5);
        GetScriptFile_17(a3, Dst, SizeInWords, 36, 1);
      }
      goto LABEL_133;
    case 35:
      (a3->vtable->SetVariable)(a3, L"BS03SAF04", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_133;
    case 36:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_17(a3, Dst, SizeInWords, 38, 1);
        else
          GetScriptFile_17(a3, Dst, SizeInWords, 39, 1);
      }
      else
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 37, 1);
      }
      goto LABEL_133;
    case 37:
    case 39:
      (a3->vtable->SetVariable)(a3, L"BS03SAF08", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_133;
    case 38:
      GetScriptFile_17(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_133;
    case 40:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_17(a3, Dst, SizeInWords, 42, 1);
      else
        GetScriptFile_17(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_133;
    case 41:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS03SAJ05", v5);
        GetScriptFile_17(a3, Dst, SizeInWords, 66, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SAJ04", v5);
        GetScriptFile_17(a3, Dst, SizeInWords, 65, 1);
      }
      goto LABEL_133;
    case 42:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_17(a3, Dst, SizeInWords, 63, 1);
        else
          GetScriptFile_17(a3, Dst, SizeInWords, 64, 1);
      }
      else
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 62, 1);
      }
      goto LABEL_133;
    case 43:
    case 44:
      (a3->vtable->SetVariable)(a3, L"BS03SAG02", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_133;
    case 45:
    case 50:
      (a3->vtable->SetVariable)(a3, L"BS03SAG08", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 51, 1);
      goto LABEL_133;
    case 46:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_17(a3, Dst, SizeInWords, 48, 1);
        else
          GetScriptFile_17(a3, Dst, SizeInWords, 49, 1);
      }
      else
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 47, 1);
      }
      goto LABEL_133;
    case 47:
    case 48:
    case 49:
      (a3->vtable->SetVariable)(a3, L"BS03SAG07", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 50, 1);
      goto LABEL_133;
    case 51:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_17(a3, Dst, SizeInWords, 53, 1);
        else
          GetScriptFile_17(a3, Dst, SizeInWords, 54, 1);
      }
      else
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 52, 1);
      }
      goto LABEL_133;
    case 52:
    case 53:
      (a3->vtable->SetVariable)(a3, L"BS03SAH01", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 55, 1);
      goto LABEL_133;
    case 54:
      GetScriptFile_17(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_133;
    case 55:
      (a3->vtable->SetFlagValue)(a3, L"960", 1);
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_17(a3, Dst, SizeInWords, 57, 1);
        else
          GetScriptFile_17(a3, Dst, SizeInWords, 58, 1);
      }
      else
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 56, 1);
      }
      goto LABEL_133;
    case 56:
    case 57:
    case 58:
      (a3->vtable->SetVariable)(a3, L"BS03SAE09", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_133;
    case 59:
      (a3->vtable->SetVariable)(a3, L"BS03SAB07", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_133;
    case 60:
      GetScriptFile_17(a3, Dst, SizeInWords, 61, 1);
      goto LABEL_133;
    case 61:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS04SBA00", v5);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_27(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 62:
    case 66:
      (a3->vtable->SetVariable)(a3, L"BS03SAJ06", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 67, 1);
      goto LABEL_133;
    case 63:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS03SAJ05", v5);
        GetScriptFile_17(a3, Dst, SizeInWords, 66, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SAJ04", v5);
        GetScriptFile_17(a3, Dst, SizeInWords, 65, 1);
      }
      goto LABEL_133;
    case 64:
    case 65:
      (a3->vtable->SetVariable)(a3, L"BS03SAJ07", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 68, 1);
      goto LABEL_133;
    case 67:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS04SBA00", v5);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_27(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 68:
      GetScriptFile_17(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_133;
    case 69:
      if ( (a3->vtable->IsFlagSet)(a3, L"961") )
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 70, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SAJ10", v5);
        GetScriptFile_17(a3, Dst, SizeInWords, 71, 1);
      }
      goto LABEL_133;
    case 70:
      (a3->vtable->SetVariable)(a3, L"BS03SAJ10", v5);
      GetScriptFile_17(a3, Dst, SizeInWords, 71, 1);
      goto LABEL_133;
    case 71:
      GetScriptFile_17(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_133;
    case 72:
      GetScriptFile_17(a3, Dst, SizeInWords, 1, 1);
LABEL_133:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 38FDF0: using guessed type wchar_t asc_38FDF0[6];
// 38FDFC: using guessed type wchar_t aBs03sab04[10];
// 38FE10: using guessed type wchar_t aBs03sai00[10];
// 38FE24: using guessed type wchar_t aRep03_sa_b07[13];
// 38FE40: using guessed type wchar_t a969_5[4];
// 38FE48: using guessed type wchar_t a944[4];
// 38FE50: using guessed type wchar_t aBs03sai00_0[10];
// 38FE64: using guessed type wchar_t a001_8[4];
// 38FE6C: using guessed type wchar_t a002_8[4];
// 38FE74: using guessed type wchar_t aBs04sba00[10];
// 38FE88: using guessed type wchar_t a961_0[4];
// 38FE90: using guessed type wchar_t aBs03sag01[10];
// 38FEA4: using guessed type wchar_t aBs03sae08[10];
// 38FEB8: using guessed type wchar_t a961_1[4];
// 38FEC0: using guessed type wchar_t aBs03saf04[10];
// 38FED4: using guessed type wchar_t aBs03saf04_0[10];
// 38FEE8: using guessed type wchar_t aBs03saf08[10];
// 38FEFC: using guessed type wchar_t aBs03saj04[10];
// 38FF10: using guessed type wchar_t aBs03saj05[10];
// 38FF24: using guessed type wchar_t aBs03sag02[10];
// 38FF38: using guessed type wchar_t aBs03sag08[10];
// 38FF4C: using guessed type wchar_t aBs03sag07[10];
// 38FF60: using guessed type wchar_t aBs03sah01[10];
// 38FF74: using guessed type wchar_t a960_0[4];
// 38FF7C: using guessed type wchar_t aBs03sae09[10];
// 38FF90: using guessed type wchar_t aBs03sab07_0[10];
// 38FFA4: using guessed type wchar_t aBs04sba00_0[10];
// 38FFB8: using guessed type wchar_t aBs03saj06[10];
// 38FFCC: using guessed type wchar_t aBs03saj04_0[10];
// 38FFE0: using guessed type wchar_t aBs03saj05_0[10];
// 38FFF4: using guessed type wchar_t aBs03saj07[10];
// 390008: using guessed type wchar_t aBs04sba00_1[10];
// 39001C: using guessed type wchar_t a961_2[4];
// 390024: using guessed type wchar_t aBs03saj10[10];
// 390038: using guessed type wchar_t aBs03saj10_0[10];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00353290) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_17(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  int v5; // ST18_4@5
  int v6; // ST18_4@28
  int v7; // ST18_4@29
  int v8; // ST18_4@34
  int v9; // ST18_4@36
  int v10; // ST18_4@39
  int v11; // ST18_4@40
  int v12; // ST18_4@43
  int v13; // ST18_4@44
  int v14; // ST18_4@46
  int v15; // ST18_4@48
  int v16; // ST18_4@52
  int v17; // ST18_4@53
  int v18; // ST18_4@54
  int v19; // ST18_4@55
  int v20; // ST18_4@58
  int v21; // [sp+4h] [bp-8h]@8

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_17)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_5(a3, Dst, SizeInWords, 90, 0);
      return 1;
    case 1:
      GetScriptFile_17(a3, Dst, SizeInWords, 0, 0);
      return 1;
    case 2:
    case 3:
    case 4:
      GetScriptFile_17(a3, Dst, SizeInWords, 1, 0);
      return 1;
    case 5:
      v5 = (a3->vtable->GetVariable)(a3, L"BS03SAB04");
      GetScriptFile_17(a3, Dst, SizeInWords, v5, 0);
      return 1;
    case 6:
      GetScriptFile_17(a3, Dst, SizeInWords, 32, 0);
      return 1;
    case 7:
      GetScriptFile_17(a3, Dst, SizeInWords, 33, 0);
      return 1;
    case 8:
      v21 = (a3->vtable->GetVariable)(a3, L"BS03SAB07");
      if ( v21 == 59 )
      {
        GetScriptFile_17(a3, Dst, SizeInWords, 59, 0);
      }
      else
      {
        if ( !v21 )
        {
          sub_351E70(a3, Dst, SizeInWords, 0, 0);
          return 1;
        }
      }
      return 1;
    case 9:
      GetScriptFile_17(a3, Dst, SizeInWords, 54, 0);
      return 1;
    case 10:
      GetScriptFile_17(a3, Dst, SizeInWords, 8, 0);
      return 1;
    case 11:
      GetScriptFile_17(a3, Dst, SizeInWords, 38, 0);
      return 1;
    case 12:
      GetScriptFile_17(a3, Dst, SizeInWords, 5, 0);
      return 1;
    case 13:
      GetScriptFile_17(a3, Dst, SizeInWords, 68, 0);
      return 1;
    case 14:
      GetScriptFile_17(a3, Dst, SizeInWords, 31, 0);
      return 1;
    case 15:
      GetScriptFile_17(a3, Dst, SizeInWords, 71, 0);
      return 1;
    case 16:
    case 17:
      GetScriptFile_17(a3, Dst, SizeInWords, 15, 0);
      return 1;
    case 18:
      GetScriptFile_17(a3, Dst, SizeInWords, 12, 0);
      return 1;
    case 19:
      GetScriptFile_17(a3, Dst, SizeInWords, 6, 0);
      return 1;
    case 20:
    case 21:
      GetScriptFile_17(a3, Dst, SizeInWords, 19, 0);
      return 1;
    case 22:
      GetScriptFile_17(a3, Dst, SizeInWords, 18, 0);
      return 1;
    case 23:
      GetScriptFile_17(a3, Dst, SizeInWords, 21, 0);
      return 1;
    case 24:
    case 25:
    case 26:
      (a3->vtable->SetFlagValue)(a3, L"961", 0);
      GetScriptFile_17(a3, Dst, SizeInWords, 23, 0);
      return 1;
    case 27:
    case 28:
    case 29:
      GetScriptFile_17(a3, Dst, SizeInWords, 25, 0);
      return 1;
    case 30:
      v6 = (a3->vtable->GetVariable)(a3, L"BS03SAE08");
      GetScriptFile_17(a3, Dst, SizeInWords, v6, 0);
      return 1;
    case 31:
      v7 = (a3->vtable->GetVariable)(a3, L"BS03SAE09");
      GetScriptFile_17(a3, Dst, SizeInWords, v7, 0);
      return 1;
    case 32:
      GetScriptFile_17(a3, Dst, SizeInWords, 22, 0);
      return 1;
    case 33:
      GetScriptFile_17(a3, Dst, SizeInWords, 31, 0);
      return 1;
    case 34:
      GetScriptFile_17(a3, Dst, SizeInWords, 9, 0);
      return 1;
    case 35:
      GetScriptFile_17(a3, Dst, SizeInWords, 34, 0);
      return 1;
    case 36:
      v8 = (a3->vtable->GetVariable)(a3, L"BS03SAF04");
      GetScriptFile_17(a3, Dst, SizeInWords, v8, 0);
      return 1;
    case 37:
    case 38:
    case 39:
      GetScriptFile_17(a3, Dst, SizeInWords, 36, 0);
      return 1;
    case 40:
      v9 = (a3->vtable->GetVariable)(a3, L"BS03SAF08");
      GetScriptFile_17(a3, Dst, SizeInWords, v9, 0);
      return 1;
    case 41:
    case 42:
      GetScriptFile_17(a3, Dst, SizeInWords, 40, 0);
      return 1;
    case 43:
      GetScriptFile_17(a3, Dst, SizeInWords, 24, 0);
      return 1;
    case 44:
      v10 = (a3->vtable->GetVariable)(a3, L"BS03SAG01");
      GetScriptFile_17(a3, Dst, SizeInWords, v10, 0);
      return 1;
    case 45:
      v11 = (a3->vtable->GetVariable)(a3, L"BS03SAG02");
      GetScriptFile_17(a3, Dst, SizeInWords, v11, 0);
      return 1;
    case 46:
      GetScriptFile_17(a3, Dst, SizeInWords, 20, 0);
      return 1;
    case 47:
    case 48:
    case 49:
      GetScriptFile_17(a3, Dst, SizeInWords, 46, 0);
      return 1;
    case 50:
      v12 = (a3->vtable->GetVariable)(a3, L"BS03SAG07");
      GetScriptFile_17(a3, Dst, SizeInWords, v12, 0);
      return 1;
    case 51:
      v13 = (a3->vtable->GetVariable)(a3, L"BS03SAG08");
      GetScriptFile_17(a3, Dst, SizeInWords, v13, 0);
      return 1;
    case 52:
    case 53:
    case 54:
      GetScriptFile_17(a3, Dst, SizeInWords, 51, 0);
      return 1;
    case 55:
      v14 = (a3->vtable->GetVariable)(a3, L"BS03SAH01");
      GetScriptFile_17(a3, Dst, SizeInWords, v14, 0);
      return 1;
    case 56:
    case 57:
    case 58:
      (a3->vtable->SetFlagValue)(a3, L"960", 0);
      GetScriptFile_17(a3, Dst, SizeInWords, 55, 0);
      return 1;
    case 59:
      v15 = (a3->vtable->GetVariable)(a3, L"BS03SAI00");
      GetScriptFile_17(a3, Dst, SizeInWords, v15, 0);
      return 1;
    case 60:
      (a3->vtable->SetFlagValue)(a3, L"944", 0);
      GetScriptFile_17(a3, Dst, SizeInWords, 11, 0);
      return 1;
    case 61:
      GetScriptFile_17(a3, Dst, SizeInWords, 60, 0);
      return 1;
    case 62:
    case 63:
    case 64:
      GetScriptFile_17(a3, Dst, SizeInWords, 42, 0);
      return 1;
    case 65:
      v16 = (a3->vtable->GetVariable)(a3, L"BS03SAJ04");
      GetScriptFile_17(a3, Dst, SizeInWords, v16, 0);
      return 1;
    case 66:
      v17 = (a3->vtable->GetVariable)(a3, L"BS03SAJ05");
      GetScriptFile_17(a3, Dst, SizeInWords, v17, 0);
      return 1;
    case 67:
      v18 = (a3->vtable->GetVariable)(a3, L"BS03SAJ06");
      GetScriptFile_17(a3, Dst, SizeInWords, v18, 0);
      return 1;
    case 68:
      v19 = (a3->vtable->GetVariable)(a3, L"BS03SAJ07");
      GetScriptFile_17(a3, Dst, SizeInWords, v19, 0);
      return 1;
    case 69:
      GetScriptFile_17(a3, Dst, SizeInWords, 14, 0);
      return 1;
    case 70:
      GetScriptFile_17(a3, Dst, SizeInWords, 69, 0);
      return 1;
    case 71:
      v20 = (a3->vtable->GetVariable)(a3, L"BS03SAJ10");
      GetScriptFile_17(a3, Dst, SizeInWords, v20, 0);
      return 1;
    case 72:
      GetScriptFile_17(a3, Dst, SizeInWords, 0, 0);
      return 1;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      return 0;
  }
}
// 39004C: using guessed type wchar_t asc_39004C[6];
// 390058: using guessed type wchar_t aBs03sab04_0[10];
// 39006C: using guessed type wchar_t aBs03sab07_1[10];
// 390080: using guessed type wchar_t a961_3[4];
// 390088: using guessed type wchar_t aBs03sae08_0[10];
// 39009C: using guessed type wchar_t aBs03sae09_0[10];
// 3900B0: using guessed type wchar_t aBs03saf04_1[10];
// 3900C4: using guessed type wchar_t aBs03saf08_0[10];
// 3900D8: using guessed type wchar_t aBs03sag01_0[10];
// 3900EC: using guessed type wchar_t aBs03sag02_0[10];
// 390100: using guessed type wchar_t aBs03sag07_0[10];
// 390114: using guessed type wchar_t aBs03sag08_0[10];
// 390128: using guessed type wchar_t aBs03sah01_0[10];
// 39013C: using guessed type wchar_t a960_1[4];
// 390144: using guessed type wchar_t aBs03sai00_1[10];
// 390158: using guessed type wchar_t a944_0[4];
// 390160: using guessed type wchar_t aBs03saj04_1[10];
// 390174: using guessed type wchar_t aBs03saj05_1[10];
// 390188: using guessed type wchar_t aBs03saj06_0[10];
// 39019C: using guessed type wchar_t aBs03saj07_0[10];
// 3901B0: using guessed type wchar_t aBs03saj10_1[10];

//----- (00353C40) --------------------------------------------------------
signed int __cdecl searchRoot_route_3sa(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 73; ++i )
  {
    if ( !wcscmp((&route_files_17)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 17);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 3901C4: using guessed type wchar_t aRoute_56[6];
// 3901D0: using guessed type wchar_t asc_3901D0[6];

//----- (00353CB0) --------------------------------------------------------
signed int __cdecl CheckScript_route_17(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 19;
      break;
    case 19:
      v2 = 11;
      break;
    case 51:
      v2 = 12;
      break;
    case 55:
      v2 = 14;
      break;
    case 36:
      v2 = 13;
      break;
    case 10:
      v2 = 15;
      break;
    case 16:
      v2 = 16;
      break;
    case 61:
      v2 = 18;
      break;
    case 67:
      v2 = 17;
      break;
    default:
      v2 = CheckScript_by_flags_route_6(a1);
      break;
  }
  return v2;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 353CB0: using guessed type _DWORD __cdecl CheckScript_route_17(_DWORD);
// 3901DC: using guessed type wchar_t asc_3901DC[6];

//----- (00353DD0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_17(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 72; ++i )
  {
    if ( !wcscmp((&route_files_17)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00353E20) --------------------------------------------------------
int __cdecl SetFeeling_route_17(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 1;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 2;
      }
      break;
    case 18:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 21;
      else
        v3 = 20;
      break;
    case 22:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 25;
        else
          v3 = 26;
      }
      else
      {
        v3 = 24;
      }
      break;
    case 24:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 28;
        else
          v3 = 29;
      }
      else
      {
        v3 = 27;
      }
      break;
    case 30:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 14;
      else
        v3 = 33;
      break;
    case 35:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 38;
        else
          v3 = 39;
      }
      else
      {
        v3 = 37;
      }
      break;
    case 39:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 42;
      else
        v3 = 41;
      break;
    case 40:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 66;
      else
        v3 = 65;
      break;
    case 41:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 63;
        else
          v3 = 64;
      }
      else
      {
        v3 = 62;
      }
      break;
    case 45:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 48;
        else
          v3 = 49;
      }
      else
      {
        v3 = 47;
      }
      break;
    case 50:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 53;
        else
          v3 = 54;
      }
      else
      {
        v3 = 52;
      }
      break;
    case 54:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 57;
        else
          v3 = 58;
      }
      else
      {
        v3 = 56;
      }
      break;
    case 62:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 66;
      else
        v3 = 65;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_17)[2 * v3], a2);
  return result;
}
// 3901E8: using guessed type wchar_t asc_3901E8[6];

//----- (003541D0) --------------------------------------------------------
unsigned int __cdecl sub_3541D0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 416;
      break;
    case 21:
      v4 = 418;
      break;
    case 15:
      v4 = 419;
      break;
    case 28:
      v4 = 420;
      break;
    case 48:
      v4 = 421;
      break;
    case 44:
      v4 = 422;
      break;
    case 45:
      v4 = 423;
      break;
    case 8:
      v4 = 425;
      break;
    case 68:
      v4 = 426;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_18)[2 * a3], a2);
}

//----- (003542F0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_18(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3541D0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 18);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_18)[2 * a4]);
}
// 390E78: using guessed type wchar_t aRoute_57[6];
// 390E84: using guessed type wchar_t asc_390E84[6];

//----- (00354360) --------------------------------------------------------
signed int __cdecl GetNextScript_18(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@12
  int v4; // eax@16
  signed int result; // eax@18
  int v6; // eax@146
  int v7; // [sp+8h] [bp-4h]@1

  v7 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_3541D0(a3, 1, v7);
  switch ( v7 )
  {
    case 0:
      GetScriptFile_18(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_167;
    case 1:
      GetScriptFile_18(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_167;
    case 2:
      (a3->vtable->field_1C)(a3, L"REP03_SB_A00", 1);
      GetScriptFile_18(a3, Dst, SizeInWords, 79, 1);
      goto LABEL_167;
    case 3:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_18(a3, Dst, SizeInWords, 5, 1);
        else
          GetScriptFile_18(a3, Dst, SizeInWords, 6, 1);
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 4, 1);
      }
      goto LABEL_167;
    case 4:
    case 5:
    case 6:
      (a3->vtable->SetVariable)(a3, L"BS03SBA08", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_167;
    case 7:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_18(a3, Dst, SizeInWords, 9, 1);
      else
        GetScriptFile_18(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_167;
    case 8:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS04SCA00", v7);
      v4 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS04SC", v4);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_28(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 9:
      GetScriptFile_18(a3, Dst, SizeInWords, 68, 1);
      goto LABEL_167;
    case 10:
      GetScriptFile_18(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_167;
    case 11:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_18(a3, Dst, SizeInWords, 13, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS03SBC03", v7);
          GetScriptFile_18(a3, Dst, SizeInWords, 14, 1);
        }
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 12, 1);
      }
      goto LABEL_167;
    case 12:
    case 14:
      (a3->vtable->SetVariable)(a3, L"BS03SBD00", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_167;
    case 13:
      (a3->vtable->SetVariable)(a3, L"BS03SBC03", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_167;
    case 15:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_18(a3, Dst, SizeInWords, 17, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS03SBC07", v7);
          GetScriptFile_18(a3, Dst, SizeInWords, 18, 1);
        }
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 16, 1);
      }
      goto LABEL_167;
    case 16:
    case 18:
    case 19:
    case 20:
      if ( v7 == 16 )
      {
        (a3->vtable->SetFlagValue)(a3, L"967", 1);
      }
      else
      {
        if ( v7 == 19 )
          (a3->vtable->SetFlagValue)(a3, L"966", 1);
      }
      (a3->vtable->SetVariable)(a3, L"BS03SBG00", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_167;
    case 17:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_18(a3, Dst, SizeInWords, 20, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS03SBC07", v7);
          GetScriptFile_18(a3, Dst, SizeInWords, 18, 1);
        }
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_167;
    case 21:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_18(a3, Dst, SizeInWords, 23, 1);
        else
          GetScriptFile_18(a3, Dst, SizeInWords, 24, 1);
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 22, 1);
      }
      goto LABEL_167;
    case 22:
      GetScriptFile_18(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_167;
    case 23:
      GetScriptFile_18(a3, Dst, SizeInWords, 26, 1);
      goto LABEL_167;
    case 24:
      GetScriptFile_18(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_167;
    case 25:
    case 26:
      (a3->vtable->SetVariable)(a3, L"BS03SBF01", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_167;
    case 27:
      GetScriptFile_18(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_167;
    case 28:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          (a3->vtable->SetVariable)(a3, L"BS03SBF03", v7);
          GetScriptFile_18(a3, Dst, SizeInWords, 30, 1);
        }
        else
        {
          GetScriptFile_18(a3, Dst, SizeInWords, 31, 1);
        }
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SBF02", v7);
        GetScriptFile_18(a3, Dst, SizeInWords, 29, 1);
      }
      goto LABEL_167;
    case 29:
    case 32:
    case 35:
    case 36:
      if ( v7 == 29 )
      {
        (a3->vtable->SetFlagValue)(a3, L"967", 1);
      }
      else
      {
        if ( v7 == 32 || v7 == 36 )
          (a3->vtable->SetFlagValue)(a3, L"966", 1);
      }
      (a3->vtable->SetVariable)(a3, L"BS03SBG00", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_167;
    case 30:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_18(a3, Dst, SizeInWords, 33, 1);
        else
          GetScriptFile_18(a3, Dst, SizeInWords, 34, 1);
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 32, 1);
      }
      goto LABEL_167;
    case 31:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          (a3->vtable->SetVariable)(a3, L"BS03SBF03", v7);
          GetScriptFile_18(a3, Dst, SizeInWords, 30, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS03SBF08", v7);
          GetScriptFile_18(a3, Dst, SizeInWords, 35, 1);
        }
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SBF02", v7);
        GetScriptFile_18(a3, Dst, SizeInWords, 29, 1);
      }
      goto LABEL_167;
    case 33:
    case 34:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS03SBF08", v7);
        GetScriptFile_18(a3, Dst, SizeInWords, 35, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SBF09", v7);
        GetScriptFile_18(a3, Dst, SizeInWords, 36, 1);
      }
      goto LABEL_167;
    case 37:
      if ( (a3->vtable->IsFlagSet)(a3, L"966") )
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 38, 1);
      }
      else
      {
        if ( (a3->vtable->IsFlagSet)(a3, L"967") )
          GetScriptFile_18(a3, Dst, SizeInWords, 39, 1);
        else
          GetScriptFile_18(a3, Dst, SizeInWords, 40, 1);
      }
      goto LABEL_167;
    case 38:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_18(a3, Dst, SizeInWords, 42, 1);
      else
        GetScriptFile_18(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_167;
    case 39:
      GetScriptFile_18(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_167;
    case 40:
      GetScriptFile_18(a3, Dst, SizeInWords, 56, 1);
      goto LABEL_167;
    case 41:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_18(a3, Dst, SizeInWords, 66, 1);
        else
          GetScriptFile_18(a3, Dst, SizeInWords, 67, 1);
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 65, 1);
      }
      goto LABEL_167;
    case 42:
      GetScriptFile_18(a3, Dst, SizeInWords, 71, 1);
      goto LABEL_167;
    case 43:
      GetScriptFile_18(a3, Dst, SizeInWords, 48, 1);
      goto LABEL_167;
    case 44:
      (a3->vtable->SetFlagValue)(a3, L"940", 1);
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_18(a3, Dst, SizeInWords, 46, 1);
        else
          GetScriptFile_18(a3, Dst, SizeInWords, 47, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SBG08", v7);
        GetScriptFile_18(a3, Dst, SizeInWords, 45, 1);
      }
      goto LABEL_167;
    case 45:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_18(a3, Dst, SizeInWords, 59, 1);
        else
          GetScriptFile_18(a3, Dst, SizeInWords, 60, 1);
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 58, 1);
      }
      goto LABEL_167;
    case 46:
    case 47:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS03SBI04", v7);
        GetScriptFile_18(a3, Dst, SizeInWords, 61, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SBG08", v7);
        GetScriptFile_18(a3, Dst, SizeInWords, 45, 1);
      }
      goto LABEL_167;
    case 48:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_18(a3, Dst, SizeInWords, 50, 1);
      else
        GetScriptFile_18(a3, Dst, SizeInWords, 49, 1);
      goto LABEL_167;
    case 49:
      GetScriptFile_18(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_167;
    case 50:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 52, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS03SBH04", v7);
        GetScriptFile_18(a3, Dst, SizeInWords, 51, 1);
      }
      goto LABEL_167;
    case 51:
    case 55:
      (a3->vtable->SetVariable)(a3, L"BS03B0A00", v7);
      GetScriptFile_10(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 52:
      (a3->vtable->SetVariable)(a3, L"BS03SBH04", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 51, 1);
      goto LABEL_167;
    case 53:
      (a3->vtable->SetVariable)(a3, L"BS03SBA04", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_167;
    case 54:
      GetScriptFile_18(a3, Dst, SizeInWords, 63, 1);
      goto LABEL_167;
    case 56:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_18(a3, Dst, SizeInWords, 57, 1);
      else
        GetScriptFile_18(a3, Dst, SizeInWords, 64, 1);
      goto LABEL_167;
    case 57:
      (a3->vtable->SetVariable)(a3, L"BS03B1A00", v7);
      GetScriptFile_11(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 58:
    case 59:
      (a3->vtable->SetVariable)(a3, L"BS03SBI05", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 62, 1);
      goto LABEL_167;
    case 60:
      GetScriptFile_12(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 61:
      GetScriptFile_18(a3, Dst, SizeInWords, 54, 1);
      goto LABEL_167;
    case 62:
      GetScriptFile_18(a3, Dst, SizeInWords, 53, 1);
      goto LABEL_167;
    case 63:
      GetScriptFile_18(a3, Dst, SizeInWords, 55, 1);
      goto LABEL_167;
    case 64:
      GetScriptFile_18(a3, Dst, SizeInWords, 69, 1);
      goto LABEL_167;
    case 65:
    case 66:
    case 67:
      (a3->vtable->SetVariable)(a3, L"BS03SBL00", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 70, 1);
      goto LABEL_167;
    case 68:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS04KCA00", v7);
      v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS04KC", v6);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_24(a3, Dst, SizeInWords, 0, 0);
      return 1;
    case 69:
    case 70:
      (a3->vtable->SetVariable)(a3, L"BS03SBA04", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_167;
    case 71:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_18(a3, Dst, SizeInWords, 73, 1);
        else
          GetScriptFile_18(a3, Dst, SizeInWords, 74, 1);
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 72, 1);
      }
      goto LABEL_167;
    case 72:
    case 75:
    case 76:
    case 77:
      (a3->vtable->SetVariable)(a3, L"BS03SBA04", v7);
      GetScriptFile_18(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_167;
    case 73:
      GetScriptFile_18(a3, Dst, SizeInWords, 78, 1);
      goto LABEL_167;
    case 74:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_18(a3, Dst, SizeInWords, 76, 1);
        else
          GetScriptFile_18(a3, Dst, SizeInWords, 77, 1);
      }
      else
      {
        GetScriptFile_18(a3, Dst, SizeInWords, 75, 1);
      }
      goto LABEL_167;
    case 78:
      (a3->vtable->SetVariable)(a3, L"BS03B1A00", v7);
      GetScriptFile_11(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 79:
      GetScriptFile_18(a3, Dst, SizeInWords, 10, 1);
LABEL_167:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 390E90: using guessed type wchar_t asc_390E90[6];
// 390E9C: using guessed type wchar_t aRep03_sb_a00[13];
// 390EB8: using guessed type wchar_t aBs03sba08[10];
// 390ECC: using guessed type wchar_t a001_9[4];
// 390ED4: using guessed type wchar_t a002_9[4];
// 390EDC: using guessed type wchar_t aBs04sca00_0[10];
// 390EF0: using guessed type wchar_t aRoute_58[6];
// 390EFC: using guessed type wchar_t aBs04sc_0[7];
// 390F0C: using guessed type wchar_t aBs03sbc03[10];
// 390F20: using guessed type wchar_t aBs03sbd00[10];
// 390F34: using guessed type wchar_t aBs03sbc03_0[10];
// 390F48: using guessed type wchar_t aBs03sbc07[10];
// 390F5C: using guessed type wchar_t a967_4[4];
// 390F64: using guessed type wchar_t a966_4[4];
// 390F6C: using guessed type wchar_t aBs03sbg00[10];
// 390F80: using guessed type wchar_t aBs03sbc07_0[10];
// 390F94: using guessed type wchar_t aBs03sbf01[10];
// 390FA8: using guessed type wchar_t aBs03sbf02[10];
// 390FBC: using guessed type wchar_t aBs03sbf03[10];
// 390FD0: using guessed type wchar_t a967_5[4];
// 390FD8: using guessed type wchar_t a966_5[4];
// 390FE0: using guessed type wchar_t aBs03sbg00_0[10];
// 390FF4: using guessed type wchar_t aBs03sbf02_0[10];
// 391008: using guessed type wchar_t aBs03sbf03_0[10];
// 39101C: using guessed type wchar_t aBs03sbf08[10];
// 391030: using guessed type wchar_t aBs03sbf09[10];
// 391044: using guessed type wchar_t aBs03sbf08_0[10];
// 391058: using guessed type wchar_t a966_6[4];
// 391060: using guessed type wchar_t a967_6[4];
// 391068: using guessed type wchar_t a940_7[4];
// 391070: using guessed type wchar_t aBs03sbg08[10];
// 391084: using guessed type wchar_t aBs03sbg08_0[10];
// 391098: using guessed type wchar_t aBs03sbi04[10];
// 3910AC: using guessed type wchar_t aBs03sbh04[10];
// 3910C0: using guessed type wchar_t aBs03b0a00_0[10];
// 3910D4: using guessed type wchar_t aBs03sbh04_0[10];
// 3910E8: using guessed type wchar_t aBs03sba04[10];
// 3910FC: using guessed type wchar_t aBs03b1a00_0[10];
// 391110: using guessed type wchar_t aBs03sbi05[10];
// 391124: using guessed type wchar_t aBs03sbl00[10];
// 391138: using guessed type wchar_t aBs04kca00_1[10];
// 39114C: using guessed type wchar_t aRoute_59[6];
// 391158: using guessed type wchar_t aBs04kc_1[7];
// 391168: using guessed type wchar_t aBs03sba04_0[10];
// 39117C: using guessed type wchar_t aBs03sba04_1[10];
// 391190: using guessed type wchar_t aBs03b1a00_1[10];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (003555F0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_18(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@5
  int v6; // ST18_4@7
  int v7; // ST18_4@12
  int v8; // ST18_4@15
  int v9; // ST18_4@17
  int v10; // ST18_4@22
  int v11; // ST18_4@23
  int v12; // ST18_4@24
  int v13; // ST18_4@27
  int v14; // ST18_4@28
  int v15; // ST18_4@47
  int v16; // ST18_4@55
  int v17; // ST18_4@56
  int v18; // ST18_4@62
  int v19; // [sp+4h] [bp-8h]@29
  int v20; // [sp+4h] [bp-8h]@41

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_18)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_4(a3, Dst, SizeInWords, 90, 0);
      return 1;
    case 1:
      GetScriptFile_18(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_69;
    case 2:
      GetScriptFile_18(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_69;
    case 3:
      v5 = (a3->vtable->GetVariable)(a3, L"BS03SBA04");
      GetScriptFile_18(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_69;
    case 4:
    case 5:
    case 6:
      GetScriptFile_18(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_69;
    case 7:
      v6 = (a3->vtable->GetVariable)(a3, L"BS03SBA08");
      GetScriptFile_18(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_69;
    case 8:
    case 9:
      GetScriptFile_18(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_69;
    case 10:
      GetScriptFile_18(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_69;
    case 11:
      GetScriptFile_18(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_69;
    case 12:
    case 13:
      GetScriptFile_18(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_69;
    case 14:
      v7 = (a3->vtable->GetVariable)(a3, L"BS03SBC03");
      GetScriptFile_18(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_69;
    case 15:
      GetScriptFile_18(a3, Dst, SizeInWords, 27, 0);
      goto LABEL_69;
    case 16:
    case 17:
      GetScriptFile_18(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_69;
    case 18:
      v8 = (a3->vtable->GetVariable)(a3, L"BS03SBC07");
      GetScriptFile_18(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_69;
    case 19:
    case 20:
      GetScriptFile_18(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_69;
    case 21:
      v9 = (a3->vtable->GetVariable)(a3, L"BS03SBD00");
      GetScriptFile_18(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_69;
    case 22:
    case 23:
    case 24:
      GetScriptFile_18(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_69;
    case 25:
      GetScriptFile_18(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_69;
    case 26:
      GetScriptFile_18(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_69;
    case 27:
      GetScriptFile_18(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_69;
    case 28:
      v10 = (a3->vtable->GetVariable)(a3, L"BS03SBF01");
      GetScriptFile_18(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_69;
    case 29:
      v11 = (a3->vtable->GetVariable)(a3, L"BS03SBF02");
      GetScriptFile_18(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_69;
    case 30:
      v12 = (a3->vtable->GetVariable)(a3, L"BS03SBF03");
      GetScriptFile_18(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_69;
    case 31:
      GetScriptFile_18(a3, Dst, SizeInWords, 28, 0);
      goto LABEL_69;
    case 32:
    case 33:
    case 34:
      GetScriptFile_18(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_69;
    case 35:
      v13 = (a3->vtable->GetVariable)(a3, L"BS03SBF08");
      GetScriptFile_18(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_69;
    case 36:
      v14 = (a3->vtable->GetVariable)(a3, L"BS03SBF09");
      GetScriptFile_18(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_69;
    case 37:
      v19 = (a3->vtable->GetVariable)(a3, L"BS03SBG00");
      if ( v19 != 16 && v19 != 29 )
      {
        if ( v19 == 19 || v19 == 32 || v19 == 36 )
          (a3->vtable->SetFlagValue)(a3, L"966", 0);
      }
      else
      {
        (a3->vtable->SetFlagValue)(a3, L"967", 0);
      }
      GetScriptFile_18(a3, Dst, SizeInWords, v19, 0);
      goto LABEL_69;
    case 38:
    case 39:
    case 40:
      GetScriptFile_18(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_69;
    case 41:
    case 42:
      GetScriptFile_18(a3, Dst, SizeInWords, 38, 0);
      goto LABEL_69;
    case 43:
      GetScriptFile_18(a3, Dst, SizeInWords, 39, 0);
      goto LABEL_69;
    case 44:
      GetScriptFile_18(a3, Dst, SizeInWords, 49, 0);
      goto LABEL_69;
    case 45:
      v20 = (a3->vtable->GetVariable)(a3, L"BS03SBG08");
      if ( v20 == 44 )
        (a3->vtable->SetFlagValue)(a3, L"940", 0);
      GetScriptFile_18(a3, Dst, SizeInWords, v20, 0);
      goto LABEL_69;
    case 46:
    case 47:
      (a3->vtable->SetFlagValue)(a3, L"940", 0);
      GetScriptFile_18(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_69;
    case 48:
      GetScriptFile_18(a3, Dst, SizeInWords, 43, 0);
      goto LABEL_69;
    case 49:
    case 50:
      GetScriptFile_18(a3, Dst, SizeInWords, 48, 0);
      goto LABEL_69;
    case 51:
      v15 = (a3->vtable->GetVariable)(a3, L"BS03SBH04");
      GetScriptFile_18(a3, Dst, SizeInWords, v15, 0);
      goto LABEL_69;
    case 52:
      GetScriptFile_18(a3, Dst, SizeInWords, 50, 0);
      goto LABEL_69;
    case 53:
      GetScriptFile_18(a3, Dst, SizeInWords, 62, 0);
      goto LABEL_69;
    case 54:
      GetScriptFile_18(a3, Dst, SizeInWords, 61, 0);
      goto LABEL_69;
    case 55:
      GetScriptFile_18(a3, Dst, SizeInWords, 63, 0);
      goto LABEL_69;
    case 56:
      GetScriptFile_18(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_69;
    case 57:
      GetScriptFile_18(a3, Dst, SizeInWords, 56, 0);
      goto LABEL_69;
    case 58:
    case 59:
    case 60:
      GetScriptFile_18(a3, Dst, SizeInWords, 45, 0);
      goto LABEL_69;
    case 61:
      v16 = (a3->vtable->GetVariable)(a3, L"BS03SBI04");
      GetScriptFile_18(a3, Dst, SizeInWords, v16, 0);
      goto LABEL_69;
    case 62:
      v17 = (a3->vtable->GetVariable)(a3, L"BS03SBI05");
      GetScriptFile_18(a3, Dst, SizeInWords, v17, 0);
      goto LABEL_69;
    case 63:
      GetScriptFile_18(a3, Dst, SizeInWords, 54, 0);
      goto LABEL_69;
    case 64:
      GetScriptFile_18(a3, Dst, SizeInWords, 56, 0);
      goto LABEL_69;
    case 65:
    case 66:
    case 67:
      GetScriptFile_18(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_69;
    case 68:
      GetScriptFile_18(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_69;
    case 69:
      GetScriptFile_18(a3, Dst, SizeInWords, 64, 0);
      goto LABEL_69;
    case 70:
      v18 = (a3->vtable->GetVariable)(a3, L"BS03SBL00");
      GetScriptFile_18(a3, Dst, SizeInWords, v18, 0);
      goto LABEL_69;
    case 71:
      GetScriptFile_18(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_69;
    case 72:
    case 73:
    case 74:
      GetScriptFile_18(a3, Dst, SizeInWords, 71, 0);
      goto LABEL_69;
    case 75:
    case 76:
    case 77:
      GetScriptFile_18(a3, Dst, SizeInWords, 74, 0);
      goto LABEL_69;
    case 78:
      GetScriptFile_18(a3, Dst, SizeInWords, 73, 0);
      goto LABEL_67;
    case 79:
LABEL_67:
      GetScriptFile_18(a3, Dst, SizeInWords, 2, 0);
LABEL_69:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 3911A4: using guessed type wchar_t asc_3911A4[6];
// 3911B0: using guessed type wchar_t aBs03sba04_2[10];
// 3911C4: using guessed type wchar_t aBs03sba08_0[10];
// 3911D8: using guessed type wchar_t aBs03sbc03_1[10];
// 3911EC: using guessed type wchar_t aBs03sbc07_1[10];
// 391200: using guessed type wchar_t aBs03sbd00_0[10];
// 391214: using guessed type wchar_t aBs03sbf01_0[10];
// 391228: using guessed type wchar_t aBs03sbf02_1[10];
// 39123C: using guessed type wchar_t aBs03sbf03_1[10];
// 391250: using guessed type wchar_t aBs03sbf08_1[10];
// 391264: using guessed type wchar_t aBs03sbf09_0[10];
// 391278: using guessed type wchar_t aBs03sbg00_1[10];
// 39128C: using guessed type wchar_t a967_7[4];
// 391294: using guessed type wchar_t a966_7[4];
// 39129C: using guessed type wchar_t aBs03sbg08_1[10];
// 3912B0: using guessed type wchar_t a940_8[4];
// 3912B8: using guessed type wchar_t a940_9[4];
// 3912C0: using guessed type wchar_t aBs03sbh04_1[10];
// 3912D4: using guessed type wchar_t aBs03sbi04_0[10];
// 3912E8: using guessed type wchar_t aBs03sbi05_0[10];
// 3912FC: using guessed type wchar_t aBs03sbl00_0[10];

//----- (00356000) --------------------------------------------------------
signed int __cdecl searchRoot_route_3sb(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 80; ++i )
  {
    if ( !wcscmp((&route_files_18)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 18);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 391310: using guessed type wchar_t aRoute_60[6];
// 39131C: using guessed type wchar_t asc_39131C[6];

//----- (00356070) --------------------------------------------------------
signed int __cdecl CheckScript_route_18(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 27;
      break;
    case 21:
      v2 = 29;
      break;
    case 15:
      v2 = 30;
      break;
    case 28:
      v2 = 31;
      break;
    case 48:
      v2 = 32;
      break;
    case 44:
      v2 = 33;
      break;
    case 45:
      v2 = 34;
      break;
    case 8:
      v2 = 36;
      break;
    case 68:
      v2 = 37;
      break;
    default:
      v2 = CheckScript_by_flags_route_6(a1);
      break;
  }
  return v2;
}
// 333F10: using guessed type _DWORD __cdecl CheckScript_by_flags_route_6(_DWORD);
// 356070: using guessed type _DWORD __cdecl CheckScript_route_18(_DWORD);
// 391328: using guessed type wchar_t asc_391328[6];

//----- (00356190) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_18(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 79; ++i )
  {
    if ( !wcscmp((&route_files_18)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003561E0) --------------------------------------------------------
int __cdecl SetFeeling_route_18(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 3;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 5;
        else
          v3 = 6;
      }
      else
      {
        v3 = 4;
      }
      break;
    case 8:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 13;
        else
          v3 = 14;
      }
      else
      {
        v3 = 12;
      }
      break;
    case 12:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 17;
        else
          v3 = 18;
      }
      else
      {
        v3 = 16;
      }
      break;
    case 14:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 20;
        else
          v3 = 18;
      }
      else
      {
        v3 = 19;
      }
      break;
    case 18:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 23;
        else
          v3 = 24;
      }
      else
      {
        v3 = 22;
      }
      break;
    case 25:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 30;
        else
          v3 = 31;
      }
      else
      {
        v3 = 29;
      }
      break;
    case 27:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 33;
        else
          v3 = 34;
      }
      else
      {
        v3 = 32;
      }
      break;
    case 28:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 30;
        else
          v3 = 35;
      }
      else
      {
        v3 = 29;
      }
      break;
    case 30:
    case 31:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 35;
      else
        v3 = 36;
      break;
    case 35:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 42;
      else
        v3 = 41;
      break;
    case 38:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 66;
        else
          v3 = 67;
      }
      else
      {
        v3 = 65;
      }
      break;
    case 41:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 46;
        else
          v3 = 47;
      }
      else
      {
        v3 = 45;
      }
      break;
    case 42:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 59;
        else
          v3 = 60;
      }
      else
      {
        v3 = 58;
      }
      break;
    case 43:
    case 44:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 61;
      else
        v3 = 45;
      break;
    case 45:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 50;
      else
        v3 = 49;
      break;
    case 47:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 52;
      else
        v3 = 51;
      break;
    case 53:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 57;
      else
        v3 = 64;
      break;
    case 68:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 73;
        else
          v3 = 74;
      }
      else
      {
        v3 = 72;
      }
      break;
    case 71:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 76;
        else
          v3 = 77;
      }
      else
      {
        v3 = 75;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_18)[2 * v3], a2);
  return result;
}
// 391334: using guessed type wchar_t asc_391334[6];

//----- (00356720) --------------------------------------------------------
unsigned int __cdecl sub_356720(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 536;
      break;
    case 4:
      v4 = 539;
      break;
    case 11:
      v4 = 545;
      break;
    case 12:
      v4 = 538;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_19)[2 * a3], a2);
}

//----- (003567C0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_19(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_356720(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 19);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_19)[2 * a4]);
}
// 391558: using guessed type wchar_t aRoute_61[6];
// 391564: using guessed type wchar_t asc_391564[6];

//----- (00356830) --------------------------------------------------------
signed int __cdecl GetNextScript_19(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@15
  signed int result; // eax@17
  int v5; // eax@27
  int v6; // eax@30
  int v7; // [sp+4h] [bp-4h]@1

  v7 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_356720(a3, 1, v7);
  switch ( v7 )
  {
    case 0:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_19(a3, Dst, SizeInWords, 2, 1);
        else
          GetScriptFile_19(a3, Dst, SizeInWords, 3, 1);
      }
      else
      {
        GetScriptFile_19(a3, Dst, SizeInWords, 1, 1);
      }
      goto LABEL_34;
    case 1:
    case 3:
    case 6:
      (a3->vtable->SetVariable)(a3, L"BS04C0I00", v7);
      GetScriptFile_19(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_34;
    case 2:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_19(a3, Dst, SizeInWords, 5, 1);
        else
          GetScriptFile_19(a3, Dst, SizeInWords, 6, 1);
      }
      else
      {
        GetScriptFile_19(a3, Dst, SizeInWords, 4, 1);
      }
      goto LABEL_34;
    case 4:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05KIA00", v7);
      v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05KI", v3);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_47(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 5:
      (a3->vtable->SetVariable)(a3, L"BS04C0I05", v7);
      GetScriptFile_19(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_34;
    case 7:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_19(a3, Dst, SizeInWords, 9, 1);
        else
          GetScriptFile_19(a3, Dst, SizeInWords, 10, 1);
      }
      else
      {
        GetScriptFile_19(a3, Dst, SizeInWords, 8, 1);
      }
      goto LABEL_34;
    case 8:
      (a3->vtable->SetVariable)(a3, L"BS04C0I05", v7);
      GetScriptFile_19(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_34;
    case 9:
    case 10:
      (a3->vtable->SetVariable)(a3, L"BS04C0I04", v7);
      GetScriptFile_19(a3, Dst, SizeInWords, 11, 1);
LABEL_34:
      result = 1;
      break;
    case 11:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->field_1C)(a3, L"REP04_C0_I00", 1);
      (a3->vtable->SetVariable)(a3, L"BS05KCA00", v7);
      v5 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05KC", v5);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_44(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 12:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05KIA00", v7);
      v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05KI", v6);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_47(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 391570: using guessed type wchar_t asc_391570[6];
// 39157C: using guessed type wchar_t aBs04c0i00[10];
// 391590: using guessed type wchar_t aBs05kia00[10];
// 3915A4: using guessed type wchar_t aRoute_62[6];
// 3915B0: using guessed type wchar_t aBs05ki[7];
// 3915C0: using guessed type wchar_t aBs04c0i05[10];
// 3915D4: using guessed type wchar_t aBs04c0i05_0[10];
// 3915E8: using guessed type wchar_t aBs04c0i04[10];
// 3915FC: using guessed type wchar_t aRep04_c0_i00[13];
// 391618: using guessed type wchar_t aBs05kca00[10];
// 39162C: using guessed type wchar_t aRoute_63[6];
// 391638: using guessed type wchar_t aBs05kc[7];
// 391648: using guessed type wchar_t aBs05kia00_0[10];
// 39165C: using guessed type wchar_t aRoute_64[6];
// 391668: using guessed type wchar_t aBs05ki_0[7];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00356CC0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_19(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@5
  int v6; // ST18_4@7
  int v7; // ST18_4@8

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_19)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_20(a3, Dst, SizeInWords, 13, 0);
      return 1;
    case 1:
    case 2:
    case 3:
      GetScriptFile_19(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_10;
    case 4:
    case 5:
    case 6:
      GetScriptFile_19(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_10;
    case 7:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04C0I00");
      GetScriptFile_19(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_10;
    case 8:
    case 9:
    case 10:
      GetScriptFile_19(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_10;
    case 11:
      v6 = (a3->vtable->GetVariable)(a3, L"BS04C0I04");
      GetScriptFile_19(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_10;
    case 12:
      v7 = (a3->vtable->GetVariable)(a3, L"BS04C0I05");
      GetScriptFile_19(a3, Dst, SizeInWords, v7, 0);
LABEL_10:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 391678: using guessed type wchar_t asc_391678[6];
// 391684: using guessed type wchar_t aBs04c0i00_0[10];
// 391698: using guessed type wchar_t aBs04c0i04_0[10];
// 3916AC: using guessed type wchar_t aBs04c0i05_1[10];

//----- (00356E80) --------------------------------------------------------
signed int __cdecl searchRoot_route_4c0(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 13; ++i )
  {
    if ( !wcscmp((&route_files_19)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 19);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 3916C0: using guessed type wchar_t aRoute_65[6];
// 3916CC: using guessed type wchar_t asc_3916CC[6];

//----- (00356EF0) --------------------------------------------------------
signed int __cdecl CheckScript_route_19(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 47;
      break;
    case 4:
      v2 = 50;
      break;
    case 11:
      v2 = 56;
      break;
    case 12:
      v2 = 49;
      break;
    default:
      v2 = CheckScript_by_flags_route_19(a1);
      break;
  }
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 3916D8: using guessed type wchar_t asc_3916D8[6];

//----- (00356F90) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_19(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 13; ++i )
  {
    if ( !wcscmp((&route_files_19)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00356FE0) --------------------------------------------------------
int __cdecl SetFeeling_route_19(int a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@4

  result = (*(*a1 + 8))(a1, L"SCENE");
  if ( result )
  {
    if ( result == 2 )
    {
      result = (*(*a1 + 4))(a1);
      if ( result )
      {
        result = (*(*a1 + 4))(a1);
        if ( result == 1 )
          v3 = 5;
        else
          v3 = 6;
      }
      else
      {
        v3 = 4;
      }
    }
    else
    {
      if ( result == 7 )
      {
        result = (*(*a1 + 4))(a1);
        if ( result )
        {
          result = (*(*a1 + 4))(a1);
          if ( result == 1 )
            v3 = 9;
          else
            v3 = 10;
        }
        else
        {
          v3 = 8;
        }
      }
      else
      {
        v3 = -1;
      }
    }
  }
  else
  {
    result = (*(*a1 + 4))(a1);
    if ( result )
    {
      result = (*(*a1 + 4))(a1);
      if ( result == 1 )
        v3 = 2;
      else
        v3 = 3;
    }
    else
    {
      v3 = 1;
    }
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_19)[2 * v3], a2);
  return result;
}
// 3916E4: using guessed type wchar_t asc_3916E4[6];

//----- (00357110) --------------------------------------------------------
unsigned int __cdecl sub_357110(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 == 4 )
  {
    v4 = 535;
  }
  else
  {
    if ( a3 == 5 )
      v4 = 544;
    else
      v4 = -1;
  }
  return sub_3367C0(a1, v4, (&route_files_20)[2 * a3], a2);
}

//----- (00357170) --------------------------------------------------------
errno_t __cdecl GetScriptFile_20(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_357110(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 20);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_20)[2 * a4]);
}
// 391930: using guessed type wchar_t aRoute_66[6];
// 39193C: using guessed type wchar_t asc_39193C[6];

//----- (003571E0) --------------------------------------------------------
signed int __cdecl GetNextScript_20(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@18
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_357110(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      if ( (a3->vtable->IsFlagSet)(a3, L"978") || (a3->vtable->IsFlagSet)(a3, L"979") )
        GetScriptFile_20(a3, Dst, SizeInWords, 1, 1);
      else
        GetScriptFile_20(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_28;
    case 1:
    case 2:
      (a3->vtable->SetVariable)(a3, L"BS04C1A03", v4);
      GetScriptFile_20(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_28;
    case 3:
      (a3->vtable->field_1C)(a3, L"REP04_C1_A00", 1);
      if ( (a3->vtable->GetVariable)(a3, L"BS04C1A03") == 1 )
        (a3->vtable->field_1C)(a3, L"REP04_C1_A00A", 1);
      else
        (a3->vtable->field_1C)(a3, L"REP04_C1_A00B", 1);
      GetScriptFile_20(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_28;
    case 4:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_20(a3, Dst, SizeInWords, 6, 1);
      else
        GetScriptFile_20(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_28;
    case 5:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_54(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 6:
      GetScriptFile_20(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_28;
    case 7:
      GetScriptFile_20(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_28;
    case 8:
      GetScriptFile_20(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_28;
    case 9:
      GetScriptFile_20(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_28;
    case 10:
      GetScriptFile_20(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_28;
    case 11:
      GetScriptFile_20(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_28;
    case 12:
      GetScriptFile_20(a3, Dst, SizeInWords, 13, 1);
LABEL_28:
      result = 1;
      break;
    case 13:
      GetScriptFile_19(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 391948: using guessed type wchar_t asc_391948[6];
// 391954: using guessed type wchar_t a978_14[4];
// 39195C: using guessed type wchar_t a979_13[4];
// 391964: using guessed type wchar_t aBs04c1a03[10];
// 391978: using guessed type wchar_t aRep04_c1_a00[13];
// 391994: using guessed type wchar_t aBs04c1a03_0[10];
// 3919A8: using guessed type wchar_t aRep04_c1_a00a[14];
// 3919C4: using guessed type wchar_t aRep04_c1_a00b[14];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00357510) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_20(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@4

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_20)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_28(a3, Dst, SizeInWords, 19, 0);
      return 1;
    case 1:
    case 2:
      GetScriptFile_20(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_15;
    case 3:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04C1A03");
      GetScriptFile_20(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_15;
    case 4:
      GetScriptFile_20(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_15;
    case 5:
    case 6:
      GetScriptFile_20(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_15;
    case 7:
      GetScriptFile_20(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_15;
    case 8:
      GetScriptFile_20(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_15;
    case 9:
      GetScriptFile_20(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_15;
    case 10:
      GetScriptFile_20(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_15;
    case 11:
      GetScriptFile_20(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_15;
    case 12:
      GetScriptFile_20(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_15;
    case 13:
      GetScriptFile_20(a3, Dst, SizeInWords, 12, 0);
LABEL_15:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 3919E0: using guessed type wchar_t asc_3919E0[6];
// 3919EC: using guessed type wchar_t aBs04c1a03_1[10];

//----- (00357730) --------------------------------------------------------
signed int __cdecl searchRoot_route_4c1(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 14; ++i )
  {
    if ( !wcscmp((&route_files_20)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 20);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 391A00: using guessed type wchar_t aRoute_67[6];
// 391A0C: using guessed type wchar_t asc_391A0C[6];

//----- (003577A0) --------------------------------------------------------
signed int __cdecl CheckScript_route_20(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 == 4 )
  {
    v3 = 46;
  }
  else
  {
    if ( v2 == 5 )
      v3 = 55;
    else
      v3 = CheckScript_by_flags_route_19(a1);
  }
  return v3;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 3577A0: using guessed type _DWORD __cdecl CheckScript_route_20(_DWORD);
// 391A18: using guessed type wchar_t asc_391A18[6];

//----- (00357800) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_20(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 14; ++i )
  {
    if ( !wcscmp((&route_files_20)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00357850) --------------------------------------------------------
int __cdecl SetFeeling_route_20(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( result == 4 )
  {
    result = (a1->vtable->GetCurrentScene)(a1);
    if ( result )
      v3 = 6;
    else
      v3 = 5;
  }
  else
  {
    v3 = -1;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_20)[2 * v3], a2);
  return result;
}
// 391A24: using guessed type wchar_t asc_391A24[6];

//----- (003578D0) --------------------------------------------------------
unsigned int __cdecl sub_3578D0(ScriptObject *a1, int a2, int a3)
{
  return sub_3367C0(a1, -1, (&route_files_21)[2 * a3], a2);
}

//----- (00357900) --------------------------------------------------------
errno_t __cdecl GetScriptFile_21(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3578D0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 21);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_21)[2 * a4]);
}
// 391B80: using guessed type wchar_t aRoute_68[6];
// 391B8C: using guessed type wchar_t asc_391B8C[6];

//----- (00357970) --------------------------------------------------------
signed int __cdecl GetNextScript_21(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@11
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_3578D0(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_21(a3, Dst, SizeInWords, 2, 1);
        else
          GetScriptFile_21(a3, Dst, SizeInWords, 3, 1);
      }
      else
      {
        GetScriptFile_21(a3, Dst, SizeInWords, 1, 1);
      }
      goto LABEL_14;
    case 1:
    case 2:
    case 3:
      (a3->vtable->SetVariable)(a3, L"BS04E0C00", v4);
      GetScriptFile_21(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_14;
    case 4:
      GetScriptFile_21(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_14;
    case 5:
      GetScriptFile_21(a3, Dst, SizeInWords, 6, 1);
LABEL_14:
      result = 1;
      break;
    case 6:
      (a3->vtable->SetVariable)(a3, L"BS04SEB02", v4);
      GetScriptFile_29(a3, Dst, SizeInWords, 3, 1);
      result = 1;
      break;
    case 7:
      (a3->vtable->SetVariable)(a3, L"BS04SEH03", v4);
      GetScriptFile_29(a3, Dst, SizeInWords, 30, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 391B98: using guessed type wchar_t asc_391B98[6];
// 391BA4: using guessed type wchar_t aBs04e0c00[10];
// 391BB8: using guessed type wchar_t aBs04seb02[10];
// 391BCC: using guessed type wchar_t aBs04seh03[10];

//----- (00357B50) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_21(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@4

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_21)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_29(a3, Dst, SizeInWords, 9, 0);
      return 1;
    case 1:
    case 2:
    case 3:
      GetScriptFile_21(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_9;
    case 4:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04E0C00");
      GetScriptFile_21(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_9;
    case 5:
      GetScriptFile_21(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_9;
    case 6:
      GetScriptFile_21(a3, Dst, SizeInWords, 5, 0);
LABEL_9:
      result = 1;
      break;
    case 7:
      GetScriptFile_29(a3, Dst, SizeInWords, 29, 0);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 391BE0: using guessed type wchar_t asc_391BE0[6];
// 391BEC: using guessed type wchar_t aBs04e0c00_0[10];

//----- (00357CB0) --------------------------------------------------------
signed int __cdecl searchRoot_route_4e0(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 8; ++i )
  {
    if ( !wcscmp((&route_files_21)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 21);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 391C00: using guessed type wchar_t aRoute_69[6];
// 391C0C: using guessed type wchar_t asc_391C0C[6];

//----- (00357D20) --------------------------------------------------------
int __cdecl CheckScript_route_21(int a1)
{
  return CheckScript_by_flags_route_19(a1);
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 357D20: using guessed type _DWORD __cdecl CheckScript_route_21(_DWORD);

//----- (00357D50) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_21(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 8; ++i )
  {
    if ( !wcscmp((&route_files_21)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00357DA0) --------------------------------------------------------
int __cdecl SetFeeling_route_21(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( result )
  {
    v3 = -1;
  }
  else
  {
    result = (a1->vtable->GetCurrentScene)(a1);
    if ( result )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result == 1 )
        v3 = 2;
      else
        v3 = 3;
    }
    else
    {
      v3 = 1;
    }
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_21)[2 * v3], a2);
  return result;
}
// 391C18: using guessed type wchar_t asc_391C18[6];

//----- (00357E40) --------------------------------------------------------
unsigned int __cdecl sub_357E40(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 500;
      break;
    case 10:
      v4 = 505;
      break;
    case 19:
      v4 = 502;
      break;
    case 28:
      v4 = 503;
      break;
    case 30:
      v4 = 504;
      break;
    case 43:
      v4 = 506;
      break;
    case 51:
      v4 = 507;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_22)[2 * a3], a2);
}

//----- (00357F30) --------------------------------------------------------
errno_t __cdecl GetScriptFile_22(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_357E40(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 22);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_22)[2 * a4]);
}
// 392470: using guessed type wchar_t aRoute_70[6];
// 39247C: using guessed type wchar_t asc_39247C[6];

//----- (00357FA0) --------------------------------------------------------
signed int __cdecl GetNextScript_22(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@87
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_357E40(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      GetScriptFile_22(a3, Dst, SizeInWords, 52, 1);
      goto LABEL_90;
    case 1:
      GetScriptFile_22(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_90;
    case 2:
      GetScriptFile_22(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_90;
    case 3:
      (a3->vtable->field_1C)(a3, L"REP04_KA_B03", 1);
      GetScriptFile_22(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_90;
    case 4:
      (a3->vtable->field_1C)(a3, L"REP04_KA_B04", 1);
      GetScriptFile_22(a3, Dst, SizeInWords, 51, 1);
      goto LABEL_90;
    case 5:
      GetScriptFile_22(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_90;
    case 6:
      GetScriptFile_22(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_90;
    case 7:
      GetScriptFile_22(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_90;
    case 8:
      GetScriptFile_22(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_90;
    case 9:
      GetScriptFile_22(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_90;
    case 10:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_22(a3, Dst, SizeInWords, 12, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS04KAD07", v4);
          GetScriptFile_22(a3, Dst, SizeInWords, 13, 1);
        }
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04KAD05", v4);
        GetScriptFile_22(a3, Dst, SizeInWords, 11, 1);
      }
      goto LABEL_90;
    case 11:
      (a3->vtable->field_1C)(a3, L"REP04_KA_D01", 1);
      GetScriptFile_22(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_90;
    case 12:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_22(a3, Dst, SizeInWords, 14, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS04KAD07", v4);
          GetScriptFile_22(a3, Dst, SizeInWords, 13, 1);
        }
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04KAD05", v4);
        GetScriptFile_22(a3, Dst, SizeInWords, 11, 1);
      }
      goto LABEL_90;
    case 13:
      (a3->vtable->SetVariable)(a3, L"BS04KAD05", v4);
      GetScriptFile_22(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_90;
    case 14:
      (a3->vtable->field_1C)(a3, L"REP04_KA_D01", 1);
      GetScriptFile_22(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_90;
    case 15:
      GetScriptFile_22(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_90;
    case 16:
      GetScriptFile_22(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_90;
    case 17:
      GetScriptFile_22(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_90;
    case 18:
      GetScriptFile_22(a3, Dst, SizeInWords, 50, 1);
      goto LABEL_90;
    case 19:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_22(a3, Dst, SizeInWords, 21, 1);
        else
          GetScriptFile_22(a3, Dst, SizeInWords, 22, 1);
      }
      else
      {
        GetScriptFile_22(a3, Dst, SizeInWords, 20, 1);
      }
      goto LABEL_90;
    case 20:
    case 21:
    case 22:
      if ( v4 == 20 )
        (a3->vtable->SetFlagValue)(a3, L"948", 1);
      (a3->vtable->SetVariable)(a3, L"BS04KAF04", v4);
      GetScriptFile_22(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_90;
    case 23:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_22(a3, Dst, SizeInWords, 25, 1);
        else
          GetScriptFile_22(a3, Dst, SizeInWords, 26, 1);
      }
      else
      {
        GetScriptFile_22(a3, Dst, SizeInWords, 24, 1);
      }
      goto LABEL_90;
    case 24:
    case 25:
    case 26:
      (a3->vtable->SetVariable)(a3, L"BS04KAF08", v4);
      GetScriptFile_22(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_90;
    case 27:
      if ( (a3->vtable->IsFlagSet)(a3, L"948") )
        GetScriptFile_22(a3, Dst, SizeInWords, 28, 1);
      else
        GetScriptFile_22(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_90;
    case 28:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_22(a3, Dst, SizeInWords, 31, 1);
        else
          GetScriptFile_22(a3, Dst, SizeInWords, 32, 1);
      }
      else
      {
        GetScriptFile_22(a3, Dst, SizeInWords, 30, 1);
      }
      goto LABEL_90;
    case 29:
      (a3->vtable->SetVariable)(a3, L"BS04KAE01", v4);
      GetScriptFile_22(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_90;
    case 30:
      (a3->vtable->SetFlagValue)(a3, L"946", 1);
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_22(a3, Dst, SizeInWords, 34, 1);
        else
          GetScriptFile_22(a3, Dst, SizeInWords, 35, 1);
      }
      else
      {
        GetScriptFile_22(a3, Dst, SizeInWords, 33, 1);
      }
      goto LABEL_90;
    case 31:
    case 32:
      (a3->vtable->SetVariable)(a3, L"BS04KAE01", v4);
      GetScriptFile_22(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_90;
    case 33:
    case 36:
      if ( v4 == 33 )
        (a3->vtable->SetFlagValue)(a3, L"945", 1);
      (a3->vtable->SetVariable)(a3, L"BS04KAE01", v4);
      GetScriptFile_22(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_90;
    case 34:
    case 35:
      (a3->vtable->SetVariable)(a3, L"BS04KAG06", v4);
      GetScriptFile_22(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_90;
    case 37:
      GetScriptFile_22(a3, Dst, SizeInWords, 42, 1);
      goto LABEL_90;
    case 38:
      GetScriptFile_22(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_90;
    case 39:
    case 40:
      (a3->vtable->SetVariable)(a3, L"BS04KAJ00", v4);
      GetScriptFile_22(a3, Dst, SizeInWords, 47, 1);
      goto LABEL_90;
    case 41:
      GetScriptFile_22(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_90;
    case 42:
      GetScriptFile_22(a3, Dst, SizeInWords, 38, 1);
      goto LABEL_90;
    case 43:
      (a3->vtable->SetFlagValue)(a3, L"947", 1);
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_22(a3, Dst, SizeInWords, 45, 1);
        else
          GetScriptFile_22(a3, Dst, SizeInWords, 46, 1);
      }
      else
      {
        GetScriptFile_22(a3, Dst, SizeInWords, 44, 1);
      }
      goto LABEL_90;
    case 44:
    case 45:
    case 46:
      (a3->vtable->SetVariable)(a3, L"BS04KAG09", v4);
      GetScriptFile_22(a3, Dst, SizeInWords, 39, 1);
      goto LABEL_90;
    case 47:
      GetScriptFile_22(a3, Dst, SizeInWords, 49, 1);
      goto LABEL_90;
    case 48:
      GetScriptFile_22(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_90;
    case 49:
      GetScriptFile_22(a3, Dst, SizeInWords, 48, 1);
      goto LABEL_90;
    case 50:
      GetScriptFile_22(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_90;
    case 51:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->field_1C)(a3, L"REP04_KA_L00", 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_42(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 52:
      GetScriptFile_22(a3, Dst, SizeInWords, 1, 1);
LABEL_90:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 392488: using guessed type wchar_t asc_392488[6];
// 392494: using guessed type wchar_t aRep04_ka_b03[13];
// 3924B0: using guessed type wchar_t aRep04_ka_b04[13];
// 3924CC: using guessed type wchar_t aBs04kad05[10];
// 3924E0: using guessed type wchar_t aBs04kad07[10];
// 3924F4: using guessed type wchar_t aRep04_ka_d01[13];
// 392510: using guessed type wchar_t aBs04kad05_0[10];
// 392524: using guessed type wchar_t aBs04kad07_0[10];
// 392538: using guessed type wchar_t aBs04kad05_1[10];
// 39254C: using guessed type wchar_t aRep04_ka_d01_0[13];
// 392568: using guessed type wchar_t a948_0[4];
// 392570: using guessed type wchar_t aBs04kaf04[10];
// 392584: using guessed type wchar_t aBs04kaf08[10];
// 392598: using guessed type wchar_t a948_1[4];
// 3925A0: using guessed type wchar_t aBs04kae01[10];
// 3925B4: using guessed type wchar_t a946[4];
// 3925BC: using guessed type wchar_t aBs04kae01_0[10];
// 3925D0: using guessed type wchar_t a945[4];
// 3925D8: using guessed type wchar_t aBs04kae01_1[10];
// 3925EC: using guessed type wchar_t aBs04kag06[10];
// 392600: using guessed type wchar_t aBs04kaj00[10];
// 392614: using guessed type wchar_t a947[4];
// 39261C: using guessed type wchar_t aBs04kag09[10];
// 392630: using guessed type wchar_t aRep04_ka_l00[13];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00358A60) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_22(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  int v4; // ST18_4@13
  int v5; // ST18_4@15
  int v6; // ST18_4@29
  int v7; // ST18_4@33
  int v8; // ST18_4@36
  int v9; // ST18_4@42
  signed int result; // eax@48
  int v11; // [sp+4h] [bp-8h]@19
  int v12; // [sp+4h] [bp-8h]@25

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_22)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->SetFlagValue)(a3, L"969", 0);
      GetScriptFile_17(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_49;
    case 1:
      GetScriptFile_22(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_49;
    case 2:
      GetScriptFile_22(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_49;
    case 3:
      GetScriptFile_22(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_49;
    case 4:
      GetScriptFile_22(a3, Dst, SizeInWords, 50, 0);
      goto LABEL_49;
    case 5:
      GetScriptFile_22(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_49;
    case 6:
      GetScriptFile_22(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_49;
    case 7:
      GetScriptFile_22(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_49;
    case 8:
      GetScriptFile_22(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_49;
    case 9:
      GetScriptFile_22(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_49;
    case 10:
      GetScriptFile_22(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_49;
    case 11:
      v4 = (a3->vtable->GetVariable)(a3, L"BS04KAD05");
      GetScriptFile_22(a3, Dst, SizeInWords, v4, 0);
      goto LABEL_49;
    case 12:
      GetScriptFile_22(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_49;
    case 13:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04KAD07");
      GetScriptFile_22(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_49;
    case 14:
      GetScriptFile_22(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_49;
    case 15:
      GetScriptFile_22(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_49;
    case 16:
      GetScriptFile_22(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_49;
    case 17:
      v11 = (a3->vtable->GetVariable)(a3, L"BS04KAE01");
      if ( v11 == 33 )
        (a3->vtable->SetFlagValue)(a3, L"945", 0);
      GetScriptFile_22(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_49;
    case 18:
      GetScriptFile_22(a3, Dst, SizeInWords, 48, 0);
      goto LABEL_49;
    case 19:
      GetScriptFile_22(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_49;
    case 20:
    case 21:
    case 22:
      GetScriptFile_22(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_49;
    case 23:
      v12 = (a3->vtable->GetVariable)(a3, L"BS04KAF04");
      if ( v12 == 20 )
        (a3->vtable->SetFlagValue)(a3, L"948", 0);
      GetScriptFile_22(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_49;
    case 24:
    case 25:
    case 26:
      GetScriptFile_22(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_49;
    case 27:
      v6 = (a3->vtable->GetVariable)(a3, L"BS04KAF08");
      GetScriptFile_22(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_49;
    case 28:
    case 29:
      GetScriptFile_22(a3, Dst, SizeInWords, 27, 0);
      goto LABEL_49;
    case 30:
    case 31:
    case 32:
      GetScriptFile_22(a3, Dst, SizeInWords, 28, 0);
      goto LABEL_49;
    case 33:
    case 34:
    case 35:
      (a3->vtable->SetFlagValue)(a3, L"946", 0);
      GetScriptFile_22(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_49;
    case 36:
      v7 = (a3->vtable->GetVariable)(a3, L"BS04KAG06");
      GetScriptFile_22(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_49;
    case 37:
      GetScriptFile_22(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_49;
    case 38:
      GetScriptFile_22(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_49;
    case 39:
      v8 = (a3->vtable->GetVariable)(a3, L"BS04KAG09");
      GetScriptFile_22(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_49;
    case 40:
      GetScriptFile_22(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_49;
    case 41:
      GetScriptFile_22(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_49;
    case 42:
      GetScriptFile_22(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_49;
    case 43:
      GetScriptFile_22(a3, Dst, SizeInWords, 38, 0);
      goto LABEL_49;
    case 44:
    case 45:
    case 46:
      (a3->vtable->SetFlagValue)(a3, L"947", 0);
      GetScriptFile_22(a3, Dst, SizeInWords, 43, 0);
      goto LABEL_49;
    case 47:
      v9 = (a3->vtable->GetVariable)(a3, L"BS04KAJ00");
      GetScriptFile_22(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_49;
    case 48:
      GetScriptFile_22(a3, Dst, SizeInWords, 49, 0);
      goto LABEL_49;
    case 49:
      GetScriptFile_22(a3, Dst, SizeInWords, 47, 0);
      goto LABEL_49;
    case 50:
      GetScriptFile_22(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_49;
    case 51:
      GetScriptFile_22(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_49;
    case 52:
      GetScriptFile_22(a3, Dst, SizeInWords, 0, 0);
LABEL_49:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39264C: using guessed type wchar_t asc_39264C[6];
// 392658: using guessed type wchar_t a969_6[4];
// 392660: using guessed type wchar_t aBs04kad05_2[10];
// 392674: using guessed type wchar_t aBs04kad07_1[10];
// 392688: using guessed type wchar_t aBs04kae01_2[10];
// 39269C: using guessed type wchar_t a945_0[4];
// 3926A4: using guessed type wchar_t aBs04kaf04_0[10];
// 3926B8: using guessed type wchar_t a948_2[4];
// 3926C0: using guessed type wchar_t aBs04kaf08_0[10];
// 3926D4: using guessed type wchar_t a946_0[4];
// 3926DC: using guessed type wchar_t aBs04kag06_0[10];
// 3926F0: using guessed type wchar_t aBs04kag09_0[10];
// 392704: using guessed type wchar_t a947_0[4];
// 39270C: using guessed type wchar_t aBs04kaj00_0[10];

//----- (00359190) --------------------------------------------------------
signed int __cdecl searchRoot_route_4ka(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 53; ++i )
  {
    if ( !wcscmp((&route_files_22)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 22);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 392720: using guessed type wchar_t aRoute_71[6];
// 39272C: using guessed type wchar_t asc_39272C[6];

//----- (00359200) --------------------------------------------------------
signed int __cdecl CheckScript_route_22(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 11;
      break;
    case 10:
      v2 = 16;
      break;
    case 19:
      v2 = 13;
      break;
    case 28:
      v2 = 14;
      break;
    case 30:
      v2 = 15;
      break;
    case 43:
      v2 = 17;
      break;
    case 51:
      v2 = 18;
      break;
    default:
      v2 = CheckScript_by_flags_route_19(a1);
      break;
  }
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 359200: using guessed type _DWORD __cdecl CheckScript_route_22(_DWORD);
// 392738: using guessed type wchar_t asc_392738[6];

//----- (003592F0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_22(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 52; ++i )
  {
    if ( !wcscmp((&route_files_22)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00359340) --------------------------------------------------------
int __cdecl SetFeeling_route_22(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 10;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 12;
        else
          v3 = 13;
      }
      else
      {
        v3 = 11;
      }
      break;
    case 2:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 14;
        else
          v3 = 13;
      }
      else
      {
        v3 = 11;
      }
      break;
    case 9:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 21;
        else
          v3 = 22;
      }
      else
      {
        v3 = 20;
      }
      break;
    case 13:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 25;
        else
          v3 = 26;
      }
      else
      {
        v3 = 24;
      }
      break;
    case 18:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 31;
        else
          v3 = 32;
      }
      else
      {
        v3 = 30;
      }
      break;
    case 20:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 34;
        else
          v3 = 35;
      }
      else
      {
        v3 = 33;
      }
      break;
    case 33:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 45;
        else
          v3 = 46;
      }
      else
      {
        v3 = 44;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_22)[2 * v3], a2);
  return result;
}
// 392744: using guessed type wchar_t asc_392744[6];

//----- (003595C0) --------------------------------------------------------
unsigned int __cdecl sub_3595C0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 512;
      break;
    case 1:
      v4 = 514;
      break;
    case 5:
      v4 = 516;
      break;
    case 24:
      v4 = 525;
      break;
    case 25:
      v4 = 524;
      break;
    case 36:
      v4 = 522;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_23)[2 * a3], a2);
}

//----- (00359690) --------------------------------------------------------
errno_t __cdecl GetScriptFile_23(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3595C0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 23);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_23)[2 * a4]);
}
// 392D44: using guessed type wchar_t aRoute_72[6];
// 392D50: using guessed type wchar_t asc_392D50[6];

//----- (00359700) --------------------------------------------------------
signed int __cdecl GetNextScript_23(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@42
  int v4; // eax@50
  signed int result; // eax@54
  int v6; // eax@68
  int v7; // [sp+8h] [bp-4h]@1

  v7 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_3595C0(a3, 1, v7);
  switch ( v7 )
  {
    case 0:
      GetScriptFile_23(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_73;
    case 1:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          (a3->vtable->SetVariable)(a3, L"BS04KBB02", v7);
          GetScriptFile_23(a3, Dst, SizeInWords, 3, 1);
        }
        else
        {
          GetScriptFile_23(a3, Dst, SizeInWords, 4, 1);
        }
      }
      else
      {
        GetScriptFile_23(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_73;
    case 2:
      (a3->vtable->SetFlagValue)(a3, L"950", 1);
      (a3->vtable->SetVariable)(a3, L"BS04KBB02", v7);
      GetScriptFile_23(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_73;
    case 3:
    case 4:
      (a3->vtable->SetVariable)(a3, L"BS04KBB04", v7);
      GetScriptFile_23(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_73;
    case 5:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_23(a3, Dst, SizeInWords, 7, 1);
        else
          GetScriptFile_23(a3, Dst, SizeInWords, 8, 1);
      }
      else
      {
        GetScriptFile_23(a3, Dst, SizeInWords, 6, 1);
      }
      goto LABEL_73;
    case 6:
    case 9:
      if ( (a3->vtable->IsFlagSet)(a3, L"950") )
      {
        (a3->vtable->SetVariable)(a3, L"BS04KBB09", v7);
        GetScriptFile_23(a3, Dst, SizeInWords, 10, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04KBB10", v7);
        GetScriptFile_23(a3, Dst, SizeInWords, 11, 1);
      }
      goto LABEL_73;
    case 7:
    case 8:
      (a3->vtable->SetVariable)(a3, L"BS04KBB08", v7);
      GetScriptFile_23(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_73;
    case 10:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS04KBC04", v7);
        GetScriptFile_23(a3, Dst, SizeInWords, 16, 1);
      }
      else
      {
        GetScriptFile_23(a3, Dst, SizeInWords, 17, 1);
      }
      goto LABEL_73;
    case 11:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        GetScriptFile_23(a3, Dst, SizeInWords, 13, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04KBC00", v7);
        GetScriptFile_23(a3, Dst, SizeInWords, 12, 1);
      }
      goto LABEL_73;
    case 12:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_23(a3, Dst, SizeInWords, 15, 1);
      else
        GetScriptFile_23(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_73;
    case 13:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS04KBC04", v7);
        GetScriptFile_23(a3, Dst, SizeInWords, 16, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04KBC00", v7);
        GetScriptFile_23(a3, Dst, SizeInWords, 12, 1);
      }
      goto LABEL_73;
    case 14:
    case 15:
    case 16:
    case 17:
      if ( v7 == 15 )
      {
        (a3->vtable->SetFlagValue)(a3, L"949", 1);
        (a3->vtable->field_1C)(a3, L"REP04_KB_C03", 1);
      }
      (a3->vtable->SetVariable)(a3, L"BS04KBC06", v7);
      GetScriptFile_23(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_73;
    case 18:
      GetScriptFile_23(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_73;
    case 19:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_23(a3, Dst, SizeInWords, 21, 1);
      else
        GetScriptFile_23(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_73;
    case 20:
      GetScriptFile_23(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_73;
    case 21:
      GetScriptFile_23(a3, Dst, SizeInWords, 26, 1);
      goto LABEL_73;
    case 22:
      GetScriptFile_23(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_73;
    case 23:
      GetScriptFile_23(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_73;
    case 24:
    case 25:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05SBA00", v7);
      v4 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SB", v4);
      if ( v7 == 24 )
        (a3->vtable->field_1C)(a3, L"REP04_KB_E01", 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_49(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 26:
      GetScriptFile_23(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_73;
    case 27:
      GetScriptFile_23(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_73;
    case 28:
      GetScriptFile_23(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_73;
    case 29:
      GetScriptFile_23(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_73;
    case 30:
      GetScriptFile_23(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_73;
    case 31:
      if ( (a3->vtable->IsFlagSet)(a3, L"949") )
        GetScriptFile_23(a3, Dst, SizeInWords, 24, 1);
      else
        GetScriptFile_23(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_73;
    case 32:
      GetScriptFile_23(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_73;
    case 33:
      GetScriptFile_23(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_73;
    case 34:
      GetScriptFile_23(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_73;
    case 35:
      GetScriptFile_23(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_73;
    case 36:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05KIA00", v7);
      v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05KI", v6);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_47(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 37:
      GetScriptFile_23(a3, Dst, SizeInWords, 1, 1);
LABEL_73:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 392D5C: using guessed type wchar_t asc_392D5C[6];
// 392D68: using guessed type wchar_t aBs04kbb02[10];
// 392D7C: using guessed type wchar_t a950_1[4];
// 392D84: using guessed type wchar_t aBs04kbb02_0[10];
// 392D98: using guessed type wchar_t aBs04kbb04[10];
// 392DAC: using guessed type wchar_t a950_2[4];
// 392DB4: using guessed type wchar_t aBs04kbb09[10];
// 392DC8: using guessed type wchar_t aBs04kbb10[10];
// 392DDC: using guessed type wchar_t aBs04kbb08[10];
// 392DF0: using guessed type wchar_t aBs04kbc04[10];
// 392E04: using guessed type wchar_t aBs04kbc00[10];
// 392E18: using guessed type wchar_t aBs04kbc00_0[10];
// 392E2C: using guessed type wchar_t aBs04kbc04_0[10];
// 392E40: using guessed type wchar_t a949_1[4];
// 392E48: using guessed type wchar_t aRep04_kb_c03[13];
// 392E64: using guessed type wchar_t aBs04kbc06[10];
// 392E78: using guessed type wchar_t a001_10[4];
// 392E80: using guessed type wchar_t a002_10[4];
// 392E88: using guessed type wchar_t aBs05sba00[10];
// 392E9C: using guessed type wchar_t aRoute_73[6];
// 392EA8: using guessed type wchar_t aBs05sb[7];
// 392EB8: using guessed type wchar_t aRep04_kb_e01[13];
// 392ED4: using guessed type wchar_t a949_2[4];
// 392EDC: using guessed type wchar_t aBs05kia00_1[10];
// 392EF0: using guessed type wchar_t aRoute_74[6];
// 392EFC: using guessed type wchar_t aBs05ki_1[7];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00359FB0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_23(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@8
  int v6; // ST18_4@10
  int v7; // ST18_4@11
  int v8; // ST18_4@12
  int v9; // ST18_4@13
  int v10; // ST18_4@16
  int v11; // [sp+4h] [bp-8h]@5
  int v12; // [sp+4h] [bp-8h]@18

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_23)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_8(a3, Dst, SizeInWords, 3, 0);
      return 1;
    case 1:
      GetScriptFile_23(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_39;
    case 2:
    case 4:
      GetScriptFile_23(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_39;
    case 3:
      v11 = (a3->vtable->GetVariable)(a3, L"BS04KBB02");
      if ( v11 == 2 )
        (a3->vtable->SetFlagValue)(a3, L"950", 0);
      GetScriptFile_23(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_39;
    case 5:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04KBB04");
      GetScriptFile_23(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_39;
    case 6:
    case 7:
    case 8:
      GetScriptFile_23(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_39;
    case 9:
      v6 = (a3->vtable->GetVariable)(a3, L"BS04KBB08");
      GetScriptFile_23(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_39;
    case 10:
      v7 = (a3->vtable->GetVariable)(a3, L"BS04KBB09");
      GetScriptFile_23(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_39;
    case 11:
      v8 = (a3->vtable->GetVariable)(a3, L"BS04KBB10");
      GetScriptFile_23(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_39;
    case 12:
      v9 = (a3->vtable->GetVariable)(a3, L"BS04KBC00");
      GetScriptFile_23(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_39;
    case 13:
      GetScriptFile_23(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_39;
    case 14:
    case 15:
      GetScriptFile_23(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_39;
    case 16:
      v10 = (a3->vtable->GetVariable)(a3, L"BS04KBC04");
      GetScriptFile_23(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_39;
    case 17:
      GetScriptFile_23(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_39;
    case 18:
      v12 = (a3->vtable->GetVariable)(a3, L"BS04KBC06");
      if ( v12 == 15 )
        (a3->vtable->SetFlagValue)(a3, L"949", 0);
      GetScriptFile_23(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_39;
    case 19:
      GetScriptFile_23(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_39;
    case 20:
    case 21:
      GetScriptFile_23(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_39;
    case 22:
      GetScriptFile_23(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_39;
    case 23:
      GetScriptFile_23(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_39;
    case 24:
    case 25:
      GetScriptFile_23(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_39;
    case 26:
      GetScriptFile_23(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_39;
    case 27:
      GetScriptFile_23(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_39;
    case 28:
      GetScriptFile_23(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_39;
    case 29:
      GetScriptFile_23(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_39;
    case 30:
      GetScriptFile_23(a3, Dst, SizeInWords, 27, 0);
      goto LABEL_39;
    case 31:
      GetScriptFile_23(a3, Dst, SizeInWords, 28, 0);
      goto LABEL_39;
    case 32:
      GetScriptFile_23(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_39;
    case 33:
      GetScriptFile_23(a3, Dst, SizeInWords, 32, 0);
      goto LABEL_39;
    case 34:
      GetScriptFile_23(a3, Dst, SizeInWords, 26, 0);
      goto LABEL_39;
    case 35:
      GetScriptFile_23(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_39;
    case 36:
      GetScriptFile_23(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_39;
    case 37:
      GetScriptFile_23(a3, Dst, SizeInWords, 0, 0);
LABEL_39:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 392F0C: using guessed type wchar_t asc_392F0C[6];
// 392F18: using guessed type wchar_t aBs04kbb02_1[10];
// 392F2C: using guessed type wchar_t a950_3[4];
// 392F34: using guessed type wchar_t aBs04kbb04_0[10];
// 392F48: using guessed type wchar_t aBs04kbb08_0[10];
// 392F5C: using guessed type wchar_t aBs04kbb09_0[10];
// 392F70: using guessed type wchar_t aBs04kbb10_0[10];
// 392F84: using guessed type wchar_t aBs04kbc00_1[10];
// 392F98: using guessed type wchar_t aBs04kbc04_1[10];
// 392FAC: using guessed type wchar_t aBs04kbc06_0[10];
// 392FC0: using guessed type wchar_t a949_3[4];

//----- (0035A550) --------------------------------------------------------
signed int __cdecl searchRoot_route_4kb(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 38; ++i )
  {
    if ( !wcscmp((&route_files_23)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 23);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 392FC8: using guessed type wchar_t aRoute_75[6];
// 392FD4: using guessed type wchar_t asc_392FD4[6];

//----- (0035A5C0) --------------------------------------------------------
signed int __cdecl CheckScript_route_23(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 23;
      break;
    case 1:
      v2 = 25;
      break;
    case 5:
      v2 = 27;
      break;
    case 24:
      v2 = 36;
      break;
    case 25:
      v2 = 35;
      break;
    case 36:
      v2 = 33;
      break;
    default:
      v2 = CheckScript_by_flags_route_19(a1);
      break;
  }
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 35A5C0: using guessed type _DWORD __cdecl CheckScript_route_23(_DWORD);
// 392FE0: using guessed type wchar_t asc_392FE0[6];

//----- (0035A690) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_23(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 37; ++i )
  {
    if ( !wcscmp((&route_files_23)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0035A6E0) --------------------------------------------------------
int __cdecl SetFeeling_route_23(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 1;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 2;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 7;
        else
          v3 = 8;
      }
      else
      {
        v3 = 6;
      }
      break;
    case 9:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 16;
      else
        v3 = 17;
      break;
    case 10:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 13;
      else
        v3 = 12;
      break;
    case 11:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 15;
      else
        v3 = 14;
      break;
    case 12:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 16;
      else
        v3 = 12;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_23)[2 * v3], a2);
  return result;
}
// 392FEC: using guessed type wchar_t asc_392FEC[6];

//----- (0035A8A0) --------------------------------------------------------
unsigned int __cdecl sub_35A8A0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 529;
      break;
    case 2:
      v4 = 533;
      break;
    case 15:
      v4 = 534;
      break;
    case 40:
      v4 = 537;
      break;
    case 42:
      v4 = 540;
      break;
    case 26:
      v4 = 542;
      break;
    case 27:
      v4 = 541;
      break;
    case 48:
      v4 = 543;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_24)[2 * a3], a2);
}

//----- (0035A9A0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_24(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_35A8A0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 24);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_24)[2 * a4]);
}
// 3937CC: using guessed type wchar_t aRoute_76[6];
// 3937D8: using guessed type wchar_t asc_3937D8[6];

//----- (0035AA10) --------------------------------------------------------
signed int __cdecl GetNextScript_24(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@40
  int v4; // eax@50
  signed int result; // eax@54
  int v6; // eax@78
  int v7; // [sp+8h] [bp-4h]@1

  v7 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_35A8A0(a3, 1, v7);
  switch ( v7 )
  {
    case 0:
      GetScriptFile_24(a3, Dst, SizeInWords, 49, 1);
      goto LABEL_91;
    case 1:
      (a3->vtable->SetVariable)(a3, L"BS04KCF00", v7);
      GetScriptFile_24(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_91;
    case 2:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          (a3->vtable->SetVariable)(a3, L"BS04KCB02", v7);
          GetScriptFile_24(a3, Dst, SizeInWords, 4, 1);
        }
        else
        {
          GetScriptFile_24(a3, Dst, SizeInWords, 5, 1);
        }
      }
      else
      {
        GetScriptFile_24(a3, Dst, SizeInWords, 3, 1);
      }
      goto LABEL_91;
    case 3:
      (a3->vtable->SetFlagValue)(a3, L"950", 1);
      (a3->vtable->SetVariable)(a3, L"BS04KCB02", v7);
      GetScriptFile_24(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_91;
    case 4:
    case 5:
      (a3->vtable->SetVariable)(a3, L"BS04KCB04", v7);
      GetScriptFile_24(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_91;
    case 6:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_24(a3, Dst, SizeInWords, 8, 1);
        else
          GetScriptFile_24(a3, Dst, SizeInWords, 9, 1);
      }
      else
      {
        GetScriptFile_24(a3, Dst, SizeInWords, 7, 1);
      }
      goto LABEL_91;
    case 7:
    case 10:
      (a3->vtable->SetVariable)(a3, L"BS04KCB10", v7);
      GetScriptFile_24(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_91;
    case 8:
    case 9:
      (a3->vtable->SetVariable)(a3, L"BS04KCB08", v7);
      GetScriptFile_24(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_91;
    case 11:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        GetScriptFile_24(a3, Dst, SizeInWords, 13, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04KCC00", v7);
        GetScriptFile_24(a3, Dst, SizeInWords, 12, 1);
      }
      goto LABEL_91;
    case 12:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_24(a3, Dst, SizeInWords, 15, 1);
      else
        GetScriptFile_24(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_91;
    case 13:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        GetScriptFile_24(a3, Dst, SizeInWords, 16, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04KCC00", v7);
        GetScriptFile_24(a3, Dst, SizeInWords, 12, 1);
      }
      goto LABEL_91;
    case 14:
    case 16:
    case 17:
      if ( v7 == 17 )
        (a3->vtable->SetFlagValue)(a3, L"949", 1);
      (a3->vtable->SetVariable)(a3, L"BS04KCC06", v7);
      GetScriptFile_24(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_91;
    case 15:
      (a3->vtable->field_1C)(a3, L"REP04_KC_C03", 1);
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_24(a3, Dst, SizeInWords, 47, 1);
      else
        GetScriptFile_24(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_91;
    case 18:
      GetScriptFile_24(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_91;
    case 19:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_24(a3, Dst, SizeInWords, 21, 1);
      else
        GetScriptFile_24(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_91;
    case 20:
      GetScriptFile_24(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_91;
    case 21:
      GetScriptFile_24(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_91;
    case 22:
      GetScriptFile_24(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_91;
    case 23:
      GetScriptFile_24(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_91;
    case 24:
      GetScriptFile_24(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_91;
    case 25:
      (a3->vtable->SetVariable)(a3, L"BS04KCF00", v7);
      GetScriptFile_24(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_91;
    case 26:
    case 27:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05SBA00", v7);
      v4 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SB", v4);
      if ( v7 == 26 )
        (a3->vtable->field_1C)(a3, L"REP04_KC_E01", 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_49(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 28:
      GetScriptFile_24(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_91;
    case 29:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_24(a3, Dst, SizeInWords, 31, 1);
        else
          GetScriptFile_24(a3, Dst, SizeInWords, 32, 1);
      }
      else
      {
        GetScriptFile_24(a3, Dst, SizeInWords, 30, 1);
      }
      goto LABEL_91;
    case 30:
    case 31:
    case 32:
      (a3->vtable->SetVariable)(a3, L"BS04KCE08", v7);
      GetScriptFile_24(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_91;
    case 33:
      GetScriptFile_24(a3, Dst, SizeInWords, 39, 1);
      goto LABEL_91;
    case 34:
      GetScriptFile_24(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_91;
    case 35:
      GetScriptFile_24(a3, Dst, SizeInWords, 38, 1);
      goto LABEL_91;
    case 36:
      GetScriptFile_24(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_91;
    case 37:
      GetScriptFile_24(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_91;
    case 38:
      if ( (a3->vtable->IsFlagSet)(a3, L"949") )
        GetScriptFile_24(a3, Dst, SizeInWords, 26, 1);
      else
        GetScriptFile_24(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_91;
    case 39:
      GetScriptFile_24(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_91;
    case 40:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_24(a3, Dst, SizeInWords, 42, 1);
      else
        GetScriptFile_24(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_91;
    case 41:
      GetScriptFile_24(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_91;
    case 42:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05SAA00", v7);
      v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SA", v6);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_48(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 43:
      GetScriptFile_24(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_91;
    case 44:
      GetScriptFile_24(a3, Dst, SizeInWords, 46, 1);
      goto LABEL_91;
    case 45:
      GetScriptFile_24(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_91;
    case 46:
      GetScriptFile_24(a3, Dst, SizeInWords, 48, 1);
      goto LABEL_91;
    case 47:
      GetScriptFile_24(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_91;
    case 48:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_43(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 49:
      GetScriptFile_24(a3, Dst, SizeInWords, 2, 1);
LABEL_91:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 3937E4: using guessed type wchar_t asc_3937E4[6];
// 3937F0: using guessed type wchar_t aBs04kcf00[10];
// 393804: using guessed type wchar_t aBs04kcb02[10];
// 393818: using guessed type wchar_t a950_4[4];
// 393820: using guessed type wchar_t aBs04kcb02_0[10];
// 393834: using guessed type wchar_t aBs04kcb04[10];
// 393848: using guessed type wchar_t aBs04kcb10[10];
// 39385C: using guessed type wchar_t aBs04kcb08[10];
// 393870: using guessed type wchar_t aBs04kcc00[10];
// 393884: using guessed type wchar_t aBs04kcc00_0[10];
// 393898: using guessed type wchar_t a949_4[4];
// 3938A0: using guessed type wchar_t aBs04kcc06[10];
// 3938B4: using guessed type wchar_t aRep04_kc_c03[13];
// 3938D0: using guessed type wchar_t a001_11[4];
// 3938D8: using guessed type wchar_t a002_11[4];
// 3938E0: using guessed type wchar_t aBs04kcf00_0[10];
// 3938F4: using guessed type wchar_t aBs05sba00_0[10];
// 393908: using guessed type wchar_t aRoute_77[6];
// 393914: using guessed type wchar_t aBs05sb_0[7];
// 393924: using guessed type wchar_t aRep04_kc_e01[13];
// 393940: using guessed type wchar_t aBs04kce08[10];
// 393954: using guessed type wchar_t a949_5[4];
// 39395C: using guessed type wchar_t aBs05saa00[10];
// 393970: using guessed type wchar_t aRoute_78[6];
// 39397C: using guessed type wchar_t aBs05sa[7];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (0035B4C0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_24(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST20_4@1
  signed int result; // eax@7
  int v5; // ST1C_4@14
  int v6; // ST1C_4@16
  int v7; // ST1C_4@17
  int v8; // ST1C_4@18
  int v9; // ST1C_4@36
  int v10; // ST1C_4@37
  int v11; // [sp+4h] [bp-Ch]@2
  int v12; // [sp+8h] [bp-8h]@2
  int v13; // [sp+8h] [bp-8h]@11
  int v14; // [sp+8h] [bp-8h]@23

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_24)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      v12 = (a3->vtable->GetVariable)(a3, L"BS04KCA00");
      v11 = (a3->vtable->GetVariable)(a3, L"BS04KC");
      if ( v11 == 18 )
      {
        GetScriptFile_18(a3, Dst, SizeInWords, v12, 0);
      }
      else
      {
        if ( v11 == 10 )
          GetScriptFile_10(a3, Dst, SizeInWords, v12, 0);
        else
          GetScriptFile_11(a3, Dst, SizeInWords, v12, 0);
      }
      return 1;
    case 1:
      GetScriptFile_24(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_53;
    case 2:
      GetScriptFile_24(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_53;
    case 3:
    case 5:
      GetScriptFile_24(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_53;
    case 4:
      v13 = (a3->vtable->GetVariable)(a3, L"BS04KCB02");
      if ( v13 == 3 )
        (a3->vtable->SetFlagValue)(a3, L"950", 0);
      GetScriptFile_24(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_53;
    case 6:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04KCB04");
      GetScriptFile_24(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_53;
    case 7:
    case 8:
    case 9:
      GetScriptFile_24(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_53;
    case 10:
      v6 = (a3->vtable->GetVariable)(a3, L"BS04KCB08");
      GetScriptFile_24(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_53;
    case 11:
      v7 = (a3->vtable->GetVariable)(a3, L"BS04KCB10");
      GetScriptFile_24(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_53;
    case 12:
      v8 = (a3->vtable->GetVariable)(a3, L"BS04KCC00");
      GetScriptFile_24(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_53;
    case 13:
      GetScriptFile_24(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_53;
    case 14:
    case 15:
      GetScriptFile_24(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_53;
    case 16:
      GetScriptFile_24(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_53;
    case 17:
      GetScriptFile_24(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_53;
    case 18:
      v14 = (a3->vtable->GetVariable)(a3, L"BS04KCC06");
      if ( v14 == 17 )
        (a3->vtable->SetFlagValue)(a3, L"949", 0);
      GetScriptFile_24(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_53;
    case 19:
      GetScriptFile_24(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_53;
    case 20:
    case 21:
      GetScriptFile_24(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_53;
    case 22:
      GetScriptFile_24(a3, Dst, SizeInWords, 45, 0);
      goto LABEL_53;
    case 23:
      GetScriptFile_24(a3, Dst, SizeInWords, 39, 0);
      goto LABEL_53;
    case 24:
      GetScriptFile_24(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_53;
    case 25:
      GetScriptFile_24(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_53;
    case 26:
    case 27:
      GetScriptFile_24(a3, Dst, SizeInWords, 38, 0);
      goto LABEL_53;
    case 28:
      GetScriptFile_24(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_53;
    case 29:
      GetScriptFile_24(a3, Dst, SizeInWords, 47, 0);
      goto LABEL_53;
    case 30:
    case 31:
    case 32:
      GetScriptFile_24(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_53;
    case 33:
      v9 = (a3->vtable->GetVariable)(a3, L"BS04KCE08");
      GetScriptFile_24(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_53;
    case 34:
      v10 = (a3->vtable->GetVariable)(a3, L"BS04KCF00");
      GetScriptFile_24(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_53;
    case 35:
      GetScriptFile_24(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_53;
    case 36:
      GetScriptFile_24(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_53;
    case 37:
      GetScriptFile_24(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_53;
    case 38:
      GetScriptFile_24(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_53;
    case 39:
      GetScriptFile_24(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_53;
    case 40:
      GetScriptFile_24(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_53;
    case 41:
    case 42:
      GetScriptFile_24(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_53;
    case 43:
      GetScriptFile_24(a3, Dst, SizeInWords, 36, 0);
      goto LABEL_53;
    case 44:
      GetScriptFile_24(a3, Dst, SizeInWords, 43, 0);
      goto LABEL_53;
    case 45:
      GetScriptFile_24(a3, Dst, SizeInWords, 28, 0);
      goto LABEL_53;
    case 46:
      GetScriptFile_24(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_53;
    case 47:
      GetScriptFile_24(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_53;
    case 48:
      GetScriptFile_24(a3, Dst, SizeInWords, 46, 0);
      goto LABEL_53;
    case 49:
      GetScriptFile_24(a3, Dst, SizeInWords, 0, 0);
LABEL_53:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39398C: using guessed type wchar_t asc_39398C[6];
// 393998: using guessed type wchar_t aBs04kca00_2[10];
// 3939AC: using guessed type wchar_t aBs04kc_2[7];
// 3939BC: using guessed type wchar_t aBs04kcb02_1[10];
// 3939D0: using guessed type wchar_t a950_5[4];
// 3939D8: using guessed type wchar_t aBs04kcb04_0[10];
// 3939EC: using guessed type wchar_t aBs04kcb08_0[10];
// 393A00: using guessed type wchar_t aBs04kcb10_0[10];
// 393A14: using guessed type wchar_t aBs04kcc00_1[10];
// 393A28: using guessed type wchar_t aBs04kcc06_0[10];
// 393A3C: using guessed type wchar_t a949_6[4];
// 393A44: using guessed type wchar_t aBs04kce08_0[10];
// 393A58: using guessed type wchar_t aBs04kcf00_1[10];

//----- (0035BC00) --------------------------------------------------------
signed int __cdecl searchRoot_route_4kc(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 50; ++i )
  {
    if ( !wcscmp((&route_files_24)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 24);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 393A6C: using guessed type wchar_t aRoute_79[6];
// 393A78: using guessed type wchar_t asc_393A78[6];

//----- (0035BC70) --------------------------------------------------------
signed int __cdecl CheckScript_route_24(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 40;
      break;
    case 2:
      v2 = 44;
      break;
    case 15:
      v2 = 45;
      break;
    case 40:
      v2 = 48;
      break;
    case 42:
      v2 = 51;
      break;
    case 26:
      v2 = 53;
      break;
    case 27:
      v2 = 52;
      break;
    case 48:
      v2 = 54;
      break;
    default:
      v2 = CheckScript_by_flags_route_19(a1);
      break;
  }
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 35BC70: using guessed type _DWORD __cdecl CheckScript_route_24(_DWORD);
// 393A84: using guessed type wchar_t asc_393A84[6];

//----- (0035BD70) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_24(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 49; ++i )
  {
    if ( !wcscmp((&route_files_24)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0035BDC0) --------------------------------------------------------
int __cdecl SetFeeling_route_24(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 2;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 4;
        else
          v3 = 5;
      }
      else
      {
        v3 = 3;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 8;
        else
          v3 = 9;
      }
      else
      {
        v3 = 7;
      }
      break;
    case 9:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 13;
      else
        v3 = 12;
      break;
    case 10:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 15;
      else
        v3 = 14;
      break;
    case 11:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 16;
      else
        v3 = 12;
      break;
    case 13:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 47;
      else
        v3 = 17;
      break;
    case 27:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 31;
        else
          v3 = 32;
      }
      else
      {
        v3 = 30;
      }
      break;
    case 38:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 42;
      else
        v3 = 41;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_24)[2 * v3], a2);
  return result;
}
// 393A90: using guessed type wchar_t asc_393A90[6];

//----- (0035C000) --------------------------------------------------------
unsigned int __cdecl sub_35C000(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 549;
      break;
    case 1:
      v4 = 550;
      break;
    case 23:
      v4 = 552;
      break;
    case 24:
      v4 = 556;
      break;
    case 26:
      v4 = 553;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_25)[2 * a3], a2);
}

//----- (0035C0C0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_25(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_35C000(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 25);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_25)[2 * a4]);
}
// 393F00: using guessed type wchar_t aRoute_80[6];
// 393F0C: using guessed type wchar_t asc_393F0C[6];

//----- (0035C130) --------------------------------------------------------
signed int __cdecl GetNextScript_25(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@33
  signed int result; // eax@49
  int v5; // eax@51
  int v6; // [sp+8h] [bp-4h]@1

  v6 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_35C000(a3, 1, v6);
  switch ( v6 )
  {
    case 0:
      GetScriptFile_25(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_56;
    case 1:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_25(a3, Dst, SizeInWords, 3, 1);
        else
          GetScriptFile_25(a3, Dst, SizeInWords, 4, 1);
      }
      else
      {
        GetScriptFile_25(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_56;
    case 2:
    case 7:
      (a3->vtable->SetVariable)(a3, L"BS04KEB07", v6);
      GetScriptFile_25(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_56;
    case 3:
    case 6:
      (a3->vtable->SetVariable)(a3, L"BS04KEC01", v6);
      GetScriptFile_25(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_56;
    case 4:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_25(a3, Dst, SizeInWords, 6, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS04KEB06", v6);
          GetScriptFile_25(a3, Dst, SizeInWords, 7, 1);
        }
      }
      else
      {
        GetScriptFile_25(a3, Dst, SizeInWords, 5, 1);
      }
      goto LABEL_56;
    case 5:
      (a3->vtable->SetVariable)(a3, L"BS04KEB06", v6);
      GetScriptFile_25(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_56;
    case 8:
      (a3->vtable->field_1C)(a3, L"REP04_KE_B07", 1);
      GetScriptFile_25(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_56;
    case 9:
      (a3->vtable->SetFlagValue)(a3, L"934", 1);
      (a3->vtable->SetFlagValue)(a3, L"933", 1);
      (a3->vtable->SetVariable)(a3, L"BS04KED00", v6);
      GetScriptFile_25(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_56;
    case 10:
      (a3->vtable->SetFlagValue)(a3, L"932", 1);
      (a3->vtable->SetVariable)(a3, L"BS04KED00", v6);
      (a3->vtable->field_1C)(a3, L"REP04_KE_C01", 1);
      GetScriptFile_25(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_56;
    case 11:
      GetScriptFile_25(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_56;
    case 12:
      if ( (a3->vtable->IsFlagSet)(a3, L"933") )
      {
        GetScriptFile_25(a3, Dst, SizeInWords, 13, 1);
      }
      else
      {
        if ( (a3->vtable->IsFlagSet)(a3, L"932") )
        {
          GetScriptFile_25(a3, Dst, SizeInWords, 14, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS04KEE03", v6);
          GetScriptFile_25(a3, Dst, SizeInWords, 15, 1);
        }
      }
      goto LABEL_56;
    case 13:
    case 15:
      (a3->vtable->SetVariable)(a3, L"BS04KEE04", v6);
      GetScriptFile_25(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_56;
    case 14:
      (a3->vtable->SetVariable)(a3, L"BS04KEE03", v6);
      GetScriptFile_25(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_56;
    case 16:
      GetScriptFile_25(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_56;
    case 17:
      GetScriptFile_25(a3, Dst, SizeInWords, 26, 1);
      goto LABEL_56;
    case 18:
      GetScriptFile_25(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_56;
    case 19:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_25(a3, Dst, SizeInWords, 21, 1);
      else
        GetScriptFile_25(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_56;
    case 20:
      GetScriptFile_25(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_56;
    case 21:
      (a3->vtable->SetVariable)(a3, L"BS04KEE05", v6);
      GetScriptFile_25(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_56;
    case 22:
      GetScriptFile_25(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_56;
    case 23:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_25(a3, Dst, SizeInWords, 25, 1);
      else
        GetScriptFile_25(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_56;
    case 24:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      if ( (a3->vtable->IsFlagSet)(a3, L"934") )
        GetScriptFile_52(a3, Dst, SizeInWords, 0, 1);
      else
        GetScriptFile_45(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 25:
      (a3->vtable->SetVariable)(a3, L"BS04KEE05", v6);
      GetScriptFile_25(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_56;
    case 26:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05SBA00", v6);
      v5 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SB", v5);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_49(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 27:
      GetScriptFile_25(a3, Dst, SizeInWords, 1, 1);
LABEL_56:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 393F18: using guessed type wchar_t asc_393F18[6];
// 393F24: using guessed type wchar_t aBs04keb07[10];
// 393F38: using guessed type wchar_t aBs04kec01[10];
// 393F4C: using guessed type wchar_t aBs04keb06[10];
// 393F60: using guessed type wchar_t aBs04keb06_0[10];
// 393F74: using guessed type wchar_t aRep04_ke_b07[13];
// 393F90: using guessed type wchar_t a934[4];
// 393F98: using guessed type wchar_t a933_0[4];
// 393FA0: using guessed type wchar_t aBs04ked00[10];
// 393FB4: using guessed type wchar_t a932_0[4];
// 393FBC: using guessed type wchar_t aBs04ked00_0[10];
// 393FD0: using guessed type wchar_t aRep04_ke_c01[13];
// 393FEC: using guessed type wchar_t a933_1[4];
// 393FF4: using guessed type wchar_t a932_1[4];
// 393FFC: using guessed type wchar_t aBs04kee03[10];
// 394010: using guessed type wchar_t aBs04kee04[10];
// 394024: using guessed type wchar_t aBs04kee03_0[10];
// 394038: using guessed type wchar_t a001_12[4];
// 394040: using guessed type wchar_t a002_12[4];
// 394048: using guessed type wchar_t aBs04kee05[10];
// 39405C: using guessed type wchar_t a934_0[4];
// 394064: using guessed type wchar_t aBs04kee05_0[10];
// 394078: using guessed type wchar_t aBs05sba00_1[10];
// 39408C: using guessed type wchar_t aRoute_81[6];
// 394098: using guessed type wchar_t aBs05sb_1[7];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (0035C890) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_25(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@6
  int v6; // ST18_4@7
  int v7; // ST18_4@9
  int v8; // ST18_4@16
  int v9; // ST18_4@17
  int v10; // ST18_4@18
  int v11; // [sp+4h] [bp-8h]@10

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_25)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_13(a3, Dst, SizeInWords, 44, 0);
      return 1;
    case 1:
      GetScriptFile_25(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_28;
    case 2:
    case 3:
    case 4:
      GetScriptFile_25(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_28;
    case 5:
    case 6:
      GetScriptFile_25(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_28;
    case 7:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04KEB06");
      GetScriptFile_25(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_28;
    case 8:
      v6 = (a3->vtable->GetVariable)(a3, L"BS04KEB07");
      GetScriptFile_25(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_28;
    case 9:
      GetScriptFile_25(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_28;
    case 10:
      v7 = (a3->vtable->GetVariable)(a3, L"BS04KEC01");
      GetScriptFile_25(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_28;
    case 11:
      v11 = (a3->vtable->GetVariable)(a3, L"BS04KED00");
      if ( v11 == 10 )
      {
        (a3->vtable->SetFlagValue)(a3, L"932", 0);
      }
      else
      {
        (a3->vtable->SetFlagValue)(a3, L"933", 0);
        (a3->vtable->SetFlagValue)(a3, L"934", 0);
      }
      GetScriptFile_25(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_28;
    case 12:
      GetScriptFile_25(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_28;
    case 13:
    case 14:
      GetScriptFile_25(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_28;
    case 15:
      v8 = (a3->vtable->GetVariable)(a3, L"BS04KEE03");
      GetScriptFile_25(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_28;
    case 16:
      v9 = (a3->vtable->GetVariable)(a3, L"BS04KEE04");
      GetScriptFile_25(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_28;
    case 17:
      v10 = (a3->vtable->GetVariable)(a3, L"BS04KEE05");
      GetScriptFile_25(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_28;
    case 18:
      GetScriptFile_25(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_28;
    case 19:
      GetScriptFile_25(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_28;
    case 20:
    case 21:
      GetScriptFile_25(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_28;
    case 22:
      GetScriptFile_25(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_28;
    case 23:
      GetScriptFile_25(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_28;
    case 24:
    case 25:
      GetScriptFile_25(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_28;
    case 26:
      GetScriptFile_25(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_28;
    case 27:
      GetScriptFile_25(a3, Dst, SizeInWords, 0, 0);
LABEL_28:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 3940A8: using guessed type wchar_t asc_3940A8[6];
// 3940B4: using guessed type wchar_t aBs04keb06_1[10];
// 3940C8: using guessed type wchar_t aBs04keb07_0[10];
// 3940DC: using guessed type wchar_t aBs04kec01_0[10];
// 3940F0: using guessed type wchar_t aBs04ked00_1[10];
// 394104: using guessed type wchar_t a932_2[4];
// 39410C: using guessed type wchar_t a933_2[4];
// 394114: using guessed type wchar_t a934_1[4];
// 39411C: using guessed type wchar_t aBs04kee03_1[10];
// 394130: using guessed type wchar_t aBs04kee04_0[10];
// 394144: using guessed type wchar_t aBs04kee05_1[10];

//----- (0035CCE0) --------------------------------------------------------
signed int __cdecl searchRoot_route_4ke(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 28; ++i )
  {
    if ( !wcscmp((&route_files_25)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 25);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 394158: using guessed type wchar_t aRoute_82[6];
// 394164: using guessed type wchar_t asc_394164[6];

//----- (0035CD50) --------------------------------------------------------
signed int __cdecl CheckScript_route_25(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 60;
      break;
    case 1:
      v2 = 61;
      break;
    case 23:
      v2 = 63;
      break;
    case 24:
      v2 = 67;
      break;
    case 26:
      v2 = 64;
      break;
    default:
      v2 = CheckScript_by_flags_route_19(a1);
      break;
  }
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 35CD50: using guessed type _DWORD __cdecl CheckScript_route_25(_DWORD);
// 394170: using guessed type wchar_t asc_394170[6];

//----- (0035CE10) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_25(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 27; ++i )
  {
    if ( !wcscmp((&route_files_25)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0035CE60) --------------------------------------------------------
int __cdecl SetFeeling_route_25(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@4

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  switch ( result )
  {
    case 1:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 2;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 6;
        else
          v3 = 7;
      }
      else
      {
        v3 = 5;
      }
      break;
    case 23:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 25;
      else
        v3 = 24;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_25)[2 * v3], a2);
  return result;
}
// 39417C: using guessed type wchar_t asc_39417C[6];

//----- (0035CF70) --------------------------------------------------------
unsigned int __cdecl sub_35CF70(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 511;
      break;
    case 14:
      v4 = 513;
      break;
    case 22:
      v4 = 515;
      break;
    case 26:
      v4 = 518;
      break;
    case 36:
      v4 = 517;
      break;
    case 40:
      v4 = 523;
      break;
    case 46:
      v4 = 519;
      break;
    case 68:
      v4 = 520;
      break;
    case 78:
      v4 = 521;
      break;
    case 98:
      v4 = 526;
      break;
    case 90:
      v4 = 527;
      break;
    case 94:
      v4 = 528;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_26)[2 * a3], a2);
}

//----- (0035D0D0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_26(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_35CF70(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 26);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_26)[2 * a4]);
}
// 39512C: using guessed type wchar_t aRoute_83[6];
// 395138: using guessed type wchar_t asc_395138[6];

//----- (0035D140) --------------------------------------------------------
signed int __cdecl GetNextScript_26(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@155
  signed int result; // eax@157
  int v5; // eax@163
  int v6; // eax@169
  int v7; // [sp+4h] [bp-4h]@1

  v7 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_35CF70(a3, 1, v7);
  switch ( v7 )
  {
    case 0:
      GetScriptFile_26(a3, Dst, SizeInWords, 99, 1);
      goto LABEL_174;
    case 1:
      GetScriptFile_26(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_174;
    case 2:
      (a3->vtable->SetFlagValue)(a3, L"955", 1);
      GetScriptFile_26(a3, Dst, SizeInWords, 79, 1);
      goto LABEL_174;
    case 3:
      (a3->vtable->SetVariable)(a3, L"BS04SAN00", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 68, 1);
      goto LABEL_174;
    case 4:
      GetScriptFile_26(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_174;
    case 5:
      GetScriptFile_26(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_174;
    case 6:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 8, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 9, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 7, 1);
      }
      goto LABEL_174;
    case 7:
    case 10:
      (a3->vtable->SetVariable)(a3, L"BS04SAE05", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_174;
    case 8:
    case 9:
      (a3->vtable->SetVariable)(a3, L"BS04SAE04", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_174;
    case 11:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_26(a3, Dst, SizeInWords, 13, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_174;
    case 12:
    case 13:
      (a3->vtable->SetVariable)(a3, L"BS04SAE08", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_174;
    case 14:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_26(a3, Dst, SizeInWords, 16, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_174;
    case 15:
    case 16:
      if ( v7 == 16 )
        (a3->vtable->SetFlagValue)(a3, L"959", 1);
      (a3->vtable->SetVariable)(a3, L"BS04SAF00", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_174;
    case 17:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 19, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 20, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 18, 1);
      }
      goto LABEL_174;
    case 18:
    case 19:
    case 20:
      (a3->vtable->SetVariable)(a3, L"BS04SAF04", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_174;
    case 21:
      GetScriptFile_26(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_174;
    case 22:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 24, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 25, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 23, 1);
      }
      goto LABEL_174;
    case 23:
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS04SAF10", v7);
        GetScriptFile_26(a3, Dst, SizeInWords, 27, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04SAF09", v7);
        GetScriptFile_26(a3, Dst, SizeInWords, 26, 1);
      }
      goto LABEL_174;
    case 24:
    case 27:
      (a3->vtable->SetVariable)(a3, L"BS04SAH00", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_174;
    case 26:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 31, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 32, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 30, 1);
      }
      goto LABEL_174;
    case 28:
      GetScriptFile_26(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_174;
    case 29:
      GetScriptFile_26(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_174;
    case 30:
      (a3->vtable->SetVariable)(a3, L"BS04SAL00", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 50, 1);
      goto LABEL_174;
    case 31:
      if ( (a3->vtable->IsFlagSet)(a3, L"959") )
        GetScriptFile_26(a3, Dst, SizeInWords, 46, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 57, 1);
      goto LABEL_174;
    case 32:
      (a3->vtable->SetVariable)(a3, L"BS04SAN00", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 68, 1);
      goto LABEL_174;
    case 33:
    case 34:
      (a3->vtable->SetVariable)(a3, L"BS04SAH06", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_174;
    case 35:
      GetScriptFile_26(a3, Dst, SizeInWords, 97, 1);
      goto LABEL_174;
    case 36:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 38, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 39, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 37, 1);
      }
      goto LABEL_174;
    case 37:
      GetScriptFile_26(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_174;
    case 38:
    case 39:
      (a3->vtable->SetFlagValue)(a3, L"958", 1);
      (a3->vtable->SetVariable)(a3, L"BS04SAL00", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 50, 1);
      goto LABEL_174;
    case 40:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_26(a3, Dst, SizeInWords, 42, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_174;
    case 41:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_26(a3, Dst, SizeInWords, 44, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_174;
    case 42:
    case 43:
    case 45:
      if ( v7 == 43 )
        (a3->vtable->SetFlagValue)(a3, L"956", 1);
      (a3->vtable->SetVariable)(a3, L"BS04SAQ00", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 91, 1);
      goto LABEL_174;
    case 44:
      GetScriptFile_26(a3, Dst, SizeInWords, 49, 1);
      goto LABEL_174;
    case 46:
      (a3->vtable->SetFlagValue)(a3, L"957", 1);
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_26(a3, Dst, SizeInWords, 48, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 47, 1);
      goto LABEL_174;
    case 47:
      (a3->vtable->SetFlagValue)(a3, L"958", 1);
      (a3->vtable->SetVariable)(a3, L"BS04SAL00", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 50, 1);
      goto LABEL_174;
    case 48:
      GetScriptFile_26(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_174;
    case 49:
      GetScriptFile_26(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_174;
    case 50:
      if ( (a3->vtable->IsFlagSet)(a3, L"957") )
        GetScriptFile_26(a3, Dst, SizeInWords, 51, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 52, 1);
      goto LABEL_174;
    case 51:
    case 52:
      (a3->vtable->SetVariable)(a3, L"BS04SAL03", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 53, 1);
      goto LABEL_174;
    case 53:
      if ( (a3->vtable->IsFlagSet)(a3, L"802") )
        GetScriptFile_26(a3, Dst, SizeInWords, 54, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 55, 1);
      goto LABEL_174;
    case 54:
    case 55:
      (a3->vtable->SetVariable)(a3, L"BS04SAL06", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 56, 1);
      goto LABEL_174;
    case 56:
      GetScriptFile_26(a3, Dst, SizeInWords, 61, 1);
      goto LABEL_174;
    case 57:
      if ( (a3->vtable->IsFlagSet)(a3, L"802") )
        GetScriptFile_26(a3, Dst, SizeInWords, 58, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 59, 1);
      goto LABEL_174;
    case 58:
    case 59:
      (a3->vtable->SetVariable)(a3, L"BS04SAL10", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 60, 1);
      goto LABEL_174;
    case 60:
      GetScriptFile_26(a3, Dst, SizeInWords, 62, 1);
      goto LABEL_174;
    case 61:
    case 62:
      (a3->vtable->SetVariable)(a3, L"BS04SAM02", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 63, 1);
      goto LABEL_174;
    case 63:
      GetScriptFile_26(a3, Dst, SizeInWords, 96, 1);
      goto LABEL_174;
    case 64:
      if ( (a3->vtable->IsFlagSet)(a3, L"803") )
        GetScriptFile_26(a3, Dst, SizeInWords, 65, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 66, 1);
      goto LABEL_174;
    case 65:
    case 66:
      (a3->vtable->SetVariable)(a3, L"BS04SAR00", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 95, 1);
      goto LABEL_174;
    case 67:
      GetScriptFile_26(a3, Dst, SizeInWords, 89, 1);
      goto LABEL_174;
    case 68:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 70, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 71, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 69, 1);
      }
      goto LABEL_174;
    case 69:
      GetScriptFile_26(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_174;
    case 70:
    case 71:
      (a3->vtable->SetVariable)(a3, L"BS04SAN10", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 78, 1);
      goto LABEL_174;
    case 72:
    case 73:
    case 75:
    case 76:
    case 77:
      if ( v7 == 76 )
        (a3->vtable->SetFlagValue)(a3, L"803", 1);
      (a3->vtable->SetVariable)(a3, L"BS04SAM03", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 64, 1);
      goto LABEL_174;
    case 74:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 76, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 77, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 75, 1);
      }
      goto LABEL_174;
    case 78:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 73, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 74, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 72, 1);
      }
      goto LABEL_174;
    case 79:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 81, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 82, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 80, 1);
      }
      goto LABEL_174;
    case 80:
    case 81:
    case 82:
      (a3->vtable->SetVariable)(a3, L"BS04SAO04", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 83, 1);
      goto LABEL_174;
    case 83:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_26(a3, Dst, SizeInWords, 85, 1);
        else
          GetScriptFile_26(a3, Dst, SizeInWords, 86, 1);
      }
      else
      {
        GetScriptFile_26(a3, Dst, SizeInWords, 84, 1);
      }
      goto LABEL_174;
    case 84:
    case 85:
      (a3->vtable->SetVariable)(a3, L"BS04SAO08", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 87, 1);
      goto LABEL_174;
    case 86:
    case 87:
      (a3->vtable->SetVariable)(a3, L"BS04SAO09", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 88, 1);
      goto LABEL_174;
    case 88:
      GetScriptFile_26(a3, Dst, SizeInWords, 67, 1);
      goto LABEL_174;
    case 89:
      GetScriptFile_26(a3, Dst, SizeInWords, 90, 1);
      goto LABEL_174;
    case 90:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05SAA00", v7);
      v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SA", v3);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_48(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 91:
      if ( (a3->vtable->IsFlagSet)(a3, L"956") )
        GetScriptFile_26(a3, Dst, SizeInWords, 92, 1);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, 93, 1);
      goto LABEL_174;
    case 92:
    case 93:
      (a3->vtable->SetVariable)(a3, L"BS04SAQ03", v7);
      GetScriptFile_26(a3, Dst, SizeInWords, 94, 1);
      goto LABEL_174;
    case 94:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05SAA00", v7);
      v5 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SA", v5);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_48(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 95:
      GetScriptFile_26(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_174;
    case 96:
      GetScriptFile_26(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_174;
    case 97:
      GetScriptFile_26(a3, Dst, SizeInWords, 98, 1);
      goto LABEL_174;
    case 98:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      (a3->vtable->SetVariable)(a3, L"BS05SAA00", v7);
      v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SA", v6);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_48(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 99:
      GetScriptFile_26(a3, Dst, SizeInWords, 1, 1);
LABEL_174:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 395144: using guessed type wchar_t asc_395144[6];
// 395150: using guessed type wchar_t a955[4];
// 395158: using guessed type wchar_t aBs04san00[10];
// 39516C: using guessed type wchar_t aBs04sae05[10];
// 395180: using guessed type wchar_t aBs04sae04[10];
// 395194: using guessed type wchar_t aBs04sae08[10];
// 3951A8: using guessed type wchar_t a959_0[4];
// 3951B0: using guessed type wchar_t aBs04saf00[10];
// 3951C4: using guessed type wchar_t aBs04saf04[10];
// 3951D8: using guessed type wchar_t aBs04saf09[10];
// 3951EC: using guessed type wchar_t aBs04saf10[10];
// 395200: using guessed type wchar_t aBs04sah00[10];
// 395214: using guessed type wchar_t aBs04sal00[10];
// 395228: using guessed type wchar_t a959_1[4];
// 395230: using guessed type wchar_t aBs04san00_0[10];
// 395244: using guessed type wchar_t aBs04sah06[10];
// 395258: using guessed type wchar_t a958_0[4];
// 395260: using guessed type wchar_t aBs04sal00_0[10];
// 395274: using guessed type wchar_t a956_0[4];
// 39527C: using guessed type wchar_t aBs04saq00[10];
// 395290: using guessed type wchar_t a957_0[4];
// 395298: using guessed type wchar_t a958_1[4];
// 3952A0: using guessed type wchar_t aBs04sal00_1[10];
// 3952B4: using guessed type wchar_t a957_1[4];
// 3952BC: using guessed type wchar_t aBs04sal03[10];
// 3952D0: using guessed type wchar_t a802_3[4];
// 3952D8: using guessed type wchar_t aBs04sal06[10];
// 3952EC: using guessed type wchar_t a802_4[4];
// 3952F4: using guessed type wchar_t aBs04sal10[10];
// 395308: using guessed type wchar_t aBs04sam02[10];
// 39531C: using guessed type wchar_t a803_0[4];
// 395324: using guessed type wchar_t aBs04sar00[10];
// 395338: using guessed type wchar_t aBs04san10[10];
// 39534C: using guessed type wchar_t a803_1[4];
// 395354: using guessed type wchar_t aBs04sam03[10];
// 395368: using guessed type wchar_t aBs04sao04[10];
// 39537C: using guessed type wchar_t aBs04sao08[10];
// 395390: using guessed type wchar_t aBs04sao09[10];
// 3953A4: using guessed type wchar_t aBs05saa00_0[10];
// 3953B8: using guessed type wchar_t aRoute_84[6];
// 3953C4: using guessed type wchar_t aBs05sa_0[7];
// 3953D4: using guessed type wchar_t a956_1[4];
// 3953DC: using guessed type wchar_t aBs04saq03[10];
// 3953F0: using guessed type wchar_t aBs05saa00_1[10];
// 395404: using guessed type wchar_t aRoute_85[6];
// 395410: using guessed type wchar_t aBs05sa_1[7];
// 395420: using guessed type wchar_t aBs05saa00_2[10];
// 395434: using guessed type wchar_t aRoute_86[6];
// 395440: using guessed type wchar_t aBs05sa_2[7];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (0035E530) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_26(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@10
  int v6; // ST18_4@11
  int v7; // ST18_4@13
  int v8; // ST18_4@19
  int v9; // ST18_4@22
  int v10; // ST18_4@23
  int v11; // ST18_4@25
  int v12; // ST18_4@29
  int v13; // ST18_4@43
  int v14; // ST18_4@45
  int v15; // ST18_4@48
  int v16; // ST18_4@51
  int v17; // ST18_4@63
  int v18; // ST18_4@66
  int v19; // ST18_4@68
  int v20; // ST18_4@69
  int v21; // ST18_4@76
  int v22; // ST18_4@77
  int v23; // [sp+4h] [bp-8h]@15
  int v24; // [sp+4h] [bp-8h]@39
  int v25; // [sp+4h] [bp-8h]@52
  int v26; // [sp+4h] [bp-8h]@57
  int v27; // [sp+4h] [bp-8h]@72

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_26)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_7(a3, Dst, SizeInWords, 34, 0);
      return 1;
    case 1:
      GetScriptFile_26(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_83;
    case 2:
      GetScriptFile_26(a3, Dst, SizeInWords, 69, 0);
      goto LABEL_83;
    case 3:
      GetScriptFile_26(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_83;
    case 4:
      GetScriptFile_26(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_83;
    case 5:
      GetScriptFile_26(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_83;
    case 6:
      GetScriptFile_26(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_83;
    case 7:
    case 8:
    case 9:
      GetScriptFile_26(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_83;
    case 10:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04SAE04");
      GetScriptFile_26(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_83;
    case 11:
      v6 = (a3->vtable->GetVariable)(a3, L"BS04SAE05");
      GetScriptFile_26(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_83;
    case 12:
    case 13:
      GetScriptFile_26(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_83;
    case 14:
      v7 = (a3->vtable->GetVariable)(a3, L"BS04SAE08");
      GetScriptFile_26(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_83;
    case 15:
    case 16:
      GetScriptFile_26(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_83;
    case 17:
      v23 = (a3->vtable->GetVariable)(a3, L"BS04SAF00");
      if ( v23 == 16 )
        (a3->vtable->SetFlagValue)(a3, L"959", 0);
      GetScriptFile_26(a3, Dst, SizeInWords, v23, 0);
      goto LABEL_83;
    case 18:
    case 19:
    case 20:
      GetScriptFile_26(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_83;
    case 21:
      v8 = (a3->vtable->GetVariable)(a3, L"BS04SAF04");
      GetScriptFile_26(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_83;
    case 22:
      GetScriptFile_26(a3, Dst, SizeInWords, 28, 0);
      goto LABEL_83;
    case 23:
    case 24:
    case 25:
      GetScriptFile_26(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_83;
    case 26:
      v9 = (a3->vtable->GetVariable)(a3, L"BS04SAF09");
      GetScriptFile_26(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_83;
    case 27:
      v10 = (a3->vtable->GetVariable)(a3, L"BS04SAF10");
      GetScriptFile_26(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_83;
    case 28:
      GetScriptFile_26(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_83;
    case 29:
      v11 = (a3->vtable->GetVariable)(a3, L"BS04SAH00");
      GetScriptFile_26(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_83;
    case 30:
    case 31:
    case 32:
      GetScriptFile_26(a3, Dst, SizeInWords, 26, 0);
      goto LABEL_83;
    case 33:
      GetScriptFile_26(a3, Dst, SizeInWords, 96, 0);
      goto LABEL_83;
    case 34:
      GetScriptFile_26(a3, Dst, SizeInWords, 95, 0);
      goto LABEL_83;
    case 35:
      v12 = (a3->vtable->GetVariable)(a3, L"BS04SAH06");
      GetScriptFile_26(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_83;
    case 36:
      GetScriptFile_26(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_83;
    case 37:
    case 38:
    case 39:
      GetScriptFile_26(a3, Dst, SizeInWords, 36, 0);
      goto LABEL_83;
    case 40:
      GetScriptFile_26(a3, Dst, SizeInWords, 48, 0);
      goto LABEL_83;
    case 41:
    case 42:
      GetScriptFile_26(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_83;
    case 43:
    case 44:
      GetScriptFile_26(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_83;
    case 45:
      GetScriptFile_26(a3, Dst, SizeInWords, 49, 0);
      goto LABEL_83;
    case 46:
      GetScriptFile_26(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_83;
    case 47:
    case 48:
      (a3->vtable->SetFlagValue)(a3, L"957", 0);
      GetScriptFile_26(a3, Dst, SizeInWords, 46, 0);
      goto LABEL_83;
    case 49:
      GetScriptFile_26(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_83;
    case 50:
      v24 = (a3->vtable->GetVariable)(a3, L"BS04SAL00");
      if ( v24 != 30 )
        (a3->vtable->SetFlagValue)(a3, L"958", 0);
      GetScriptFile_26(a3, Dst, SizeInWords, v24, 0);
      goto LABEL_83;
    case 51:
    case 52:
      GetScriptFile_26(a3, Dst, SizeInWords, 50, 0);
      goto LABEL_83;
    case 53:
      v13 = (a3->vtable->GetVariable)(a3, L"BS04SAL03");
      GetScriptFile_26(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_83;
    case 54:
    case 55:
      GetScriptFile_26(a3, Dst, SizeInWords, 53, 0);
      goto LABEL_83;
    case 56:
      v14 = (a3->vtable->GetVariable)(a3, L"BS04SAL06");
      GetScriptFile_26(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_83;
    case 57:
      GetScriptFile_26(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_83;
    case 58:
    case 59:
      GetScriptFile_26(a3, Dst, SizeInWords, 57, 0);
      goto LABEL_83;
    case 60:
      v15 = (a3->vtable->GetVariable)(a3, L"BS04SAL10");
      GetScriptFile_26(a3, Dst, SizeInWords, v15, 0);
      goto LABEL_83;
    case 61:
      GetScriptFile_26(a3, Dst, SizeInWords, 56, 0);
      goto LABEL_83;
    case 62:
      GetScriptFile_26(a3, Dst, SizeInWords, 60, 0);
      goto LABEL_83;
    case 63:
      v16 = (a3->vtable->GetVariable)(a3, L"BS04SAM02");
      GetScriptFile_26(a3, Dst, SizeInWords, v16, 0);
      goto LABEL_83;
    case 64:
      v25 = (a3->vtable->GetVariable)(a3, L"BS04SAM03");
      if ( v25 == 76 )
        (a3->vtable->SetFlagValue)(a3, L"803", 0);
      GetScriptFile_26(a3, Dst, SizeInWords, v25, 0);
      goto LABEL_83;
    case 65:
    case 66:
      GetScriptFile_26(a3, Dst, SizeInWords, 64, 0);
      goto LABEL_83;
    case 67:
      GetScriptFile_26(a3, Dst, SizeInWords, 88, 0);
      goto LABEL_83;
    case 68:
      v26 = (a3->vtable->GetVariable)(a3, L"BS04SAN00");
      if ( v26 == 47 )
        (a3->vtable->SetFlagValue)(a3, L"958", 0);
      GetScriptFile_26(a3, Dst, SizeInWords, v26, 0);
      goto LABEL_83;
    case 69:
    case 70:
    case 71:
      GetScriptFile_26(a3, Dst, SizeInWords, 68, 0);
      goto LABEL_83;
    case 72:
    case 73:
    case 74:
      GetScriptFile_26(a3, Dst, SizeInWords, 78, 0);
      goto LABEL_83;
    case 75:
    case 76:
    case 77:
      GetScriptFile_26(a3, Dst, SizeInWords, 74, 0);
      goto LABEL_83;
    case 78:
      v17 = (a3->vtable->GetVariable)(a3, L"BS04SAN10");
      GetScriptFile_26(a3, Dst, SizeInWords, v17, 0);
      goto LABEL_83;
    case 79:
      (a3->vtable->SetFlagValue)(a3, L"955", 0);
      GetScriptFile_26(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_83;
    case 80:
    case 81:
    case 82:
      GetScriptFile_26(a3, Dst, SizeInWords, 79, 0);
      goto LABEL_83;
    case 83:
      v18 = (a3->vtable->GetVariable)(a3, L"BS04SAO04");
      GetScriptFile_26(a3, Dst, SizeInWords, v18, 0);
      goto LABEL_83;
    case 84:
    case 85:
    case 86:
      GetScriptFile_26(a3, Dst, SizeInWords, 83, 0);
      goto LABEL_83;
    case 87:
      v19 = (a3->vtable->GetVariable)(a3, L"BS04SAO08");
      GetScriptFile_26(a3, Dst, SizeInWords, v19, 0);
      goto LABEL_83;
    case 88:
      v20 = (a3->vtable->GetVariable)(a3, L"BS04SAO09");
      GetScriptFile_26(a3, Dst, SizeInWords, v20, 0);
      goto LABEL_83;
    case 89:
      GetScriptFile_26(a3, Dst, SizeInWords, 67, 0);
      goto LABEL_83;
    case 90:
      GetScriptFile_26(a3, Dst, SizeInWords, 89, 0);
      goto LABEL_83;
    case 91:
      v27 = (a3->vtable->GetVariable)(a3, L"BS04SAQ00");
      if ( v27 == 43 )
        (a3->vtable->SetFlagValue)(a3, L"956", 0);
      GetScriptFile_26(a3, Dst, SizeInWords, v27, 0);
      goto LABEL_83;
    case 92:
    case 93:
      GetScriptFile_26(a3, Dst, SizeInWords, 91, 0);
      goto LABEL_83;
    case 94:
      v21 = (a3->vtable->GetVariable)(a3, L"BS04SAQ03");
      GetScriptFile_26(a3, Dst, SizeInWords, v21, 0);
      goto LABEL_83;
    case 95:
      v22 = (a3->vtable->GetVariable)(a3, L"BS04SAR00");
      GetScriptFile_26(a3, Dst, SizeInWords, v22, 0);
      goto LABEL_83;
    case 96:
      GetScriptFile_26(a3, Dst, SizeInWords, 63, 0);
      goto LABEL_83;
    case 97:
      GetScriptFile_26(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_83;
    case 98:
      GetScriptFile_26(a3, Dst, SizeInWords, 97, 0);
      goto LABEL_83;
    case 99:
      GetScriptFile_26(a3, Dst, SizeInWords, 0, 0);
LABEL_83:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 395450: using guessed type wchar_t asc_395450[6];
// 39545C: using guessed type wchar_t aBs04sae04_0[10];
// 395470: using guessed type wchar_t aBs04sae05_0[10];
// 395484: using guessed type wchar_t aBs04sae08_0[10];
// 395498: using guessed type wchar_t aBs04saf00_0[10];
// 3954AC: using guessed type wchar_t a959_2[4];
// 3954B4: using guessed type wchar_t aBs04saf04_0[10];
// 3954C8: using guessed type wchar_t aBs04saf09_0[10];
// 3954DC: using guessed type wchar_t aBs04saf10_0[10];
// 3954F0: using guessed type wchar_t aBs04sah00_0[10];
// 395504: using guessed type wchar_t aBs04sah06_0[10];
// 395518: using guessed type wchar_t a957_2[4];
// 395520: using guessed type wchar_t aBs04sal00_2[10];
// 395534: using guessed type wchar_t a958_2[4];
// 39553C: using guessed type wchar_t aBs04sal03_0[10];
// 395550: using guessed type wchar_t aBs04sal06_0[10];
// 395564: using guessed type wchar_t aBs04sal10_0[10];
// 395578: using guessed type wchar_t aBs04sam02_0[10];
// 39558C: using guessed type wchar_t aBs04sam03_0[10];
// 3955A0: using guessed type wchar_t a803_2[4];
// 3955A8: using guessed type wchar_t aBs04san00_1[10];
// 3955BC: using guessed type wchar_t a958_3[4];
// 3955C4: using guessed type wchar_t aBs04san10_0[10];
// 3955D8: using guessed type wchar_t a955_0[4];
// 3955E0: using guessed type wchar_t aBs04sao04_0[10];
// 3955F4: using guessed type wchar_t aBs04sao08_0[10];
// 395608: using guessed type wchar_t aBs04sao09_0[10];
// 39561C: using guessed type wchar_t aBs04saq00_0[10];
// 395630: using guessed type wchar_t a956_2[4];
// 395638: using guessed type wchar_t aBs04saq03_0[10];
// 39564C: using guessed type wchar_t aBs04sar00_0[10];

//----- (0035F1E0) --------------------------------------------------------
signed int __cdecl searchRoot_route_4sa(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 100; ++i )
  {
    if ( !wcscmp((&route_files_26)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 26);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 395660: using guessed type wchar_t aRoute_87[6];
// 39566C: using guessed type wchar_t asc_39566C[6];

//----- (0035F250) --------------------------------------------------------
signed int __cdecl CheckScript_route_26(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 22;
      break;
    case 14:
      v2 = 24;
      break;
    case 22:
      v2 = 26;
      break;
    case 26:
      v2 = 29;
      break;
    case 36:
      v2 = 28;
      break;
    case 46:
      v2 = 30;
      break;
    case 68:
      v2 = 31;
      break;
    case 40:
      v2 = 34;
      break;
    case 78:
      v2 = 32;
      break;
    case 98:
      v2 = 37;
      break;
    case 90:
      v2 = 38;
      break;
    case 94:
      v2 = 39;
      break;
    default:
      v2 = CheckScript_by_flags_route_19(a1);
      break;
  }
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 35F250: using guessed type _DWORD __cdecl CheckScript_route_26(_DWORD);
// 395678: using guessed type wchar_t asc_395678[6];

//----- (0035F3B0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_26(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 99; ++i )
  {
    if ( !wcscmp((&route_files_26)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0035F400) --------------------------------------------------------
int __cdecl SetFeeling_route_26(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 6;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 8;
        else
          v3 = 9;
      }
      else
      {
        v3 = 7;
      }
      break;
    case 5:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 13;
      else
        v3 = 12;
      break;
    case 8:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 16;
      else
        v3 = 15;
      break;
    case 11:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 19;
        else
          v3 = 20;
      }
      else
      {
        v3 = 18;
      }
      break;
    case 16:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 24;
        else
          v3 = 25;
      }
      else
      {
        v3 = 23;
      }
      break;
    case 17:
    case 19:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 27;
      else
        v3 = 26;
      break;
    case 20:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 31;
        else
          v3 = 32;
      }
      else
      {
        v3 = 30;
      }
      break;
    case 30:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 38;
        else
          v3 = 39;
      }
      else
      {
        v3 = 37;
      }
      break;
    case 34:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 42;
      else
        v3 = 41;
      break;
    case 35:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 44;
      else
        v3 = 43;
      break;
    case 40:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 48;
      else
        v3 = 47;
      break;
    case 62:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 70;
        else
          v3 = 71;
      }
      else
      {
        v3 = 69;
      }
      break;
    case 68:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 76;
        else
          v3 = 77;
      }
      else
      {
        v3 = 75;
      }
      break;
    case 72:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 73;
        else
          v3 = 74;
      }
      else
      {
        v3 = 72;
      }
      break;
    case 73:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 81;
        else
          v3 = 82;
      }
      else
      {
        v3 = 80;
      }
      break;
    case 77:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 85;
        else
          v3 = 86;
      }
      else
      {
        v3 = 84;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_26)[2 * v3], a2);
  return result;
}
// 395684: using guessed type wchar_t asc_395684[6];

//----- (0035F880) --------------------------------------------------------
unsigned int __cdecl sub_35F880(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 501;
      break;
    case 23:
      v4 = 509;
      break;
    case 43:
      v4 = 508;
      break;
    case 44:
      v4 = 510;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_27)[2 * a3], a2);
}

//----- (0035F940) --------------------------------------------------------
errno_t __cdecl GetScriptFile_27(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_35F880(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 27);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_27)[2 * a4]);
}
// 395DC4: using guessed type wchar_t aRoute_88[6];
// 395DD0: using guessed type wchar_t asc_395DD0[6];

//----- (0035F9B0) --------------------------------------------------------
signed int __cdecl GetNextScript_27(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@27
  signed int result; // eax@45
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_35F880(a3, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_27(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_90;
    case 1:
      if ( (a3->vtable->IsFlagSet)(a3, L"944") )
        GetScriptFile_27(a3, Dst, SizeInWords, 2, 1);
      else
        GetScriptFile_27(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_90;
    case 2:
    case 3:
      (a3->vtable->SetVariable)(a3, L"BS04SBB03", v5);
      GetScriptFile_27(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_90;
    case 4:
      GetScriptFile_27(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_90;
    case 5:
      GetScriptFile_27(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_90;
    case 6:
      GetScriptFile_27(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_90;
    case 7:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_27(a3, Dst, SizeInWords, 9, 1);
      else
        GetScriptFile_27(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_90;
    case 8:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_27(a3, Dst, SizeInWords, 11, 1);
        else
          GetScriptFile_27(a3, Dst, SizeInWords, 12, 1);
      }
      else
      {
        GetScriptFile_27(a3, Dst, SizeInWords, 10, 1);
      }
      goto LABEL_90;
    case 9:
    case 10:
    case 11:
    case 12:
      (a3->vtable->SetVariable)(a3, L"BS04SBD00", v5);
      GetScriptFile_27(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_90;
    case 13:
      if ( (a3->vtable->IsFlagSet)(a3, L"944") )
        GetScriptFile_27(a3, Dst, SizeInWords, 14, 1);
      else
        GetScriptFile_27(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_90;
    case 14:
      (a3->vtable->SetVariable)(a3, L"BS04SBC10", v5);
      GetScriptFile_27(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_90;
    case 15:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
      {
        (a3->vtable->SetVariable)(a3, L"BS04SBC10", v5);
        GetScriptFile_27(a3, Dst, SizeInWords, 17, 1);
      }
      else
      {
        GetScriptFile_27(a3, Dst, SizeInWords, 16, 1);
      }
      goto LABEL_90;
    case 16:
      GetScriptFile_27(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_90;
    case 17:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_27(a3, Dst, SizeInWords, 42, 1);
      else
        GetScriptFile_27(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_90;
    case 18:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_27(a3, Dst, SizeInWords, 20, 1);
      else
        GetScriptFile_27(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_90;
    case 19:
    case 20:
      (a3->vtable->SetVariable)(a3, L"BS04SBE00", v5);
      GetScriptFile_27(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_90;
    case 21:
      GetScriptFile_27(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_90;
    case 22:
      GetScriptFile_27(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_90;
    case 23:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_32(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 24:
      GetScriptFile_27(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_90;
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_27(a3, Dst, SizeInWords, 27, 1);
      else
        GetScriptFile_27(a3, Dst, SizeInWords, 26, 1);
      goto LABEL_90;
    case 26:
    case 28:
      (a3->vtable->SetVariable)(a3, L"BS04SBB05", v5);
      GetScriptFile_27(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_90;
    case 32:
      (a3->vtable->SetVariable)(a3, L"BS04SBG09", v5);
      GetScriptFile_27(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_90;
    case 27:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_27(a3, Dst, SizeInWords, 29, 1);
      else
        GetScriptFile_27(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_90;
    case 29:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_27(a3, Dst, SizeInWords, 31, 1);
        else
          GetScriptFile_27(a3, Dst, SizeInWords, 32, 1);
      }
      else
      {
        GetScriptFile_27(a3, Dst, SizeInWords, 30, 1);
      }
      goto LABEL_90;
    case 30:
    case 31:
      (a3->vtable->SetVariable)(a3, L"BS04SBI00", v5);
      GetScriptFile_27(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_90;
    case 33:
    case 35:
      (a3->vtable->field_1C)(a3, L"REP04_SB_G05", 1);
      (a3->vtable->SetVariable)(a3, L"BS04SBB05", v5);
      GetScriptFile_27(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_90;
    case 34:
      GetScriptFile_27(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_90;
    case 36:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_27(a3, Dst, SizeInWords, 38, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS04SBI03", v5);
          GetScriptFile_27(a3, Dst, SizeInWords, 39, 1);
        }
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04SBI01", v5);
        GetScriptFile_27(a3, Dst, SizeInWords, 37, 1);
      }
      goto LABEL_90;
    case 37:
    case 39:
      (a3->vtable->SetVariable)(a3, L"BS04SBG09", v5);
      GetScriptFile_27(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_90;
    case 38:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_27(a3, Dst, SizeInWords, 40, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS04SBI03", v5);
          GetScriptFile_27(a3, Dst, SizeInWords, 39, 1);
        }
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS04SBI01", v5);
        GetScriptFile_27(a3, Dst, SizeInWords, 37, 1);
      }
      goto LABEL_90;
    case 40:
      (a3->vtable->field_1C)(a3, L"REP04_SB_G05", 1);
      GetScriptFile_27(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_90;
    case 41:
      GetScriptFile_27(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_90;
    case 42:
      GetScriptFile_27(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_90;
    case 43:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_46(a3, Dst, SizeInWords, 0, 0);
      result = 1;
      break;
    case 44:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_51(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 45:
      GetScriptFile_27(a3, Dst, SizeInWords, 1, 1);
LABEL_90:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 395DDC: using guessed type wchar_t asc_395DDC[6];
// 395DE8: using guessed type wchar_t a944_1[4];
// 395DF0: using guessed type wchar_t aBs04sbb03[10];
// 395E04: using guessed type wchar_t aBs04sbd00[10];
// 395E18: using guessed type wchar_t a944_2[4];
// 395E20: using guessed type wchar_t aBs04sbc10[10];
// 395E34: using guessed type wchar_t a001_13[4];
// 395E3C: using guessed type wchar_t a002_13[4];
// 395E44: using guessed type wchar_t aBs04sbc10_0[10];
// 395E58: using guessed type wchar_t aBs04sbe00[10];
// 395E6C: using guessed type wchar_t aBs04sbb05[10];
// 395E80: using guessed type wchar_t aBs04sbg09[10];
// 395E94: using guessed type wchar_t aBs04sbi00[10];
// 395EA8: using guessed type wchar_t aRep04_sb_g05[13];
// 395EC4: using guessed type wchar_t aBs04sbb05_0[10];
// 395ED8: using guessed type wchar_t aBs04sbi01[10];
// 395EEC: using guessed type wchar_t aBs04sbi03[10];
// 395F00: using guessed type wchar_t aBs04sbg09_0[10];
// 395F14: using guessed type wchar_t aBs04sbi01_0[10];
// 395F28: using guessed type wchar_t aBs04sbi03_0[10];
// 395F3C: using guessed type wchar_t aRep04_sb_g05_0[13];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (003603E0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_27(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  int v4; // ST18_4@2
  signed int result; // eax@2
  int v6; // ST18_4@5
  int v7; // ST18_4@7
  int v8; // ST18_4@14
  int v9; // ST18_4@15
  int v10; // ST18_4@17
  int v11; // ST18_4@25
  int v12; // ST18_4@28
  int v13; // ST18_4@29
  int v14; // ST18_4@31

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_27)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      v4 = (a3->vtable->GetVariable)(a3, L"BS04SBA00");
      GetScriptFile_17(a3, Dst, SizeInWords, v4, 0);
      return 1;
    case 1:
      GetScriptFile_27(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_38;
    case 2:
    case 3:
      GetScriptFile_27(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_38;
    case 4:
      v6 = (a3->vtable->GetVariable)(a3, L"BS04SBB03");
      GetScriptFile_27(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_38;
    case 5:
      GetScriptFile_27(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_38;
    case 6:
      v7 = (a3->vtable->GetVariable)(a3, L"BS04SBB05");
      GetScriptFile_27(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_38;
    case 7:
      GetScriptFile_27(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_38;
    case 8:
    case 9:
      GetScriptFile_27(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_38;
    case 10:
    case 11:
    case 12:
      GetScriptFile_27(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_38;
    case 13:
      GetScriptFile_27(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_38;
    case 14:
    case 15:
      GetScriptFile_27(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_38;
    case 16:
      GetScriptFile_27(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_38;
    case 17:
      v8 = (a3->vtable->GetVariable)(a3, L"BS04SBC10");
      GetScriptFile_27(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_38;
    case 18:
      v9 = (a3->vtable->GetVariable)(a3, L"BS04SBD00");
      GetScriptFile_27(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_38;
    case 19:
    case 20:
      GetScriptFile_27(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_38;
    case 21:
      v10 = (a3->vtable->GetVariable)(a3, L"BS04SBE00");
      GetScriptFile_27(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_38;
    case 22:
      GetScriptFile_27(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_38;
    case 23:
      GetScriptFile_27(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_38;
    case 24:
      GetScriptFile_27(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_38;
    case 25:
      GetScriptFile_27(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_38;
    case 26:
    case 27:
      GetScriptFile_27(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_38;
    case 28:
    case 29:
      GetScriptFile_27(a3, Dst, SizeInWords, 27, 0);
      goto LABEL_38;
    case 30:
    case 31:
    case 32:
      GetScriptFile_27(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_38;
    case 33:
      v11 = (a3->vtable->GetVariable)(a3, L"BS04SBG09");
      GetScriptFile_27(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_38;
    case 34:
      GetScriptFile_27(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_38;
    case 35:
      GetScriptFile_27(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_38;
    case 36:
      v12 = (a3->vtable->GetVariable)(a3, L"BS04SBI00");
      GetScriptFile_27(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_38;
    case 37:
      v13 = (a3->vtable->GetVariable)(a3, L"BS04SBI01");
      GetScriptFile_27(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_38;
    case 38:
      GetScriptFile_27(a3, Dst, SizeInWords, 36, 0);
      goto LABEL_38;
    case 39:
      v14 = (a3->vtable->GetVariable)(a3, L"BS04SBI03");
      GetScriptFile_27(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_38;
    case 40:
      GetScriptFile_27(a3, Dst, SizeInWords, 38, 0);
      goto LABEL_38;
    case 41:
      GetScriptFile_27(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_38;
    case 42:
    case 43:
      GetScriptFile_27(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_38;
    case 44:
      GetScriptFile_27(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_38;
    case 45:
      GetScriptFile_27(a3, Dst, SizeInWords, 0, 0);
LABEL_38:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 395F58: using guessed type wchar_t asc_395F58[6];
// 395F64: using guessed type wchar_t aBs04sba00_2[10];
// 395F78: using guessed type wchar_t aBs04sbb03_0[10];
// 395F8C: using guessed type wchar_t aBs04sbb05_1[10];
// 395FA0: using guessed type wchar_t aBs04sbc10_1[10];
// 395FB4: using guessed type wchar_t aBs04sbd00_0[10];
// 395FC8: using guessed type wchar_t aBs04sbe00_0[10];
// 395FDC: using guessed type wchar_t aBs04sbg09_1[10];
// 395FF0: using guessed type wchar_t aBs04sbi00_0[10];
// 396004: using guessed type wchar_t aBs04sbi01_1[10];
// 396018: using guessed type wchar_t aBs04sbi03_1[10];

//----- (003609F0) --------------------------------------------------------
signed int __cdecl searchRoot_route_4sb(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 46; ++i )
  {
    if ( !wcscmp((&route_files_27)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 27);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39602C: using guessed type wchar_t aRoute_89[6];
// 396038: using guessed type wchar_t asc_396038[6];

//----- (00360A60) --------------------------------------------------------
signed int __cdecl CheckScript_route_27(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 12;
      break;
    case 23:
      v2 = 20;
      break;
    case 43:
      v2 = 19;
      break;
    case 44:
      v2 = 21;
      break;
    default:
      v2 = CheckScript_by_flags_route_19(a1);
      break;
  }
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 360A60: using guessed type _DWORD __cdecl CheckScript_route_27(_DWORD);
// 396044: using guessed type wchar_t asc_396044[6];

//----- (00360B20) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_27(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 45; ++i )
  {
    if ( !wcscmp((&route_files_27)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00360B70) --------------------------------------------------------
int __cdecl SetFeeling_route_27(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 7;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 9;
      else
        v3 = 8;
      break;
    case 1:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 11;
        else
          v3 = 12;
      }
      else
      {
        v3 = 10;
      }
      break;
    case 10:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 42;
      else
        v3 = 43;
      break;
    case 11:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 20;
      else
        v3 = 19;
      break;
    case 18:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 27;
      else
        v3 = 26;
      break;
    case 20:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 29;
      else
        v3 = 28;
      break;
    case 22:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 31;
        else
          v3 = 32;
      }
      else
      {
        v3 = 30;
      }
      break;
    case 29:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 38;
        else
          v3 = 39;
      }
      else
      {
        v3 = 37;
      }
      break;
    case 31:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 40;
        else
          v3 = 39;
      }
      else
      {
        v3 = 37;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_27)[2 * v3], a2);
  return result;
}
// 396050: using guessed type wchar_t asc_396050[6];

//----- (00360DF0) --------------------------------------------------------
unsigned int __cdecl sub_360DF0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 )
  {
    if ( a3 == 16 )
      v4 = 547;
    else
      v4 = -1;
  }
  else
  {
    v4 = 531;
  }
  return sub_3367C0(a1, v4, (&route_files_28)[2 * a3], a2);
}

//----- (00360E50) --------------------------------------------------------
errno_t __cdecl GetScriptFile_28(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_360DF0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 28);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_28)[2 * a4]);
}
// 3963A8: using guessed type wchar_t aRoute_90[6];
// 3963B4: using guessed type wchar_t asc_3963B4[6];

//----- (00360EC0) --------------------------------------------------------
signed int __cdecl GetNextScript_28(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@25
  signed int result; // eax@31
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_360DF0(a3, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_28(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_37;
    case 1:
      (a3->vtable->field_1C)(a3, L"REP04_SC_B00", 1);
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_28(a3, Dst, SizeInWords, 3, 1);
        else
          GetScriptFile_28(a3, Dst, SizeInWords, 4, 1);
      }
      else
      {
        GetScriptFile_28(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_37;
    case 2:
    case 3:
    case 4:
      (a3->vtable->SetVariable)(a3, L"BS04SCB04", v5);
      GetScriptFile_28(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_37;
    case 5:
      GetScriptFile_28(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_37;
    case 6:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_28(a3, Dst, SizeInWords, 8, 1);
        else
          GetScriptFile_28(a3, Dst, SizeInWords, 9, 1);
      }
      else
      {
        GetScriptFile_28(a3, Dst, SizeInWords, 7, 1);
      }
      goto LABEL_37;
    case 7:
    case 8:
    case 9:
      (a3->vtable->SetVariable)(a3, L"BS04SCC04", v5);
      GetScriptFile_28(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_37;
    case 10:
      if ( (a3->vtable->IsFlagSet)(a3, L"940") )
        GetScriptFile_28(a3, Dst, SizeInWords, 11, 1);
      else
        GetScriptFile_28(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_37;
    case 11:
    case 12:
      (a3->vtable->SetVariable)(a3, L"BS04SCC07", v5);
      GetScriptFile_28(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_37;
    case 13:
      GetScriptFile_28(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_37;
    case 14:
      GetScriptFile_28(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_37;
    case 15:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_28(a3, Dst, SizeInWords, 17, 1);
      else
        GetScriptFile_28(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_37;
    case 16:
      (a3->vtable->field_2C)(a3);
      (a3->vtable->field_38)(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_53(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 17:
      (a3->vtable->field_1C)(a3, L"REP04_SC_D02", 1);
      GetScriptFile_28(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_37;
    case 18:
      GetScriptFile_28(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_37;
    case 19:
      (a3->vtable->field_1C)(a3, L"REP04_SC_F00", 1);
      GetScriptFile_20(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 20:
      GetScriptFile_28(a3, Dst, SizeInWords, 1, 1);
LABEL_37:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 3963C0: using guessed type wchar_t asc_3963C0[6];
// 3963CC: using guessed type wchar_t aRep04_sc_b00[13];
// 3963E8: using guessed type wchar_t aBs04scb04[10];
// 3963FC: using guessed type wchar_t aBs04scc04[10];
// 396410: using guessed type wchar_t a940_10[4];
// 396418: using guessed type wchar_t aBs04scc07[10];
// 39642C: using guessed type wchar_t a001_14[4];
// 396434: using guessed type wchar_t a002_14[4];
// 39643C: using guessed type wchar_t aRep04_sc_d02[13];
// 396458: using guessed type wchar_t aRep04_sc_f00[13];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00361330) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_28(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST20_4@1
  signed int result; // eax@5
  int v5; // ST1C_4@8
  int v6; // ST1C_4@11
  int v7; // ST1C_4@13

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_28)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->GetVariable)(a3, L"BS04SCA00");
      if ( (a3->vtable->GetVariable)(a3, L"BS04SC") == 15 )
        GetScriptFile_15(a3, Dst, SizeInWords, 108, 0);
      else
        GetScriptFile_18(a3, Dst, SizeInWords, 8, 0);
      return 1;
    case 1:
      GetScriptFile_28(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_21;
    case 2:
    case 3:
    case 4:
      GetScriptFile_28(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_21;
    case 5:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04SCB04");
      GetScriptFile_28(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_21;
    case 6:
      GetScriptFile_28(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_21;
    case 7:
    case 8:
    case 9:
      GetScriptFile_28(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_21;
    case 10:
      v6 = (a3->vtable->GetVariable)(a3, L"BS04SCC04");
      GetScriptFile_28(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_21;
    case 11:
    case 12:
      GetScriptFile_28(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_21;
    case 13:
      v7 = (a3->vtable->GetVariable)(a3, L"BS04SCC07");
      GetScriptFile_28(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_21;
    case 14:
      GetScriptFile_28(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_21;
    case 15:
      GetScriptFile_28(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_21;
    case 16:
    case 17:
      GetScriptFile_28(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_21;
    case 18:
      GetScriptFile_28(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_21;
    case 19:
      GetScriptFile_28(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_21;
    case 20:
      GetScriptFile_28(a3, Dst, SizeInWords, 0, 0);
LABEL_21:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 396474: using guessed type wchar_t asc_396474[6];
// 396480: using guessed type wchar_t aBs04sca00_1[10];
// 396494: using guessed type wchar_t aBs04sc_1[7];
// 3964A4: using guessed type wchar_t aBs04scb04_0[10];
// 3964B8: using guessed type wchar_t aBs04scc04_0[10];
// 3964CC: using guessed type wchar_t aBs04scc07_0[10];

//----- (00361630) --------------------------------------------------------
signed int __cdecl searchRoot_route_4sc(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 21; ++i )
  {
    if ( !wcscmp((&route_files_28)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 28);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 3964E0: using guessed type wchar_t aRoute_91[6];
// 3964EC: using guessed type wchar_t asc_3964EC[6];

//----- (003616A0) --------------------------------------------------------
signed int __cdecl CheckScript_route_28(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 )
  {
    if ( v2 == 16 )
      v3 = 58;
    else
      v3 = CheckScript_by_flags_route_19(a1);
  }
  else
  {
    v3 = 42;
  }
  return v3;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 3616A0: using guessed type _DWORD __cdecl CheckScript_route_28(_DWORD);
// 3964F8: using guessed type wchar_t asc_3964F8[6];

//----- (00361700) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_28(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 20; ++i )
  {
    if ( !wcscmp((&route_files_28)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00361750) --------------------------------------------------------
int __cdecl SetFeeling_route_28(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( result == 1 )
  {
    result = (a1->vtable->GetCurrentScene)(a1);
    if ( result )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result == 1 )
        v3 = 3;
      else
        v3 = 4;
    }
    else
    {
      v3 = 2;
    }
  }
  else
  {
    if ( result == 6 )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 8;
        else
          v3 = 9;
      }
      else
      {
        v3 = 7;
      }
    }
    else
    {
      v3 = -1;
    }
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_28)[2 * v3], a2);
  return result;
}
// 396504: using guessed type wchar_t asc_396504[6];

//----- (00361830) --------------------------------------------------------
unsigned int __cdecl sub_361830(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 548;
      break;
    case 3:
      v4 = 551;
      break;
    case 34:
      v4 = 555;
      break;
    case 35:
      v4 = 546;
      break;
    case 36:
      v4 = 554;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_29)[2 * a3], a2);
}

//----- (00361900) --------------------------------------------------------
errno_t __cdecl GetScriptFile_29(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_361830(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 29);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_29)[2 * a4]);
}
// 396B04: using guessed type wchar_t aRoute_92[6];
// 396B10: using guessed type wchar_t asc_396B10[6];

//----- (00361970) --------------------------------------------------------
signed int __cdecl GetNextScript_29(wchar_t *Dst, rsize_t SizeInWords, int a3)
{
  signed int result; // eax@19
  int v4; // esi@60
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (*(*a3 + 8))(a3, L"SCENE");
  sub_361830(a3, 1, v5);
  switch ( v5 )
  {
    case 0:
      (*(*a3 + 20))(a3, L"927", 1);
      GetScriptFile_29(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_72;
    case 1:
      (*(*a3 + 12))(a3, L"BS04SEC00", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_72;
    case 2:
      GetScriptFile_29(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_72;
    case 3:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
        {
          GetScriptFile_29(a3, Dst, SizeInWords, 5, 1);
        }
        else
        {
          (*(*a3 + 12))(a3, L"BS04SEB05", v5);
          GetScriptFile_29(a3, Dst, SizeInWords, 6, 1);
        }
      }
      else
      {
        GetScriptFile_29(a3, Dst, SizeInWords, 4, 1);
      }
      goto LABEL_72;
    case 4:
      (*(*a3 + 12))(a3, L"BS04SEB05", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_72;
    case 5:
    case 6:
      if ( v5 == 5 )
        (*(*a3 + 20))(a3, L"939", 1);
      (*(*a3 + 12))(a3, L"BS04SEB06", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_72;
    case 7:
      GetScriptFile_29(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_72;
    case 8:
      GetScriptFile_29(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_72;
    case 9:
      if ( (*(*a3 + 16))(a3, L"927") )
      {
        GetScriptFile_29(a3, Dst, SizeInWords, 20, 1);
        goto LABEL_72;
      }
      GetScriptFile_21(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 10:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_29(a3, Dst, SizeInWords, 12, 1);
        else
          GetScriptFile_29(a3, Dst, SizeInWords, 13, 1);
      }
      else
      {
        GetScriptFile_29(a3, Dst, SizeInWords, 11, 1);
      }
      goto LABEL_72;
    case 11:
    case 12:
    case 13:
      (*(*a3 + 12))(a3, L"BS04SED05", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_72;
    case 14:
      GetScriptFile_29(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_72;
    case 15:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_29(a3, Dst, SizeInWords, 17, 1);
        else
          GetScriptFile_29(a3, Dst, SizeInWords, 18, 1);
      }
      else
      {
        GetScriptFile_29(a3, Dst, SizeInWords, 16, 1);
      }
      goto LABEL_72;
    case 16:
      (*(*a3 + 12))(a3, L"BS04SEI00", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_72;
    case 17:
    case 18:
      if ( (*(*a3 + 16))(a3, L"939") )
      {
        (*(*a3 + 12))(a3, L"BS04SED10", v5);
        GetScriptFile_29(a3, Dst, SizeInWords, 19, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS04SEH00", v5);
        GetScriptFile_29(a3, Dst, SizeInWords, 27, 1);
      }
      goto LABEL_72;
    case 19:
      (*(*a3 + 12))(a3, L"BS04SEH01", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_72;
    case 20:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_29(a3, Dst, SizeInWords, 22, 1);
        else
          GetScriptFile_29(a3, Dst, SizeInWords, 23, 1);
      }
      else
      {
        GetScriptFile_29(a3, Dst, SizeInWords, 21, 1);
      }
      goto LABEL_72;
    case 21:
    case 22:
    case 23:
      (*(*a3 + 12))(a3, L"BS04SED01", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_72;
    case 24:
      (*(*a3 + 12))(a3, L"BS04SEH03", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_72;
    case 25:
      GetScriptFile_29(a3, Dst, SizeInWords, 26, 1);
      goto LABEL_72;
    case 26:
      (*(*a3 + 12))(a3, L"BS04SEB02", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_72;
    case 27:
      (*(*a3 + 12))(a3, L"BS04SEH01", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_72;
    case 28:
      (*(*a3 + 12))(a3, L"BS04SEI00", v5);
      GetScriptFile_29(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_72;
    case 29:
      if ( (*(*a3 + 16))(a3, L"927") )
      {
        GetScriptFile_29(a3, Dst, SizeInWords, 24, 1);
LABEL_72:
        result = 1;
      }
      else
      {
        GetScriptFile_21(a3, Dst, SizeInWords, 7, 1);
        result = 1;
      }
      break;
    case 30:
      GetScriptFile_29(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_72;
    case 31:
      GetScriptFile_29(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_72;
    case 32:
      GetScriptFile_29(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_72;
    case 33:
      if ( sub_336000(a3, (&route_files_29)[2 * v5]) )
      {
        GetScriptFile_29(a3, Dst, SizeInWords, 34, 1);
      }
      else
      {
        v4 = (*(*a3 + 8))(a3, L"001");
        if ( v4 <= (*(*a3 + 8))(a3, L"002") )
          GetScriptFile_29(a3, Dst, SizeInWords, 36, 1);
        else
          GetScriptFile_29(a3, Dst, SizeInWords, 35, 1);
      }
      goto LABEL_72;
    case 34:
    case 36:
      (*(*a3 + 44))(a3);
      (*(*a3 + 56))(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_33(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 35:
      (*(*a3 + 44))(a3);
      (*(*a3 + 56))(a3, 1);
      if ( dword_3A6F40 )
        ClearIndexies(a3);
      GetScriptFile_50(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 37:
      GetScriptFile_29(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_72;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      return 0;
  }
  return result;
}
// 396B1C: using guessed type wchar_t asc_396B1C[6];
// 396B28: using guessed type wchar_t a927_0[4];
// 396B30: using guessed type wchar_t aBs04sec00[10];
// 396B44: using guessed type wchar_t aBs04seb05[10];
// 396B58: using guessed type wchar_t aBs04seb05_0[10];
// 396B6C: using guessed type wchar_t a939_0[4];
// 396B74: using guessed type wchar_t aBs04seb06[10];
// 396B88: using guessed type wchar_t a927_1[4];
// 396B90: using guessed type wchar_t aBs04sed05[10];
// 396BA4: using guessed type wchar_t aBs04sei00[10];
// 396BB8: using guessed type wchar_t a939_1[4];
// 396BC0: using guessed type wchar_t aBs04sed10[10];
// 396BD4: using guessed type wchar_t aBs04seh00[10];
// 396BE8: using guessed type wchar_t aBs04seh01[10];
// 396BFC: using guessed type wchar_t aBs04sed01[10];
// 396C10: using guessed type wchar_t aBs04seh03_0[10];
// 396C24: using guessed type wchar_t aBs04seb02_0[10];
// 396C38: using guessed type wchar_t aBs04seh01_0[10];
// 396C4C: using guessed type wchar_t aBs04sei00_0[10];
// 396C60: using guessed type wchar_t a927_2[4];
// 396C68: using guessed type wchar_t a001_15[4];
// 396C70: using guessed type wchar_t a002_15[4];
// 3A6F40: using guessed type int dword_3A6F40;

//----- (00362240) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_29(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST20_4@1
  signed int result; // eax@2
  int v5; // ST1C_4@9
  int v6; // ST1C_4@17
  int v7; // ST1C_4@19
  int v8; // ST1C_4@22
  int v9; // ST1C_4@30
  int v10; // ST1C_4@31
  int v11; // ST1C_4@37
  int v12; // [sp+8h] [bp-8h]@5
  int v13; // [sp+8h] [bp-8h]@10
  int v14; // [sp+8h] [bp-8h]@13
  int v15; // [sp+8h] [bp-8h]@23
  int v16; // [sp+8h] [bp-8h]@33

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_29)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_13(a3, Dst, SizeInWords, 21, 0);
      return 1;
    case 1:
      (a3->vtable->SetFlagValue)(a3, L"927", 0);
      GetScriptFile_29(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_43;
    case 2:
      GetScriptFile_29(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_43;
    case 3:
      v12 = (a3->vtable->GetVariable)(a3, L"BS04SEB02");
      if ( v12 == 6 )
      {
        GetScriptFile_21(a3, Dst, SizeInWords, 6, 0);
        return 1;
      }
      GetScriptFile_29(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_43;
    case 4:
    case 5:
      GetScriptFile_29(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_43;
    case 6:
      v5 = (a3->vtable->GetVariable)(a3, L"BS04SEB05");
      GetScriptFile_29(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_43;
    case 7:
      v13 = (a3->vtable->GetVariable)(a3, L"BS04SEB06");
      if ( v13 == 5 )
        (a3->vtable->SetFlagValue)(a3, L"939", 0);
      GetScriptFile_29(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_43;
    case 8:
      v14 = (a3->vtable->GetVariable)(a3, L"BS04SEC00");
      if ( (a3->vtable->GetVariable)(a3, L"BS04SE") == 30 )
      {
        GetScriptFile_30(a3, Dst, SizeInWords, v14, 0);
        return 1;
      }
      GetScriptFile_29(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_43;
    case 9:
      GetScriptFile_29(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_43;
    case 10:
      v6 = (a3->vtable->GetVariable)(a3, L"BS04SED01");
      GetScriptFile_29(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_43;
    case 11:
    case 12:
    case 13:
      GetScriptFile_29(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_43;
    case 14:
      v7 = (a3->vtable->GetVariable)(a3, L"BS04SED05");
      GetScriptFile_29(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_43;
    case 15:
      GetScriptFile_29(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_43;
    case 16:
    case 17:
    case 18:
      GetScriptFile_29(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_43;
    case 19:
      v8 = (a3->vtable->GetVariable)(a3, L"BS04SED10");
      GetScriptFile_29(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_43;
    case 20:
      v15 = (a3->vtable->GetVariable)(a3, L"BS04SEE00");
      if ( (a3->vtable->GetVariable)(a3, L"BS04SE") == 31 )
      {
        GetScriptFile_31(a3, Dst, SizeInWords, v15, 0);
        result = 1;
      }
      else
      {
        GetScriptFile_29(a3, Dst, SizeInWords, v15, 0);
LABEL_43:
        result = 1;
      }
      return result;
    case 21:
    case 22:
    case 23:
      GetScriptFile_29(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_43;
    case 24:
      GetScriptFile_29(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_43;
    case 25:
      GetScriptFile_29(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_43;
    case 26:
      GetScriptFile_29(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_43;
    case 27:
      v9 = (a3->vtable->GetVariable)(a3, L"BS04SEH00");
      GetScriptFile_29(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_43;
    case 28:
      v10 = (a3->vtable->GetVariable)(a3, L"BS04SEH01");
      GetScriptFile_29(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_43;
    case 29:
      GetScriptFile_29(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_43;
    case 30:
      v16 = (a3->vtable->GetVariable)(a3, L"BS04SEH03");
      if ( v16 == 7 )
        GetScriptFile_21(a3, Dst, SizeInWords, 7, 0);
      else
        GetScriptFile_29(a3, Dst, SizeInWords, v16, 0);
      goto LABEL_43;
    case 31:
      v11 = (a3->vtable->GetVariable)(a3, L"BS04SEI00");
      GetScriptFile_29(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_43;
    case 32:
      GetScriptFile_29(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_43;
    case 33:
      GetScriptFile_29(a3, Dst, SizeInWords, 32, 0);
      goto LABEL_43;
    case 34:
    case 35:
    case 36:
      GetScriptFile_29(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_43;
    case 37:
      (a3->vtable->SetFlagValue)(a3, L"927", 0);
      GetScriptFile_29(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_43;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      return 0;
  }
}
// 396C78: using guessed type wchar_t asc_396C78[6];
// 396C84: using guessed type wchar_t a927_3[4];
// 396C8C: using guessed type wchar_t aBs04seb02_1[10];
// 396CA0: using guessed type wchar_t aBs04seb05_1[10];
// 396CB4: using guessed type wchar_t aBs04seb06_0[10];
// 396CC8: using guessed type wchar_t a939_2[4];
// 396CD0: using guessed type wchar_t aBs04sec00_0[10];
// 396CE4: using guessed type wchar_t aBs04se_0[7];
// 396CF4: using guessed type wchar_t aBs04sed01_0[10];
// 396D08: using guessed type wchar_t aBs04sed05_0[10];
// 396D1C: using guessed type wchar_t aBs04sed10_0[10];
// 396D30: using guessed type wchar_t aBs04see00[10];
// 396D44: using guessed type wchar_t aBs04se_1[7];
// 396D54: using guessed type wchar_t aBs04seh00_0[10];
// 396D68: using guessed type wchar_t aBs04seh01_1[10];
// 396D7C: using guessed type wchar_t aBs04seh03_1[10];
// 396D90: using guessed type wchar_t aBs04sei00_1[10];
// 396DA4: using guessed type wchar_t a927_4[4];

//----- (003628C0) --------------------------------------------------------
signed int __cdecl searchRoot_route_4se(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 38; ++i )
  {
    if ( !wcscmp((&route_files_29)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 29);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 396DAC: using guessed type wchar_t aRoute_93[6];
// 396DB8: using guessed type wchar_t asc_396DB8[6];

//----- (00362930) --------------------------------------------------------
signed int __cdecl CheckScript_route_29(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 59;
      break;
    case 3:
      v2 = 62;
      break;
    case 34:
      v2 = 66;
      break;
    case 35:
      v2 = 57;
      break;
    case 36:
      v2 = 65;
      break;
    default:
      v2 = CheckScript_by_flags_route_4(a1);
      break;
  }
  return v2;
}
// 333D80: using guessed type _DWORD __cdecl CheckScript_by_flags_route_4(_DWORD);
// 362930: using guessed type _DWORD __cdecl CheckScript_route_29(_DWORD);
// 396DC4: using guessed type wchar_t asc_396DC4[6];

//----- (00362A00) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_29(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 37; ++i )
  {
    if ( !wcscmp((&route_files_29)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00362A50) --------------------------------------------------------
int __cdecl SetFeeling_route_29(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 3;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 5;
        else
          v3 = 6;
      }
      else
      {
        v3 = 4;
      }
      break;
    case 7:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 12;
        else
          v3 = 13;
      }
      else
      {
        v3 = 11;
      }
      break;
    case 12:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 17;
        else
          v3 = 18;
      }
      else
      {
        v3 = 16;
      }
      break;
    case 17:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 22;
        else
          v3 = 23;
      }
      else
      {
        v3 = 21;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_29)[2 * v3], a2);
  return result;
}
// 396DD0: using guessed type wchar_t asc_396DD0[6];

//----- (00362BF0) --------------------------------------------------------
unsigned int __cdecl sub_362BF0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 )
    v4 = -1;
  else
    v4 = 530;
  return sub_3367C0(a1, v4, (&route_files_30)[2 * a3], a2);
}

//----- (00362C40) --------------------------------------------------------
errno_t __cdecl GetScriptFile_30(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_362BF0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 30);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_30)[2 * a4]);
}
// 396E58: using guessed type wchar_t aRoute_94[6];
// 396E64: using guessed type wchar_t asc_396E64[6];

//----- (00362CB0) --------------------------------------------------------
signed int __cdecl GetNextScript_30(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@7
  signed int result; // eax@4
  int v5; // [sp+4h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_362BF0(a3, 1, v5);
  if ( !v5 )
  {
    GetScriptFile_30(a3, Dst, SizeInWords, 1, 1);
    return 1;
  }
  if ( v5 == 1 )
  {
    GetScriptFile_30(a3, Dst, SizeInWords, 2, 1);
    return 1;
  }
  if ( v5 == 2 )
  {
    (a3->vtable->SetVariable)(a3, L"BS04SEC00", 2);
    v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
    (a3->vtable->SetVariable)(a3, L"BS04SE", v3);
    GetScriptFile_29(a3, Dst, SizeInWords, 8, 1);
    result = 1;
  }
  else
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  return result;
}
// 396E70: using guessed type wchar_t asc_396E70[6];
// 396E7C: using guessed type wchar_t aBs04sec00_1[10];
// 396E90: using guessed type wchar_t aRoute_95[6];
// 396E9C: using guessed type wchar_t aBs04se_2[7];

//----- (00362DB0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_30(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@4
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_30)[2 * v4], 0);
  if ( v4 )
  {
    if ( v4 == 1 )
    {
      GetScriptFile_30(a3, Dst, SizeInWords, 0, 0);
    }
    else
    {
      if ( v4 != 2 )
      {
        sub_336760(a3, Dst, SizeInWords, 0);
        return 0;
      }
      GetScriptFile_30(a3, Dst, SizeInWords, 1, 0);
    }
    result = 1;
  }
  else
  {
    (a3->vtable->field_2C)(a3);
    GetScriptFile_12(a3, Dst, SizeInWords, 4, 0);
    result = 1;
  }
  return result;
}
// 396EAC: using guessed type wchar_t asc_396EAC[6];

//----- (00362E90) --------------------------------------------------------
signed int __cdecl searchRoot_route_4sf(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 3; ++i )
  {
    if ( !wcscmp((&route_files_30)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 30);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 396EB8: using guessed type wchar_t aRoute_96[6];
// 396EC4: using guessed type wchar_t asc_396EC4[6];

//----- (00362F00) --------------------------------------------------------
signed int __cdecl CheckScript_route_30(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") )
    v2 = CheckScript_by_flags_route_19(a1);
  else
    v2 = 41;
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 362F00: using guessed type _DWORD __cdecl CheckScript_route_30(_DWORD);
// 396ED0: using guessed type wchar_t asc_396ED0[6];

//----- (00362F50) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_30(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 2; ++i )
  {
    if ( !wcscmp((&route_files_30)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00362FA0) --------------------------------------------------------
int __cdecl SetFeeling_route_30(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 396EDC: using guessed type wchar_t asc_396EDC[6];

//----- (00362FF0) --------------------------------------------------------
unsigned int __cdecl sub_362FF0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 )
    v4 = -1;
  else
    v4 = 532;
  return sub_3367C0(a1, v4, (&route_files_31)[2 * a3], a2);
}

//----- (00363040) --------------------------------------------------------
errno_t __cdecl GetScriptFile_31(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_362FF0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 31);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_31)[2 * a4]);
}
// 396F64: using guessed type wchar_t aRoute_97[6];
// 396F70: using guessed type wchar_t asc_396F70[6];

//----- (003630B0) --------------------------------------------------------
signed int __cdecl GetNextScript_31(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@6
  int v5; // [sp+4h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_362FF0(a3, 1, v5);
  if ( v5 )
  {
    if ( v5 == 1 )
    {
      (a3->vtable->SetVariable)(a3, L"BS04SEE00", 1);
      v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS04SE", v3);
      GetScriptFile_29(a3, Dst, SizeInWords, 20, 1);
      return 1;
    }
    if ( v5 != 2 )
    {
      sub_336760(a3, Dst, SizeInWords, 0);
      return 0;
    }
    GetScriptFile_31(a3, Dst, SizeInWords, 1, 1);
  }
  else
  {
    GetScriptFile_31(a3, Dst, SizeInWords, 2, 1);
  }
  return 1;
}
// 396F7C: using guessed type wchar_t asc_396F7C[6];
// 396F88: using guessed type wchar_t aBs04see00_0[10];
// 396F9C: using guessed type wchar_t aRoute_98[6];
// 396FA8: using guessed type wchar_t aBs04se_3[7];

//----- (003631B0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_31(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@4
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_31)[2 * v4], 0);
  if ( v4 )
  {
    if ( v4 == 1 )
    {
      GetScriptFile_31(a3, Dst, SizeInWords, 0, 0);
    }
    else
    {
      if ( v4 != 2 )
      {
        sub_336760(a3, Dst, SizeInWords, 0);
        return 0;
      }
      GetScriptFile_31(a3, Dst, SizeInWords, 0, 0);
    }
    result = 1;
  }
  else
  {
    (a3->vtable->field_2C)(a3);
    GetScriptFile_15(a3, Dst, SizeInWords, 53, 0);
    result = 1;
  }
  return result;
}
// 396FB8: using guessed type wchar_t asc_396FB8[6];

//----- (00363290) --------------------------------------------------------
signed int __cdecl searchRoot_route_4sg(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 3; ++i )
  {
    if ( !wcscmp((&route_files_31)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 31);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 396FC4: using guessed type wchar_t asc_396FC4[6];
// 396FD0: using guessed type wchar_t asc_396FD0[6];

//----- (00363300) --------------------------------------------------------
signed int __cdecl CheckScript_route_31(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") )
    v2 = CheckScript_by_flags_route_19(a1);
  else
    v2 = 43;
  return v2;
}
// 3343D0: using guessed type _DWORD __cdecl CheckScript_by_flags_route_19(_DWORD);
// 363300: using guessed type _DWORD __cdecl CheckScript_route_31(_DWORD);
// 396FDC: using guessed type wchar_t asc_396FDC[6];

//----- (00363350) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_31(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 2; ++i )
  {
    if ( !wcscmp((&route_files_31)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003633A0) --------------------------------------------------------
int __cdecl SetFeeling_route_31(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 396FE8: using guessed type wchar_t asc_396FE8[6];

//----- (003633F0) --------------------------------------------------------
unsigned int __cdecl sub_3633F0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 602;
      break;
    case 5:
      v4 = 604;
      break;
    case 14:
      v4 = 607;
      break;
    case 15:
      v4 = 608;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_32)[2 * a3], a2);
}

//----- (00363490) --------------------------------------------------------
errno_t __cdecl GetScriptFile_32(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3633F0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 32);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_32)[2 * a4]);
}
// 3972A0: using guessed type wchar_t asc_3972A0[6];
// 3972AC: using guessed type wchar_t asc_3972AC[6];

//----- (00363500) --------------------------------------------------------
signed int __cdecl GetNextScript_32(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@37
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_3633F0(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      GetScriptFile_32(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_40;
    case 1:
      GetScriptFile_32(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_40;
    case 2:
      GetScriptFile_32(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_40;
    case 3:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS055HC03", v4);
        GetScriptFile_32(a3, Dst, SizeInWords, 5, 1);
      }
      else
      {
        GetScriptFile_32(a3, Dst, SizeInWords, 4, 1);
      }
      goto LABEL_40;
    case 4:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS055HC03", v4);
        GetScriptFile_32(a3, Dst, SizeInWords, 5, 1);
      }
      else
      {
        GetScriptFile_32(a3, Dst, SizeInWords, 6, 1);
      }
      goto LABEL_40;
    case 5:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_32(a3, Dst, SizeInWords, 8, 1);
      else
        GetScriptFile_32(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_40;
    case 6:
      (a3->vtable->SetVariable)(a3, L"BS055HC03", v4);
      GetScriptFile_32(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_40;
    case 7:
    case 8:
      if ( v4 == 8 )
        (a3->vtable->SetFlagValue)(a3, L"941", 1);
      (a3->vtable->SetVariable)(a3, L"BS055HC08", v4);
      (a3->vtable->field_1C)(a3, L"REP05_5H_C03", 1);
      GetScriptFile_32(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_40;
    case 9:
      GetScriptFile_32(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_40;
    case 10:
      if ( (a3->vtable->IsFlagSet)(a3, L"941") )
        GetScriptFile_32(a3, Dst, SizeInWords, 11, 1);
      else
        GetScriptFile_32(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_40;
    case 11:
    case 12:
      (a3->vtable->SetVariable)(a3, L"BS055HD03", v4);
      GetScriptFile_32(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_40;
    case 13:
      (a3->vtable->field_1C)(a3, L"REP05_5H_D00", 1);
      if ( (a3->vtable->GetVariable)(a3, L"BS055HD03") == 11 )
        (a3->vtable->field_1C)(a3, L"REP05_5H_D00A", 1);
      else
        (a3->vtable->field_1C)(a3, L"REP05_5H_D00B", 1);
      if ( (a3->vtable->IsFlagSet)(a3, L"941") )
        GetScriptFile_32(a3, Dst, SizeInWords, 14, 1);
      else
        GetScriptFile_32(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_40;
    case 14:
    case 15:
      if ( v4 == 14 )
        sub_336590(a3, 0);
      else
        sub_336590(a3, 1);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    case 16:
      GetScriptFile_32(a3, Dst, SizeInWords, 1, 1);
LABEL_40:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 3972B8: using guessed type wchar_t asc_3972B8[6];
// 3972C4: using guessed type wchar_t aBs055hc03[10];
// 3972D8: using guessed type wchar_t aBs055hc03_0[10];
// 3972EC: using guessed type wchar_t aBs055hc03_1[10];
// 397300: using guessed type wchar_t a941[4];
// 397308: using guessed type wchar_t aBs055hc08[10];
// 39731C: using guessed type wchar_t aRep05_5h_c03[13];
// 397338: using guessed type wchar_t a941_0[4];
// 397340: using guessed type wchar_t aBs055hd03[10];
// 397354: using guessed type wchar_t aRep05_5h_d00[13];
// 397370: using guessed type wchar_t aBs055hd03_0[10];
// 397384: using guessed type wchar_t aRep05_5h_d00a[14];
// 3973A0: using guessed type wchar_t aRep05_5h_d00b[14];
// 3973BC: using guessed type wchar_t a941_1[4];

//----- (00363950) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_32(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@7
  int v6; // ST18_4@15
  int v7; // [sp+4h] [bp-8h]@10

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_32)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_27(a3, Dst, SizeInWords, 23, 0);
      return 1;
    case 1:
      GetScriptFile_32(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_19;
    case 2:
      GetScriptFile_32(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_19;
    case 3:
      GetScriptFile_32(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_19;
    case 4:
      GetScriptFile_32(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_19;
    case 5:
      v5 = (a3->vtable->GetVariable)(a3, L"BS055HC03");
      GetScriptFile_32(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_19;
    case 6:
      GetScriptFile_32(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_19;
    case 7:
    case 8:
      GetScriptFile_32(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_19;
    case 9:
      v7 = (a3->vtable->GetVariable)(a3, L"BS055HC08");
      if ( v7 == 8 )
        (a3->vtable->SetFlagValue)(a3, L"941", 0);
      GetScriptFile_32(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_19;
    case 10:
      GetScriptFile_32(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_19;
    case 11:
    case 12:
      GetScriptFile_32(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_19;
    case 13:
      v6 = (a3->vtable->GetVariable)(a3, L"BS055HD03");
      GetScriptFile_32(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_19;
    case 14:
    case 15:
      GetScriptFile_32(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_19;
    case 16:
      GetScriptFile_32(a3, Dst, SizeInWords, 0, 0);
LABEL_19:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 3973C4: using guessed type wchar_t asc_3973C4[6];
// 3973D0: using guessed type wchar_t aBs055hc03_2[10];
// 3973E4: using guessed type wchar_t aBs055hc08_0[10];
// 3973F8: using guessed type wchar_t a941_2[4];
// 397400: using guessed type wchar_t aBs055hd03_1[10];

//----- (00363C00) --------------------------------------------------------
signed int __cdecl searchRoot_route_55h(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 17; ++i )
  {
    if ( !wcscmp((&route_files_32)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 32);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 397414: using guessed type wchar_t asc_397414[6];
// 397420: using guessed type wchar_t asc_397420[6];

//----- (00363C70) --------------------------------------------------------
signed int __cdecl CheckScript_route_32(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 13;
      break;
    case 5:
      v2 = 15;
      break;
    case 14:
      v2 = 18;
      break;
    case 15:
      v2 = 19;
      break;
    default:
      v2 = CheckScript_by_flags_route_32(a1);
      break;
  }
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 363C70: using guessed type _DWORD __cdecl CheckScript_route_32(_DWORD);
// 39742C: using guessed type wchar_t asc_39742C[6];

//----- (00363D10) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_32(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 16; ++i )
  {
    if ( !wcscmp((&route_files_32)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00363D60) --------------------------------------------------------
int __cdecl SetFeeling_route_32(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@4

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  switch ( result )
  {
    case 3:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 5;
      else
        v3 = 4;
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 5;
      else
        v3 = 6;
      break;
    case 5:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 8;
      else
        v3 = 7;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_32)[2 * v3], a2);
  return result;
}
// 397438: using guessed type wchar_t asc_397438[6];

//----- (00363E40) --------------------------------------------------------
unsigned int __cdecl sub_363E40(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 633;
      break;
    case 18:
      v4 = 636;
      break;
    case 58:
      v4 = 639;
      break;
    case 6:
      v4 = 642;
      break;
    case 8:
      v4 = 643;
      break;
    case 17:
      v4 = 641;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_33)[2 * a3], a2);
}

//----- (00363F30) --------------------------------------------------------
errno_t __cdecl GetScriptFile_33(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_363E40(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 33);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_33)[2 * a4]);
}
// 397FB0: using guessed type wchar_t asc_397FB0[6];
// 397FBC: using guessed type wchar_t asc_397FBC[6];

//----- (00363FA0) --------------------------------------------------------
signed int __cdecl GetNextScript_33(wchar_t *Dst, rsize_t SizeInWords, int a3)
{
  signed int result; // eax@11
  int v4; // esi@129
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (*(*a3 + 8))(a3, L"SCENE");
  sub_363E40(a3, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_33(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_137;
    case 1:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_33(a3, Dst, SizeInWords, 3, 1);
        else
          GetScriptFile_33(a3, Dst, SizeInWords, 4, 1);
      }
      else
      {
        GetScriptFile_33(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_137;
    case 2:
    case 4:
      (*(*a3 + 12))(a3, L"BS055OA08", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_137;
    case 3:
    case 5:
      (*(*a3 + 12))(a3, L"BS055OD02", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_137;
    case 6:
      sub_336590(a3, 2);
      GetScriptFile_37(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 7:
      GetScriptFile_33(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_137;
    case 8:
      sub_336590(a3, 3);
      GetScriptFile_35(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 9:
      GetScriptFile_33(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_137;
    case 10:
      GetScriptFile_33(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_137;
    case 11:
      GetScriptFile_33(a3, Dst, SizeInWords, 72, 1);
      goto LABEL_137;
    case 12:
      GetScriptFile_33(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_137;
    case 13:
      if ( sub_336000(a3, (&route_files_33)[2 * v5]) )
        GetScriptFile_33(a3, Dst, SizeInWords, 14, 1);
      else
        GetScriptFile_33(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_137;
    case 14:
    case 15:
      (*(*a3 + 12))(a3, L"BS055OD09", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_137;
    case 16:
      GetScriptFile_33(a3, Dst, SizeInWords, 62, 1);
      goto LABEL_137;
    case 17:
      sub_336590(a3, 4);
      (*(*a3 + 28))(a3, L"REP05_5O_D10", 1);
      GetScriptFile_36(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 18:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
        {
          GetScriptFile_33(a3, Dst, SizeInWords, 20, 1);
        }
        else
        {
          (*(*a3 + 12))(a3, L"BS055OE03", v5);
          GetScriptFile_33(a3, Dst, SizeInWords, 21, 1);
        }
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS055OE01", v5);
        GetScriptFile_33(a3, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_137;
    case 19:
    case 21:
      if ( v5 == 19 )
        (*(*a3 + 20))(a3, L"937", 1);
      (*(*a3 + 12))(a3, L"BS055OE07", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_137;
    case 20:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
        {
          GetScriptFile_33(a3, Dst, SizeInWords, 22, 1);
        }
        else
        {
          (*(*a3 + 12))(a3, L"BS055OE03", v5);
          GetScriptFile_33(a3, Dst, SizeInWords, 21, 1);
        }
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS055OE01", v5);
        GetScriptFile_33(a3, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_137;
    case 22:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
        {
          GetScriptFile_33(a3, Dst, SizeInWords, 24, 1);
        }
        else
        {
          (*(*a3 + 12))(a3, L"BS055OE03", v5);
          GetScriptFile_33(a3, Dst, SizeInWords, 21, 1);
        }
      }
      else
      {
        GetScriptFile_33(a3, Dst, SizeInWords, 23, 1);
      }
      goto LABEL_137;
    case 23:
    case 24:
      if ( (*(*a3 + 4))(a3) )
      {
        (*(*a3 + 12))(a3, L"BS055OE03", v5);
        GetScriptFile_33(a3, Dst, SizeInWords, 21, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS055OE01", v5);
        GetScriptFile_33(a3, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_137;
    case 25:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_33(a3, Dst, SizeInWords, 27, 1);
        else
          GetScriptFile_33(a3, Dst, SizeInWords, 28, 1);
      }
      else
      {
        GetScriptFile_33(a3, Dst, SizeInWords, 26, 1);
      }
      goto LABEL_137;
    case 26:
      GetScriptFile_33(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_137;
    case 27:
    case 28:
      (*(*a3 + 12))(a3, L"BS055OF00", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_137;
    case 29:
      (*(*a3 + 12))(a3, L"BS055OG00", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_137;
    case 30:
      GetScriptFile_33(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_137;
    case 31:
      if ( (*(*a3 + 16))(a3, L"937") )
        GetScriptFile_33(a3, Dst, SizeInWords, 32, 1);
      else
        GetScriptFile_33(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_137;
    case 32:
      GetScriptFile_33(a3, Dst, SizeInWords, 46, 1);
      goto LABEL_137;
    case 33:
      GetScriptFile_33(a3, Dst, SizeInWords, 49, 1);
      goto LABEL_137;
    case 34:
      if ( (*(*a3 + 16))(a3, L"937") )
        GetScriptFile_33(a3, Dst, SizeInWords, 35, 1);
      else
        GetScriptFile_33(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_137;
    case 35:
    case 36:
      (*(*a3 + 12))(a3, L"BS055OF08", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_137;
    case 37:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_33(a3, Dst, SizeInWords, 39, 1);
        else
          GetScriptFile_33(a3, Dst, SizeInWords, 66, 1);
      }
      else
      {
        GetScriptFile_33(a3, Dst, SizeInWords, 38, 1);
      }
      goto LABEL_137;
    case 38:
      (*(*a3 + 12))(a3, L"BS055OL02", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 67, 1);
      goto LABEL_137;
    case 39:
      GetScriptFile_33(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_137;
    case 40:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_33(a3, Dst, SizeInWords, 42, 1);
        else
          GetScriptFile_33(a3, Dst, SizeInWords, 43, 1);
      }
      else
      {
        GetScriptFile_33(a3, Dst, SizeInWords, 41, 1);
      }
      goto LABEL_137;
    case 41:
    case 42:
    case 43:
      (*(*a3 + 12))(a3, L"BS055OF01", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_137;
    case 44:
      GetScriptFile_33(a3, Dst, SizeInWords, 68, 1);
      goto LABEL_137;
    case 45:
      (*(*a3 + 12))(a3, L"BS055OG00", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_137;
    case 46:
      if ( (*(*a3 + 4))(a3) )
        GetScriptFile_33(a3, Dst, SizeInWords, 48, 1);
      else
        GetScriptFile_33(a3, Dst, SizeInWords, 47, 1);
      goto LABEL_137;
    case 47:
    case 50:
      (*(*a3 + 12))(a3, L"BS055OI00", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 53, 1);
      goto LABEL_137;
    case 48:
    case 51:
    case 52:
      (*(*a3 + 12))(a3, L"BS055OI10", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 57, 1);
      goto LABEL_137;
    case 49:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_33(a3, Dst, SizeInWords, 51, 1);
        else
          GetScriptFile_33(a3, Dst, SizeInWords, 52, 1);
      }
      else
      {
        GetScriptFile_33(a3, Dst, SizeInWords, 50, 1);
      }
      goto LABEL_137;
    case 53:
      GetScriptFile_33(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_137;
    case 54:
      (*(*a3 + 12))(a3, L"BS055OD02", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_137;
    case 55:
      (*(*a3 + 12))(a3, L"BS055OI07", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 56, 1);
      goto LABEL_137;
    case 56:
      GetScriptFile_33(a3, Dst, SizeInWords, 54, 1);
      goto LABEL_137;
    case 57:
      if ( (*(*a3 + 16))(a3, L"937") )
      {
        GetScriptFile_33(a3, Dst, SizeInWords, 55, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS055OI07", v5);
        GetScriptFile_33(a3, Dst, SizeInWords, 56, 1);
      }
      goto LABEL_137;
    case 58:
      if ( sub_336000(a3, (&route_files_33)[2 * v5]) )
        GetScriptFile_33(a3, Dst, SizeInWords, 59, 1);
      else
        GetScriptFile_33(a3, Dst, SizeInWords, 60, 1);
      goto LABEL_137;
    case 59:
    case 60:
      if ( v5 == 59 )
        (*(*a3 + 20))(a3, L"926", 1);
      (*(*a3 + 12))(a3, L"BS055OF05", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_137;
    case 61:
      GetScriptFile_33(a3, Dst, SizeInWords, 71, 1);
      goto LABEL_137;
    case 62:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_33(a3, Dst, SizeInWords, 64, 1);
        else
          GetScriptFile_33(a3, Dst, SizeInWords, 65, 1);
      }
      else
      {
        GetScriptFile_33(a3, Dst, SizeInWords, 63, 1);
      }
      goto LABEL_137;
    case 63:
    case 64:
    case 65:
      (*(*a3 + 12))(a3, L"BS055OJ02", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 58, 1);
      goto LABEL_137;
    case 66:
      (*(*a3 + 12))(a3, L"BS055OL02", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 67, 1);
      goto LABEL_137;
    case 67:
    case 68:
      if ( v5 == 67 )
        (*(*a3 + 20))(a3, L"935", 1);
      (*(*a3 + 12))(a3, L"BS055OL04", v5);
      GetScriptFile_33(a3, Dst, SizeInWords, 69, 1);
      goto LABEL_137;
    case 69:
      if ( (*(*a3 + 16))(a3, L"926") )
      {
        GetScriptFile_33(a3, Dst, SizeInWords, 70, 1);
      }
      else
      {
        v4 = (*(*a3 + 8))(a3, L"001");
        if ( v4 <= (*(*a3 + 8))(a3, L"002") )
          GetScriptFile_33(a3, Dst, SizeInWords, 61, 1);
        else
          GetScriptFile_33(a3, Dst, SizeInWords, 6, 1);
      }
      goto LABEL_137;
    case 70:
      GetScriptFile_33(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_137;
    case 71:
      GetScriptFile_33(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_137;
    case 72:
      GetScriptFile_33(a3, Dst, SizeInWords, 18, 1);
LABEL_137:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 397FC8: using guessed type wchar_t asc_397FC8[6];
// 397FD4: using guessed type wchar_t aBs055oa08[10];
// 397FE8: using guessed type wchar_t aBs055od02[10];
// 397FFC: using guessed type wchar_t aBs055od09[10];
// 398010: using guessed type wchar_t aRep05_5o_d10[13];
// 39802C: using guessed type wchar_t aBs055oe01[10];
// 398040: using guessed type wchar_t aBs055oe03[10];
// 398054: using guessed type wchar_t a937[4];
// 39805C: using guessed type wchar_t aBs055oe07[10];
// 398070: using guessed type wchar_t aBs055oe01_0[10];
// 398084: using guessed type wchar_t aBs055oe03_0[10];
// 398098: using guessed type wchar_t aBs055oe03_1[10];
// 3980AC: using guessed type wchar_t aBs055oe01_1[10];
// 3980C0: using guessed type wchar_t aBs055oe03_2[10];
// 3980D4: using guessed type wchar_t aBs055of00[10];
// 3980E8: using guessed type wchar_t aBs055og00[10];
// 3980FC: using guessed type wchar_t a937_0[4];
// 398104: using guessed type wchar_t a937_1[4];
// 39810C: using guessed type wchar_t aBs055of08[10];
// 398120: using guessed type wchar_t aBs055ol02[10];
// 398134: using guessed type wchar_t aBs055of01[10];
// 398148: using guessed type wchar_t aBs055og00_0[10];
// 39815C: using guessed type wchar_t aBs055oi00[10];
// 398170: using guessed type wchar_t aBs055oi10[10];
// 398184: using guessed type wchar_t aBs055od02_0[10];
// 398198: using guessed type wchar_t aBs055oi07[10];
// 3981AC: using guessed type wchar_t a937_2[4];
// 3981B4: using guessed type wchar_t aBs055oi07_0[10];
// 3981C8: using guessed type wchar_t a926[4];
// 3981D0: using guessed type wchar_t aBs055of05[10];
// 3981E4: using guessed type wchar_t aBs055oj02[10];
// 3981F8: using guessed type wchar_t aBs055ol02_0[10];
// 39820C: using guessed type wchar_t a935[4];
// 398214: using guessed type wchar_t aBs055ol04[10];
// 398228: using guessed type wchar_t a926_0[4];
// 398230: using guessed type wchar_t a001_16[4];
// 398238: using guessed type wchar_t a002_16[4];

//----- (00364F50) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_33(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  int v4; // ST18_4@2
  signed int result; // eax@2
  int v6; // ST18_4@5
  int v7; // ST18_4@12
  int v8; // ST18_4@15
  int v9; // ST18_4@18
  int v10; // ST18_4@20
  int v11; // ST18_4@27
  int v12; // ST18_4@28
  int v13; // ST18_4@35
  int v14; // ST18_4@37
  int v15; // ST18_4@45
  int v16; // ST18_4@48
  int v17; // ST18_4@49
  int v18; // ST18_4@50
  int v19; // ST18_4@56
  int v20; // [sp+4h] [bp-8h]@23
  int v21; // [sp+4h] [bp-8h]@31
  int v22; // [sp+4h] [bp-8h]@58

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_33)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      v4 = (a3->vtable->GetVariable)(a3, L"BS055OA00");
      GetScriptFile_29(a3, Dst, SizeInWords, v4, 0);
      return 1;
    case 1:
      GetScriptFile_33(a3, Dst, SizeInWords, 53, 0);
      goto LABEL_65;
    case 2:
    case 3:
    case 4:
      GetScriptFile_33(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_65;
    case 5:
      v6 = (a3->vtable->GetVariable)(a3, L"BS055OA08");
      GetScriptFile_33(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_65;
    case 6:
      GetScriptFile_33(a3, Dst, SizeInWords, 69, 0);
      goto LABEL_65;
    case 7:
      GetScriptFile_33(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_65;
    case 8:
      GetScriptFile_33(a3, Dst, SizeInWords, 71, 0);
      goto LABEL_65;
    case 9:
      GetScriptFile_33(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_65;
    case 10:
      GetScriptFile_33(a3, Dst, SizeInWords, 70, 0);
      goto LABEL_65;
    case 11:
      GetScriptFile_33(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_65;
    case 12:
      v7 = (a3->vtable->GetVariable)(a3, L"BS055OD02");
      GetScriptFile_33(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_65;
    case 13:
      GetScriptFile_33(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_65;
    case 14:
    case 15:
      GetScriptFile_33(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_65;
    case 16:
      v8 = (a3->vtable->GetVariable)(a3, L"BS055OD09");
      GetScriptFile_33(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_65;
    case 17:
      GetScriptFile_33(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_65;
    case 18:
      GetScriptFile_33(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_65;
    case 19:
      v9 = (a3->vtable->GetVariable)(a3, L"BS055OE01");
      GetScriptFile_33(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_65;
    case 20:
      GetScriptFile_33(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_65;
    case 21:
      v10 = (a3->vtable->GetVariable)(a3, L"BS055OE03");
      GetScriptFile_33(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_65;
    case 22:
      GetScriptFile_33(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_65;
    case 23:
    case 24:
      GetScriptFile_33(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_65;
    case 25:
      v20 = (a3->vtable->GetVariable)(a3, L"BS055OE07");
      if ( v20 == 19 )
        (a3->vtable->SetFlagValue)(a3, L"937", 0);
      GetScriptFile_33(a3, Dst, SizeInWords, v20, 0);
      goto LABEL_65;
    case 26:
    case 27:
    case 28:
      GetScriptFile_33(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_65;
    case 29:
      v11 = (a3->vtable->GetVariable)(a3, L"BS055OF00");
      GetScriptFile_33(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_65;
    case 30:
      v12 = (a3->vtable->GetVariable)(a3, L"BS055OF01");
      GetScriptFile_33(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_65;
    case 31:
      GetScriptFile_33(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_65;
    case 32:
    case 33:
      GetScriptFile_33(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_65;
    case 34:
      v21 = (a3->vtable->GetVariable)(a3, L"BS055OF05");
      if ( v21 == 59 )
        (a3->vtable->SetFlagValue)(a3, L"926", 0);
      GetScriptFile_33(a3, Dst, SizeInWords, v21, 0);
      goto LABEL_65;
    case 35:
    case 36:
      GetScriptFile_33(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_65;
    case 37:
      v13 = (a3->vtable->GetVariable)(a3, L"BS055OF08");
      GetScriptFile_33(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_65;
    case 38:
    case 39:
      GetScriptFile_33(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_65;
    case 40:
      v14 = (a3->vtable->GetVariable)(a3, L"BS055OG00");
      GetScriptFile_33(a3, Dst, SizeInWords, v14, 0);
      goto LABEL_65;
    case 41:
    case 42:
    case 43:
      GetScriptFile_33(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_65;
    case 44:
      GetScriptFile_33(a3, Dst, SizeInWords, 39, 0);
      goto LABEL_65;
    case 45:
      GetScriptFile_33(a3, Dst, SizeInWords, 26, 0);
      goto LABEL_65;
    case 46:
      GetScriptFile_33(a3, Dst, SizeInWords, 32, 0);
      goto LABEL_65;
    case 47:
    case 48:
      GetScriptFile_33(a3, Dst, SizeInWords, 46, 0);
      goto LABEL_65;
    case 49:
      GetScriptFile_33(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_65;
    case 50:
    case 51:
    case 52:
      GetScriptFile_33(a3, Dst, SizeInWords, 49, 0);
      goto LABEL_65;
    case 53:
      v15 = (a3->vtable->GetVariable)(a3, L"BS055OI00");
      GetScriptFile_33(a3, Dst, SizeInWords, v15, 0);
      goto LABEL_65;
    case 54:
      GetScriptFile_33(a3, Dst, SizeInWords, 56, 0);
      goto LABEL_65;
    case 55:
      GetScriptFile_33(a3, Dst, SizeInWords, 57, 0);
      goto LABEL_65;
    case 56:
      v16 = (a3->vtable->GetVariable)(a3, L"BS055OI07");
      GetScriptFile_33(a3, Dst, SizeInWords, v16, 0);
      goto LABEL_65;
    case 57:
      v17 = (a3->vtable->GetVariable)(a3, L"BS055OI10");
      GetScriptFile_33(a3, Dst, SizeInWords, v17, 0);
      goto LABEL_65;
    case 58:
      v18 = (a3->vtable->GetVariable)(a3, L"BS055OJ02");
      GetScriptFile_33(a3, Dst, SizeInWords, v18, 0);
      goto LABEL_65;
    case 59:
    case 60:
      GetScriptFile_33(a3, Dst, SizeInWords, 58, 0);
      goto LABEL_65;
    case 61:
      GetScriptFile_33(a3, Dst, SizeInWords, 69, 0);
      goto LABEL_65;
    case 62:
      GetScriptFile_33(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_65;
    case 63:
    case 64:
    case 65:
      GetScriptFile_33(a3, Dst, SizeInWords, 62, 0);
      goto LABEL_65;
    case 66:
      GetScriptFile_33(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_65;
    case 67:
      v19 = (a3->vtable->GetVariable)(a3, L"BS055OL02");
      GetScriptFile_33(a3, Dst, SizeInWords, v19, 0);
      goto LABEL_65;
    case 68:
      GetScriptFile_33(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_65;
    case 69:
      v22 = (a3->vtable->GetVariable)(a3, L"BS055OL04");
      if ( v22 == 67 )
        (a3->vtable->SetFlagValue)(a3, L"935", 0);
      GetScriptFile_33(a3, Dst, SizeInWords, v22, 0);
      goto LABEL_65;
    case 70:
      GetScriptFile_33(a3, Dst, SizeInWords, 69, 0);
      goto LABEL_65;
    case 71:
      GetScriptFile_33(a3, Dst, SizeInWords, 61, 0);
      goto LABEL_65;
    case 72:
      GetScriptFile_33(a3, Dst, SizeInWords, 11, 0);
LABEL_65:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 398240: using guessed type wchar_t asc_398240[6];
// 39824C: using guessed type wchar_t aBs055oa00[10];
// 398260: using guessed type wchar_t aBs055oa08_0[10];
// 398274: using guessed type wchar_t aBs055od02_1[10];
// 398288: using guessed type wchar_t aBs055od09_0[10];
// 39829C: using guessed type wchar_t aBs055oe01_2[10];
// 3982B0: using guessed type wchar_t aBs055oe03_3[10];
// 3982C4: using guessed type wchar_t aBs055oe07_0[10];
// 3982D8: using guessed type wchar_t a937_3[4];
// 3982E0: using guessed type wchar_t aBs055of00_0[10];
// 3982F4: using guessed type wchar_t aBs055of01_0[10];
// 398308: using guessed type wchar_t aBs055of05_0[10];
// 39831C: using guessed type wchar_t a926_1[4];
// 398324: using guessed type wchar_t aBs055of08_0[10];
// 398338: using guessed type wchar_t aBs055og00_1[10];
// 39834C: using guessed type wchar_t aBs055oi00_0[10];
// 398360: using guessed type wchar_t aBs055oi07_1[10];
// 398374: using guessed type wchar_t aBs055oi10_0[10];
// 398388: using guessed type wchar_t aBs055oj02_0[10];
// 39839C: using guessed type wchar_t aBs055ol02_1[10];
// 3983B0: using guessed type wchar_t aBs055ol04_0[10];
// 3983C4: using guessed type wchar_t a935_0[4];

//----- (00365930) --------------------------------------------------------
signed int __cdecl searchRoot_route_550(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 73; ++i )
  {
    if ( !wcscmp((&route_files_33)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 33);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 3983CC: using guessed type wchar_t asc_3983CC[6];
// 3983D8: using guessed type wchar_t asc_3983D8[6];

//----- (003659A0) --------------------------------------------------------
signed int __cdecl CheckScript_route_33(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 44;
      break;
    case 18:
      v2 = 47;
      break;
    case 58:
      v2 = 50;
      break;
    case 6:
      v2 = 53;
      break;
    case 8:
      v2 = 54;
      break;
    case 17:
      v2 = 52;
      break;
    default:
      v2 = CheckScript_by_flags_route_32(a1);
      break;
  }
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 3659A0: using guessed type _DWORD __cdecl CheckScript_route_33(_DWORD);
// 3983E4: using guessed type wchar_t asc_3983E4[6];

//----- (00365A90) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_33(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 72; ++i )
  {
    if ( !wcscmp((&route_files_33)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00365AE0) --------------------------------------------------------
int __cdecl SetFeeling_route_33(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 1;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 2;
      }
      break;
    case 17:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 20;
        else
          v3 = 21;
      }
      else
      {
        v3 = 19;
      }
      break;
    case 19:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 22;
        else
          v3 = 21;
      }
      else
      {
        v3 = 19;
      }
      break;
    case 21:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 24;
        else
          v3 = 21;
      }
      else
      {
        v3 = 23;
      }
      break;
    case 22:
    case 23:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 21;
      else
        v3 = 19;
      break;
    case 24:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 27;
        else
          v3 = 28;
      }
      else
      {
        v3 = 26;
      }
      break;
    case 36:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 39;
        else
          v3 = 66;
      }
      else
      {
        v3 = 38;
      }
      break;
    case 39:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 42;
        else
          v3 = 43;
      }
      else
      {
        v3 = 41;
      }
      break;
    case 45:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 48;
      else
        v3 = 47;
      break;
    case 48:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 51;
        else
          v3 = 52;
      }
      else
      {
        v3 = 50;
      }
      break;
    case 61:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 64;
        else
          v3 = 65;
      }
      else
      {
        v3 = 63;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_33)[2 * v3], a2);
  return result;
}
// 3983F0: using guessed type wchar_t asc_3983F0[6];

//----- (00365E60) --------------------------------------------------------
unsigned int __cdecl sub_365E60(ScriptObject *a1, int a2, int a3)
{
  return sub_3367C0(a1, -1, (&route_files_34)[2 * a3], a2);
}

//----- (00365E90) --------------------------------------------------------
errno_t __cdecl GetScriptFile_34(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_365E60(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 34);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_34)[2 * a4]);
}
// 398484: using guessed type wchar_t asc_398484[6];
// 398490: using guessed type wchar_t asc_398490[6];

//----- (00365F00) --------------------------------------------------------
signed int __cdecl GetNextScript_34(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@8
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_365E60(a3, 1, v4);
  if ( v4 )
  {
    if ( v4 > 0 && v4 <= 2 )
    {
      sub_336590(a3, 21);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
    }
    else
    {
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
    }
  }
  else
  {
    if ( (a3->vtable->IsFlagSet)(a3, L"804") )
      GetScriptFile_34(a3, Dst, SizeInWords, 1, 1);
    else
      GetScriptFile_34(a3, Dst, SizeInWords, 2, 1);
    result = 1;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 39849C: using guessed type wchar_t asc_39849C[6];
// 3984A8: using guessed type wchar_t a804[4];

//----- (00366000) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_34(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@7
  int v4; // [sp+4h] [bp-8h]@5
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_34)[2 * v5], 0);
  if ( v5 )
  {
    if ( v5 > 0 && v5 <= 2 )
    {
      GetScriptFile_34(a3, Dst, SizeInWords, 0, 0);
      result = 1;
    }
    else
    {
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
    }
  }
  else
  {
    v4 = (a3->vtable->GetVariable)(a3, L"BS059HA00");
    if ( v4 == 22 )
      (a3->vtable->SetFlagValue)(a3, L"804", 0);
    GetScriptFile_48(a3, Dst, SizeInWords, v4, 0);
    result = 1;
  }
  return result;
}
// 3984B0: using guessed type wchar_t asc_3984B0[6];
// 3984BC: using guessed type wchar_t aBs059ha00[10];
// 3984D0: using guessed type wchar_t a804_0[4];

//----- (003660E0) --------------------------------------------------------
signed int __cdecl searchRoot_route_59h(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 3; ++i )
  {
    if ( !wcscmp((&route_files_34)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 34);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 3984D8: using guessed type wchar_t asc_3984D8[6];
// 3984E4: using guessed type wchar_t asc_3984E4[6];

//----- (00366150) --------------------------------------------------------
int __cdecl CheckScript_route_34(int a1)
{
  return CheckScript_by_flags_route_32(a1);
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 366150: using guessed type _DWORD __cdecl CheckScript_route_34(_DWORD);

//----- (00366180) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_34(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 3; ++i )
  {
    if ( !wcscmp((&route_files_34)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003661D0) --------------------------------------------------------
int __cdecl SetFeeling_route_34(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 3984F0: using guessed type wchar_t asc_3984F0[6];

//----- (00366220) --------------------------------------------------------
unsigned int __cdecl sub_366220(ScriptObject *a1, int a2, int a3)
{
  return sub_3367C0(a1, -1, (&route_files_35)[2 * a3], a2);
}

//----- (00366250) --------------------------------------------------------
errno_t __cdecl GetScriptFile_35(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_366220(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 35);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_35)[2 * a4]);
}
// 398534: using guessed type wchar_t asc_398534[6];
// 398540: using guessed type wchar_t asc_398540[6];

//----- (003662C0) --------------------------------------------------------
signed int __cdecl GetNextScript_35(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST14_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_366220(a3, 1, v3);
  if ( v3 )
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  else
  {
    (a3->vtable->field_38)(a3, 1);
    sub_336760(a3, Dst, SizeInWords, 1);
    result = 1;
  }
  return result;
}
// 39854C: using guessed type wchar_t asc_39854C[6];

//----- (00366350) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_35(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_35)[2 * v3], 0);
  if ( v3 )
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  else
  {
    GetScriptFile_33(a3, Dst, SizeInWords, 8, 0);
    result = 1;
  }
  return result;
}
// 398558: using guessed type wchar_t asc_398558[6];

//----- (003663E0) --------------------------------------------------------
signed int __cdecl searchRoot_route_59k(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_35)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 35);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 398564: using guessed type wchar_t asc_398564[6];
// 398570: using guessed type wchar_t asc_398570[6];

//----- (00366450) --------------------------------------------------------
int __cdecl CheckScript_route_35(int a1)
{
  return CheckScript_by_flags_route_32(a1);
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 366450: using guessed type _DWORD __cdecl CheckScript_route_35(_DWORD);

//----- (00366480) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_35(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_35)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003664D0) --------------------------------------------------------
int __cdecl SetFeeling_route_35(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 39857C: using guessed type wchar_t asc_39857C[6];

//----- (00366520) --------------------------------------------------------
unsigned int __cdecl sub_366520(ScriptObject *a1, int a2, int a3)
{
  return sub_3367C0(a1, -1, (&route_files_36)[2 * a3], a2);
}

//----- (00366550) --------------------------------------------------------
errno_t __cdecl GetScriptFile_36(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_366520(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 36);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_36)[2 * a4]);
}
// 3985C0: using guessed type wchar_t asc_3985C0[6];
// 3985CC: using guessed type wchar_t asc_3985CC[6];

//----- (003665C0) --------------------------------------------------------
signed int __cdecl GetNextScript_36(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST14_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_366520(a3, 1, v3);
  if ( v3 )
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  else
  {
    (a3->vtable->field_38)(a3, 1);
    sub_336760(a3, Dst, SizeInWords, 1);
    result = 1;
  }
  return result;
}
// 3985D8: using guessed type wchar_t asc_3985D8[6];

//----- (00366650) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_36(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_36)[2 * v3], 0);
  if ( v3 )
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  else
  {
    GetScriptFile_33(a3, Dst, SizeInWords, 17, 0);
    result = 1;
  }
  return result;
}
// 3985E4: using guessed type wchar_t asc_3985E4[6];

//----- (003666E0) --------------------------------------------------------
signed int __cdecl searchRoot_route_59o(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_36)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 36);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 3985F0: using guessed type wchar_t asc_3985F0[6];
// 3985FC: using guessed type wchar_t asc_3985FC[6];

//----- (00366750) --------------------------------------------------------
int __cdecl CheckScript_route_36(int a1)
{
  return CheckScript_by_flags_route_32(a1);
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 366750: using guessed type _DWORD __cdecl CheckScript_route_36(_DWORD);

//----- (00366780) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_36(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_36)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003667D0) --------------------------------------------------------
int __cdecl SetFeeling_route_36(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 398608: using guessed type wchar_t asc_398608[6];

//----- (00366820) --------------------------------------------------------
unsigned int __cdecl sub_366820(ScriptObject *a1, int a2, int a3)
{
  return sub_3367C0(a1, -1, (&route_files_37)[2 * a3], a2);
}

//----- (00366850) --------------------------------------------------------
errno_t __cdecl GetScriptFile_37(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_366820(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 37);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_37)[2 * a4]);
}
// 39864C: using guessed type wchar_t asc_39864C[6];
// 398658: using guessed type wchar_t asc_398658[6];

//----- (003668C0) --------------------------------------------------------
signed int __cdecl GetNextScript_37(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST14_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_366820(a3, 1, v3);
  if ( v3 )
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  else
  {
    (a3->vtable->field_38)(a3, 1);
    sub_336760(a3, Dst, SizeInWords, 1);
    result = 1;
  }
  return result;
}
// 398664: using guessed type wchar_t asc_398664[6];

//----- (00366950) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_37(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_37)[2 * v3], 0);
  if ( v3 )
  {
    sub_336760(a3, Dst, SizeInWords, 0);
    result = 0;
  }
  else
  {
    GetScriptFile_33(a3, Dst, SizeInWords, 6, 0);
    result = 1;
  }
  return result;
}
// 398670: using guessed type wchar_t asc_398670[6];

//----- (003669E0) --------------------------------------------------------
signed int __cdecl searchRoot_route_59s(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_37)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 37);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39867C: using guessed type wchar_t asc_39867C[6];
// 398688: using guessed type wchar_t asc_398688[6];

//----- (00366A50) --------------------------------------------------------
int __cdecl CheckScript_route_37(int a1)
{
  return CheckScript_by_flags_route_32(a1);
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 366A50: using guessed type _DWORD __cdecl CheckScript_route_37(_DWORD);

//----- (00366A80) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_37(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_37)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00366AD0) --------------------------------------------------------
int __cdecl SetFeeling_route_37(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 398694: using guessed type wchar_t asc_398694[6];

//----- (00366B20) --------------------------------------------------------
unsigned int __cdecl sub_366B20(ScriptObject *a1, int a2, int a3)
{
  return sub_3367C0(a1, -1, (&route_files_38)[2 * a3], a2);
}

//----- (00366B50) --------------------------------------------------------
errno_t __cdecl GetScriptFile_38(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_366B20(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 38);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_38)[2 * a4]);
}
// 398778: using guessed type wchar_t asc_398778[6];
// 398784: using guessed type wchar_t asc_398784[6];

//----- (00366BC0) --------------------------------------------------------
signed int __cdecl GetNextScript_38(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@9
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_366B20(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_38(a3, Dst, SizeInWords, 2, 1);
        else
          GetScriptFile_38(a3, Dst, SizeInWords, 3, 1);
      }
      else
      {
        GetScriptFile_38(a3, Dst, SizeInWords, 1, 1);
      }
      goto LABEL_11;
    case 1:
    case 2:
    case 3:
      (a3->vtable->SetVariable)(a3, L"BS05A0H04", v4);
      GetScriptFile_38(a3, Dst, SizeInWords, 4, 1);
LABEL_11:
      result = 1;
      break;
    case 4:
      (a3->vtable->SetVariable)(a3, L"BS05KAA05", v4);
      GetScriptFile_42(a3, Dst, SizeInWords, 5, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 398790: using guessed type wchar_t asc_398790[6];
// 39879C: using guessed type wchar_t aBs05a0h04[10];
// 3987B0: using guessed type wchar_t aBs05kaa05[10];

//----- (00366D20) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_38(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@4

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_38)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_42(a3, Dst, SizeInWords, 30, 0);
      result = 1;
      break;
    case 1:
    case 2:
    case 3:
      GetScriptFile_38(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_6;
    case 4:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05A0H04");
      GetScriptFile_38(a3, Dst, SizeInWords, v5, 0);
LABEL_6:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 3987C4: using guessed type wchar_t asc_3987C4[6];
// 3987D0: using guessed type wchar_t aBs05a0h04_0[10];

//----- (00366E10) --------------------------------------------------------
signed int __cdecl searchRoot_route_5a0(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 5; ++i )
  {
    if ( !wcscmp((&route_files_38)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 38);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 3987E4: using guessed type wchar_t asc_3987E4[6];
// 3987F0: using guessed type wchar_t asc_3987F0[6];

//----- (00366E80) --------------------------------------------------------
int __cdecl CheckScript_route_38(int a1)
{
  return CheckScript_by_flags_route_32(a1);
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 366E80: using guessed type _DWORD __cdecl CheckScript_route_38(_DWORD);

//----- (00366EB0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_38(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 5; ++i )
  {
    if ( !wcscmp((&route_files_38)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00366F00) --------------------------------------------------------
int __cdecl SetFeeling_route_38(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( result )
  {
    v3 = -1;
  }
  else
  {
    result = (a1->vtable->GetCurrentScene)(a1);
    if ( result )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result == 1 )
        v3 = 2;
      else
        v3 = 3;
    }
    else
    {
      v3 = 1;
    }
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_38)[2 * v3], a2);
  return result;
}
// 3987FC: using guessed type wchar_t asc_3987FC[6];

//----- (00366FA0) --------------------------------------------------------
unsigned int __cdecl sub_366FA0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 == 5 )
  {
    v4 = 606;
  }
  else
  {
    if ( a3 == 6 )
      v4 = 605;
    else
      v4 = -1;
  }
  return sub_3367C0(a1, v4, (&route_files_39)[2 * a3], a2);
}

//----- (00367000) --------------------------------------------------------
errno_t __cdecl GetScriptFile_39(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_366FA0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 39);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_39)[2 * a4]);
}
// 398930: using guessed type wchar_t asc_398930[6];
// 39893C: using guessed type wchar_t asc_39893C[6];

//----- (00367070) --------------------------------------------------------
signed int __cdecl GetNextScript_39(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  int v4; // esi@2
  signed int result; // eax@10

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_366FA0(a3, 1, v3);
  switch ( v3 )
  {
    case 0:
      v4 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v4 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_39(a3, Dst, SizeInWords, 1, 1);
      else
        GetScriptFile_39(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_13;
    case 1:
      GetScriptFile_39(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_13;
    case 2:
      GetScriptFile_39(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_13;
    case 3:
      GetScriptFile_39(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_13;
    case 4:
      GetScriptFile_39(a3, Dst, SizeInWords, 5, 1);
LABEL_13:
      result = 1;
      break;
    case 5:
      sub_336590(a3, 6);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    case 6:
      sub_336590(a3, 5);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 398948: using guessed type wchar_t asc_398948[6];
// 398954: using guessed type wchar_t a001_17[4];
// 39895C: using guessed type wchar_t a002_17[4];

//----- (00367250) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_39(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST18_4@1
  signed int result; // eax@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_39)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_42(a3, Dst, SizeInWords, 35, 0);
      return 1;
    case 1:
      GetScriptFile_39(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_10;
    case 2:
      GetScriptFile_39(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_10;
    case 3:
      GetScriptFile_39(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_10;
    case 4:
      GetScriptFile_39(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_10;
    case 5:
      GetScriptFile_39(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_10;
    case 6:
      GetScriptFile_39(a3, Dst, SizeInWords, 0, 0);
LABEL_10:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 398964: using guessed type wchar_t asc_398964[6];

//----- (003673B0) --------------------------------------------------------
signed int __cdecl searchRoot_route_5a2(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 7; ++i )
  {
    if ( !wcscmp((&route_files_39)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 39);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 398970: using guessed type wchar_t asc_398970[6];
// 39897C: using guessed type wchar_t asc_39897C[6];

//----- (00367420) --------------------------------------------------------
signed int __cdecl CheckScript_route_39(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 == 5 )
  {
    v3 = 17;
  }
  else
  {
    if ( v2 == 6 )
      v3 = 16;
    else
      v3 = CheckScript_by_flags_route_32(a1);
  }
  return v3;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 367420: using guessed type _DWORD __cdecl CheckScript_route_39(_DWORD);
// 398988: using guessed type wchar_t asc_398988[6];

//----- (00367480) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_39(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 7; ++i )
  {
    if ( !wcscmp((&route_files_39)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003674D0) --------------------------------------------------------
int __cdecl SetFeeling_route_39(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 398994: using guessed type wchar_t asc_398994[6];

//----- (00367520) --------------------------------------------------------
unsigned int __cdecl sub_367520(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 == 9 )
    v4 = 632;
  else
    v4 = -1;
  return sub_3367C0(a1, v4, (&route_files_40)[2 * a3], a2);
}

//----- (00367570) --------------------------------------------------------
errno_t __cdecl GetScriptFile_40(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_367520(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 40);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_40)[2 * a4]);
}
// 398B40: using guessed type wchar_t asc_398B40[6];
// 398B4C: using guessed type wchar_t asc_398B4C[6];

//----- (003675E0) --------------------------------------------------------
signed int __cdecl GetNextScript_40(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@11
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_367520(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      GetScriptFile_40(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_13;
    case 1:
      GetScriptFile_40(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_13;
    case 2:
      (a3->vtable->SetVariable)(a3, L"BS05B0D00", v4);
      GetScriptFile_40(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_13;
    case 3:
      GetScriptFile_40(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_13;
    case 4:
      GetScriptFile_40(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_13;
    case 5:
      GetScriptFile_40(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_13;
    case 6:
      GetScriptFile_40(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_13;
    case 7:
      GetScriptFile_40(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_13;
    case 8:
      GetScriptFile_40(a3, Dst, SizeInWords, 9, 1);
LABEL_13:
      result = 1;
      break;
    case 9:
      sub_336590(a3, 7);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 398B58: using guessed type wchar_t asc_398B58[6];
// 398B64: using guessed type wchar_t aBs05b0d00[10];

//----- (003677D0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_40(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST20_4@1
  signed int result; // eax@9
  int v5; // [sp+4h] [bp-Ch]@2
  int v6; // [sp+8h] [bp-8h]@2
  int v7; // [sp+8h] [bp-8h]@13

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_40)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05B0A00");
      v5 = (a3->vtable->GetVariable)(a3, L"BS05B0");
      switch ( v5 )
      {
        case 41:
          GetScriptFile_41(a3, Dst, SizeInWords, v6, 0);
          break;
        case 43:
          GetScriptFile_43(a3, Dst, SizeInWords, v6, 0);
          break;
        case 47:
          GetScriptFile_47(a3, Dst, SizeInWords, v6, 0);
          break;
        default:
          GetScriptFile_50(a3, Dst, SizeInWords, v6, 0);
          break;
      }
      return 1;
    case 1:
      GetScriptFile_40(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_22;
    case 2:
      GetScriptFile_40(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_22;
    case 3:
      GetScriptFile_40(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_22;
    case 4:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05B0D00");
      if ( (a3->vtable->GetVariable)(a3, L"BS05B0") == 45 )
      {
        GetScriptFile_45(a3, Dst, SizeInWords, v7, 0);
        result = 1;
      }
      else
      {
        GetScriptFile_40(a3, Dst, SizeInWords, v7, 0);
LABEL_22:
        result = 1;
      }
      break;
    case 5:
      GetScriptFile_40(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_22;
    case 6:
      GetScriptFile_40(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_22;
    case 7:
      GetScriptFile_40(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_22;
    case 8:
      GetScriptFile_40(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_22;
    case 9:
      GetScriptFile_40(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_22;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 398B78: using guessed type wchar_t asc_398B78[6];
// 398B84: using guessed type wchar_t aBs05b0a00[10];
// 398B98: using guessed type wchar_t aBs05b0[7];
// 398BA8: using guessed type wchar_t aBs05b0d00_0[10];
// 398BBC: using guessed type wchar_t aBs05b0_0[7];

//----- (00367A70) --------------------------------------------------------
signed int __cdecl searchRoot_route_5b0(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 10; ++i )
  {
    if ( !wcscmp((&route_files_40)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 40);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 398BCC: using guessed type wchar_t asc_398BCC[6];
// 398BD8: using guessed type wchar_t asc_398BD8[6];

//----- (00367AE0) --------------------------------------------------------
signed int __cdecl CheckScript_route_40(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") == 9 )
    v2 = 43;
  else
    v2 = CheckScript_by_flags_route_32(a1);
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 367AE0: using guessed type _DWORD __cdecl CheckScript_route_40(_DWORD);
// 398BE4: using guessed type wchar_t asc_398BE4[6];

//----- (00367B30) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_40(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 10; ++i )
  {
    if ( !wcscmp((&route_files_40)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00367B80) --------------------------------------------------------
int __cdecl SetFeeling_route_40(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 398BF0: using guessed type wchar_t asc_398BF0[6];

//----- (00367BD0) --------------------------------------------------------
unsigned int __cdecl sub_367BD0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 == 39 )
  {
    v4 = 609;
  }
  else
  {
    if ( a3 == 45 )
      v4 = 610;
    else
      v4 = -1;
  }
  return sub_3367C0(a1, v4, (&route_files_41)[2 * a3], a2);
}

//----- (00367C30) --------------------------------------------------------
errno_t __cdecl GetScriptFile_41(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_367BD0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 41);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_41)[2 * a4]);
}
// 39933C: using guessed type wchar_t asc_39933C[6];
// 399348: using guessed type wchar_t asc_399348[6];

//----- (00367CA0) --------------------------------------------------------
signed int __cdecl GetNextScript_41(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@50
  int v4; // eax@54
  signed int result; // eax@54
  int v6; // eax@62
  int v7; // [sp+8h] [bp-4h]@1

  v7 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_367BD0(a3, 1, v7);
  switch ( v7 )
  {
    case 0:
      GetScriptFile_41(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_68;
    case 1:
      GetScriptFile_41(a3, Dst, SizeInWords, 38, 1);
      goto LABEL_68;
    case 2:
      GetScriptFile_41(a3, Dst, SizeInWords, 42, 1);
      goto LABEL_68;
    case 3:
      GetScriptFile_41(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_68;
    case 4:
      GetScriptFile_41(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_68;
    case 5:
      GetScriptFile_41(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_68;
    case 6:
      GetScriptFile_41(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_68;
    case 7:
      GetScriptFile_41(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_68;
    case 8:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_41(a3, Dst, SizeInWords, 10, 1);
        else
          GetScriptFile_41(a3, Dst, SizeInWords, 11, 1);
      }
      else
      {
        GetScriptFile_41(a3, Dst, SizeInWords, 9, 1);
      }
      goto LABEL_68;
    case 9:
      GetScriptFile_41(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_68;
    case 10:
    case 11:
      (a3->vtable->SetVariable)(a3, L"BS05G0D04", v7);
      GetScriptFile_41(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_68;
    case 12:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_41(a3, Dst, SizeInWords, 14, 1);
        else
          GetScriptFile_41(a3, Dst, SizeInWords, 15, 1);
      }
      else
      {
        GetScriptFile_41(a3, Dst, SizeInWords, 13, 1);
      }
      goto LABEL_68;
    case 13:
    case 14:
    case 15:
      (a3->vtable->SetVariable)(a3, L"BS05G0E00", v7);
      GetScriptFile_41(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_68;
    case 16:
      GetScriptFile_41(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_68;
    case 17:
      GetScriptFile_41(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_68;
    case 18:
    case 19:
      (a3->vtable->SetVariable)(a3, L"BS05G0F02", v7);
      GetScriptFile_41(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_68;
    case 20:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_41(a3, Dst, SizeInWords, 22, 1);
      else
        GetScriptFile_41(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_68;
    case 21:
    case 22:
      (a3->vtable->SetVariable)(a3, L"BS05G0F05", v7);
      GetScriptFile_41(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_68;
    case 23:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_41(a3, Dst, SizeInWords, 25, 1);
        else
          GetScriptFile_41(a3, Dst, SizeInWords, 26, 1);
      }
      else
      {
        GetScriptFile_41(a3, Dst, SizeInWords, 24, 1);
      }
      goto LABEL_68;
    case 24:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_41(a3, Dst, SizeInWords, 28, 1);
      else
        GetScriptFile_41(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_68;
    case 25:
    case 26:
    case 27:
    case 28:
      (a3->vtable->SetVariable)(a3, L"BS05G0G00", v7);
      GetScriptFile_41(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_68;
    case 29:
      GetScriptFile_41(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_68;
    case 30:
      GetScriptFile_41(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_68;
    case 31:
      GetScriptFile_41(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_68;
    case 32:
      GetScriptFile_41(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_68;
    case 33:
      GetScriptFile_41(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_68;
    case 34:
      GetScriptFile_41(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_68;
    case 35:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_41(a3, Dst, SizeInWords, 37, 1);
      else
        GetScriptFile_41(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_68;
    case 36:
      (a3->vtable->SetVariable)(a3, L"BS05B0A00", v7);
      v4 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05B0", v4);
      GetScriptFile_40(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 37:
      GetScriptFile_41(a3, Dst, SizeInWords, 39, 1);
      goto LABEL_68;
    case 38:
      GetScriptFile_41(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_68;
    case 39:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_41(a3, Dst, SizeInWords, 41, 1);
      else
        GetScriptFile_41(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_68;
    case 40:
      GetScriptFile_41(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_68;
    case 41:
      (a3->vtable->SetVariable)(a3, L"BS05B0A00", v7);
      v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05B0", v6);
      GetScriptFile_40(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 42:
      GetScriptFile_41(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_68;
    case 43:
      GetScriptFile_41(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_68;
    case 44:
      GetScriptFile_41(a3, Dst, SizeInWords, 5, 1);
LABEL_68:
      result = 1;
      break;
    case 45:
      sub_336590(a3, 8);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 399354: using guessed type wchar_t asc_399354[6];
// 399360: using guessed type wchar_t aBs05g0d04[10];
// 399374: using guessed type wchar_t aBs05g0e00[10];
// 399388: using guessed type wchar_t aBs05g0f02[10];
// 39939C: using guessed type wchar_t aBs05g0f05[10];
// 3993B0: using guessed type wchar_t aBs05g0g00[10];
// 3993C4: using guessed type wchar_t a001_18[4];
// 3993CC: using guessed type wchar_t a002_18[4];
// 3993D4: using guessed type wchar_t aBs05b0a00_0[10];
// 3993E8: using guessed type wchar_t asc_3993E8[6];
// 3993F4: using guessed type wchar_t aBs05b0_1[7];
// 399404: using guessed type wchar_t aBs05b0a00_1[10];
// 399418: using guessed type wchar_t asc_399418[6];
// 399424: using guessed type wchar_t aBs05b0_2[7];

//----- (003684F0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_41(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@12
  int v6; // ST18_4@14
  int v7; // ST18_4@18
  int v8; // ST18_4@20
  int v9; // ST18_4@23

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_41)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      GetScriptFile_46(a3, Dst, SizeInWords, 20, 0);
      return 1;
    case 1:
      GetScriptFile_41(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_39;
    case 2:
      GetScriptFile_41(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_39;
    case 3:
      GetScriptFile_41(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_39;
    case 4:
      GetScriptFile_41(a3, Dst, SizeInWords, 38, 0);
      goto LABEL_39;
    case 5:
      GetScriptFile_41(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_39;
    case 6:
      GetScriptFile_41(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_39;
    case 7:
      GetScriptFile_41(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_39;
    case 8:
      GetScriptFile_41(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_39;
    case 9:
    case 10:
    case 11:
      GetScriptFile_41(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_39;
    case 12:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05G0D04");
      GetScriptFile_41(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_39;
    case 13:
    case 14:
    case 15:
      GetScriptFile_41(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_39;
    case 16:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05G0E00");
      GetScriptFile_41(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_39;
    case 17:
      GetScriptFile_41(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_39;
    case 18:
      GetScriptFile_41(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_39;
    case 19:
      GetScriptFile_41(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_39;
    case 20:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05G0F02");
      GetScriptFile_41(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_39;
    case 21:
    case 22:
      GetScriptFile_41(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_39;
    case 23:
      v8 = (a3->vtable->GetVariable)(a3, L"BS05G0F05");
      GetScriptFile_41(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_39;
    case 24:
    case 25:
    case 26:
      GetScriptFile_41(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_39;
    case 27:
    case 28:
      GetScriptFile_41(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_39;
    case 29:
      v9 = (a3->vtable->GetVariable)(a3, L"BS05G0G00");
      GetScriptFile_41(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_39;
    case 30:
      GetScriptFile_41(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_39;
    case 31:
      GetScriptFile_41(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_39;
    case 32:
      GetScriptFile_41(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_39;
    case 33:
      GetScriptFile_41(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_39;
    case 34:
      GetScriptFile_41(a3, Dst, SizeInWords, 43, 0);
      goto LABEL_39;
    case 35:
      GetScriptFile_41(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_39;
    case 36:
    case 37:
      GetScriptFile_41(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_39;
    case 38:
      GetScriptFile_41(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_39;
    case 39:
      GetScriptFile_41(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_39;
    case 40:
    case 41:
      GetScriptFile_41(a3, Dst, SizeInWords, 39, 0);
      goto LABEL_39;
    case 42:
      GetScriptFile_41(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_39;
    case 43:
      GetScriptFile_41(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_39;
    case 44:
      GetScriptFile_41(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_39;
    case 45:
      GetScriptFile_41(a3, Dst, SizeInWords, 32, 0);
LABEL_39:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 399434: using guessed type wchar_t asc_399434[6];
// 399440: using guessed type wchar_t aBs05g0d04_0[10];
// 399454: using guessed type wchar_t aBs05g0e00_0[10];
// 399468: using guessed type wchar_t aBs05g0f02_0[10];
// 39947C: using guessed type wchar_t aBs05g0f05_0[10];
// 399490: using guessed type wchar_t aBs05g0g00_0[10];

//----- (00368AA0) --------------------------------------------------------
signed int __cdecl searchRoot_route_5g0(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 46; ++i )
  {
    if ( !wcscmp((&route_files_41)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 41);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 3994A4: using guessed type wchar_t asc_3994A4[6];
// 3994B0: using guessed type wchar_t asc_3994B0[6];

//----- (00368B10) --------------------------------------------------------
signed int __cdecl CheckScript_route_41(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 == 39 )
  {
    v3 = 20;
  }
  else
  {
    if ( v2 == 45 )
      v3 = 21;
    else
      v3 = CheckScript_by_flags_route_32(a1);
  }
  return v3;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 368B10: using guessed type _DWORD __cdecl CheckScript_route_41(_DWORD);
// 3994BC: using guessed type wchar_t asc_3994BC[6];

//----- (00368B70) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_41(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 46; ++i )
  {
    if ( !wcscmp((&route_files_41)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00368BC0) --------------------------------------------------------
int __cdecl SetFeeling_route_41(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 8;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 10;
        else
          v3 = 11;
      }
      else
      {
        v3 = 9;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 14;
        else
          v3 = 15;
      }
      else
      {
        v3 = 13;
      }
      break;
    case 12:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 22;
      else
        v3 = 21;
      break;
    case 15:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 25;
        else
          v3 = 26;
      }
      else
      {
        v3 = 24;
      }
      break;
    case 16:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 28;
      else
        v3 = 27;
      break;
    case 31:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 41;
      else
        v3 = 40;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_41)[2 * v3], a2);
  return result;
}
// 3994C8: using guessed type wchar_t asc_3994C8[6];

//----- (00368DA0) --------------------------------------------------------
unsigned int __cdecl sub_368DA0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 )
    v4 = -1;
  else
    v4 = 600;
  return sub_3367C0(a1, v4, (&route_files_42)[2 * a3], a2);
}

//----- (00368DF0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_42(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_368DA0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 42);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_42)[2 * a4]);
}
// 399AA0: using guessed type wchar_t asc_399AA0[6];
// 399AAC: using guessed type wchar_t asc_399AAC[6];

//----- (00368E60) --------------------------------------------------------
signed int __cdecl GetNextScript_42(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@53
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_368DA0(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      if ( (a3->vtable->IsFlagSet)(a3, L"947") )
        GetScriptFile_42(a3, Dst, SizeInWords, 8, 1);
      else
        GetScriptFile_42(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_61;
    case 1:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_42(a3, Dst, SizeInWords, 3, 1);
        else
          GetScriptFile_42(a3, Dst, SizeInWords, 4, 1);
      }
      else
      {
        GetScriptFile_42(a3, Dst, SizeInWords, 2, 1);
      }
      goto LABEL_61;
    case 2:
    case 3:
    case 4:
      (a3->vtable->SetVariable)(a3, L"BS05KAB05", v4);
      GetScriptFile_42(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_61;
    case 5:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_42(a3, Dst, SizeInWords, 7, 1);
      else
        GetScriptFile_42(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_61;
    case 6:
    case 7:
      (a3->vtable->field_1C)(a3, L"REP05_KA_A05", 1);
      (a3->vtable->SetVariable)(a3, L"BS05KAG00", v4);
      GetScriptFile_42(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_61;
    case 8:
    case 9:
      (a3->vtable->SetVariable)(a3, L"BS05KAB02", v4);
      GetScriptFile_42(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_61;
    case 10:
      GetScriptFile_42(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_61;
    case 11:
      GetScriptFile_42(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_61;
    case 12:
      GetScriptFile_42(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_61;
    case 13:
      if ( (a3->vtable->IsFlagSet)(a3, L"946") )
        GetScriptFile_42(a3, Dst, SizeInWords, 14, 1);
      else
        GetScriptFile_42(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_61;
    case 14:
    case 15:
      (a3->vtable->SetVariable)(a3, L"BS05KAB08", v4);
      GetScriptFile_42(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_61;
    case 16:
      if ( (a3->vtable->IsFlagSet)(a3, L"946") )
        GetScriptFile_42(a3, Dst, SizeInWords, 23, 1);
      else
        GetScriptFile_42(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_61;
    case 17:
      GetScriptFile_42(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_61;
    case 18:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_42(a3, Dst, SizeInWords, 20, 1);
        else
          GetScriptFile_42(a3, Dst, SizeInWords, 21, 1);
      }
      else
      {
        GetScriptFile_42(a3, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_61;
    case 19:
    case 20:
    case 21:
      (a3->vtable->SetVariable)(a3, L"BS05KAC04", v4);
      GetScriptFile_42(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_61;
    case 22:
      GetScriptFile_42(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_61;
    case 23:
      if ( (a3->vtable->IsFlagSet)(a3, L"945") )
        GetScriptFile_42(a3, Dst, SizeInWords, 24, 1);
      else
        GetScriptFile_42(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_61;
    case 24:
    case 26:
    case 27:
      (a3->vtable->SetVariable)(a3, L"BS05KAF00", v4);
      GetScriptFile_42(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_61;
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_42(a3, Dst, SizeInWords, 27, 1);
        else
          GetScriptFile_42(a3, Dst, SizeInWords, 28, 1);
      }
      else
      {
        GetScriptFile_42(a3, Dst, SizeInWords, 26, 1);
      }
      goto LABEL_61;
    case 28:
      (a3->vtable->SetVariable)(a3, L"BS05KAA05", v4);
      GetScriptFile_42(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_61;
    case 29:
      GetScriptFile_42(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_61;
    case 30:
      GetScriptFile_38(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 31:
      GetScriptFile_42(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_61;
    case 32:
      GetScriptFile_42(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_61;
    case 33:
      (a3->vtable->SetVariable)(a3, L"BS05KAA05", v4);
      GetScriptFile_42(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_61;
    case 34:
      GetScriptFile_42(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_61;
    case 35:
      GetScriptFile_39(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 36:
      GetScriptFile_42(a3, Dst, SizeInWords, 18, 1);
LABEL_61:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 399AB8: using guessed type wchar_t asc_399AB8[6];
// 399AC4: using guessed type wchar_t a947_1[4];
// 399ACC: using guessed type wchar_t aBs05kab05[10];
// 399AE0: using guessed type wchar_t aRep05_ka_a05[13];
// 399AFC: using guessed type wchar_t aBs05kag00[10];
// 399B10: using guessed type wchar_t aBs05kab02[10];
// 399B24: using guessed type wchar_t a946_1[4];
// 399B2C: using guessed type wchar_t aBs05kab08[10];
// 399B40: using guessed type wchar_t a946_2[4];
// 399B48: using guessed type wchar_t aBs05kac04[10];
// 399B5C: using guessed type wchar_t a945_1[4];
// 399B64: using guessed type wchar_t aBs05kaf00[10];
// 399B78: using guessed type wchar_t aBs05kaa05_0[10];
// 399B8C: using guessed type wchar_t aBs05kaa05_1[10];

//----- (00369540) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_42(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@5
  int v6; // ST18_4@8
  int v7; // ST18_4@11
  int v8; // ST18_4@13
  int v9; // ST18_4@17
  int v10; // ST18_4@25
  int v11; // ST18_4@26

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_42)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_22(a3, Dst, SizeInWords, 51, 0);
      return 1;
    case 1:
      GetScriptFile_42(a3, Dst, SizeInWords, 32, 0);
      goto LABEL_30;
    case 2:
    case 3:
    case 4:
      GetScriptFile_42(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_30;
    case 5:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05KAA05");
      GetScriptFile_42(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_30;
    case 6:
    case 7:
      GetScriptFile_42(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_30;
    case 8:
    case 9:
      GetScriptFile_42(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_30;
    case 10:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05KAB02");
      GetScriptFile_42(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_30;
    case 11:
      GetScriptFile_42(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_30;
    case 12:
      GetScriptFile_42(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_30;
    case 13:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05KAB05");
      GetScriptFile_42(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_30;
    case 14:
    case 15:
      GetScriptFile_42(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_30;
    case 16:
      v8 = (a3->vtable->GetVariable)(a3, L"BS05KAB08");
      GetScriptFile_42(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_30;
    case 17:
      GetScriptFile_42(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_30;
    case 18:
      GetScriptFile_42(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_30;
    case 19:
    case 20:
    case 21:
      GetScriptFile_42(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_30;
    case 22:
      v9 = (a3->vtable->GetVariable)(a3, L"BS05KAC04");
      GetScriptFile_42(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_30;
    case 23:
      GetScriptFile_42(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_30;
    case 24:
    case 25:
      GetScriptFile_42(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_30;
    case 26:
    case 27:
    case 28:
      GetScriptFile_42(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_30;
    case 29:
      GetScriptFile_42(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_30;
    case 30:
      GetScriptFile_42(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_30;
    case 31:
      GetScriptFile_42(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_30;
    case 32:
      GetScriptFile_42(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_30;
    case 33:
      v10 = (a3->vtable->GetVariable)(a3, L"BS05KAF00");
      GetScriptFile_42(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_30;
    case 34:
      v11 = (a3->vtable->GetVariable)(a3, L"BS05KAG00");
      GetScriptFile_42(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_30;
    case 35:
      GetScriptFile_42(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_30;
    case 36:
      GetScriptFile_42(a3, Dst, SizeInWords, 10, 0);
LABEL_30:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 399BA0: using guessed type wchar_t asc_399BA0[6];
// 399BAC: using guessed type wchar_t aBs05kaa05_2[10];
// 399BC0: using guessed type wchar_t aBs05kab02_0[10];
// 399BD4: using guessed type wchar_t aBs05kab05_0[10];
// 399BE8: using guessed type wchar_t aBs05kab08_0[10];
// 399BFC: using guessed type wchar_t aBs05kac04_0[10];
// 399C10: using guessed type wchar_t aBs05kaf00_0[10];
// 399C24: using guessed type wchar_t aBs05kag00_0[10];

//----- (00369A00) --------------------------------------------------------
signed int __cdecl searchRoot_route_5ka(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 37; ++i )
  {
    if ( !wcscmp((&route_files_42)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 42);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 399C38: using guessed type wchar_t asc_399C38[6];
// 399C44: using guessed type wchar_t asc_399C44[6];

//----- (00369A70) --------------------------------------------------------
signed int __cdecl CheckScript_route_42(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") )
    v2 = CheckScript_by_flags_route_32(a1);
  else
    v2 = 11;
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 369A70: using guessed type _DWORD __cdecl CheckScript_route_42(_DWORD);
// 399C50: using guessed type wchar_t asc_399C50[6];

//----- (00369AC0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_42(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 36; ++i )
  {
    if ( !wcscmp((&route_files_42)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00369B10) --------------------------------------------------------
int __cdecl SetFeeling_route_42(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 1;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 3;
        else
          v3 = 4;
      }
      else
      {
        v3 = 2;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 7;
      else
        v3 = 6;
      break;
    case 17:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 20;
        else
          v3 = 21;
      }
      else
      {
        v3 = 19;
      }
      break;
    case 24:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 27;
        else
          v3 = 28;
      }
      else
      {
        v3 = 26;
      }
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_42)[2 * v3], a2);
  return result;
}
// 399C5C: using guessed type wchar_t asc_399C5C[6];

//----- (00369CA0) --------------------------------------------------------
unsigned int __cdecl sub_369CA0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 )
  {
    if ( a3 == 47 )
      v4 = 627;
    else
      v4 = -1;
  }
  else
  {
    v4 = 620;
  }
  return sub_3367C0(a1, v4, (&route_files_43)[2 * a3], a2);
}

//----- (00369D00) --------------------------------------------------------
errno_t __cdecl GetScriptFile_43(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_369CA0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 43);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_43)[2 * a4]);
}
// 39A414: using guessed type wchar_t asc_39A414[6];
// 39A420: using guessed type wchar_t asc_39A420[6];

//----- (00369D70) --------------------------------------------------------
signed int __cdecl GetNextScript_43(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@52
  int v4; // eax@56
  signed int result; // eax@56
  int v6; // eax@64
  int v7; // [sp+8h] [bp-4h]@1

  v7 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_369CA0(a3, 1, v7);
  switch ( v7 )
  {
    case 0:
      GetScriptFile_43(a3, Dst, SizeInWords, 48, 1);
      goto LABEL_71;
    case 1:
      GetScriptFile_43(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_71;
    case 2:
      GetScriptFile_43(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_71;
    case 3:
      GetScriptFile_43(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_71;
    case 4:
      GetScriptFile_43(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_71;
    case 5:
      GetScriptFile_43(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_71;
    case 6:
      GetScriptFile_43(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_71;
    case 7:
      GetScriptFile_43(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_71;
    case 8:
      GetScriptFile_43(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_71;
    case 9:
      GetScriptFile_43(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_71;
    case 10:
      GetScriptFile_43(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_71;
    case 11:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_43(a3, Dst, SizeInWords, 13, 1);
        else
          GetScriptFile_43(a3, Dst, SizeInWords, 14, 1);
      }
      else
      {
        GetScriptFile_43(a3, Dst, SizeInWords, 12, 1);
      }
      goto LABEL_71;
    case 12:
      GetScriptFile_43(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_71;
    case 13:
    case 14:
      (a3->vtable->SetVariable)(a3, L"BS05KBD04", v7);
      GetScriptFile_43(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_71;
    case 15:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_43(a3, Dst, SizeInWords, 17, 1);
        else
          GetScriptFile_43(a3, Dst, SizeInWords, 18, 1);
      }
      else
      {
        GetScriptFile_43(a3, Dst, SizeInWords, 16, 1);
      }
      goto LABEL_71;
    case 16:
    case 17:
    case 18:
      (a3->vtable->SetVariable)(a3, L"BS05KBE00", v7);
      GetScriptFile_43(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_71;
    case 19:
      GetScriptFile_43(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_71;
    case 20:
    case 21:
      (a3->vtable->SetVariable)(a3, L"BS05KBF02", v7);
      GetScriptFile_43(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_71;
    case 22:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_43(a3, Dst, SizeInWords, 24, 1);
      else
        GetScriptFile_43(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_71;
    case 23:
    case 24:
      (a3->vtable->SetVariable)(a3, L"BS05KBF05", v7);
      GetScriptFile_43(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_71;
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_43(a3, Dst, SizeInWords, 27, 1);
        else
          GetScriptFile_43(a3, Dst, SizeInWords, 28, 1);
      }
      else
      {
        GetScriptFile_43(a3, Dst, SizeInWords, 26, 1);
      }
      goto LABEL_71;
    case 26:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_43(a3, Dst, SizeInWords, 30, 1);
      else
        GetScriptFile_43(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_71;
    case 27:
    case 28:
    case 29:
    case 30:
      (a3->vtable->SetVariable)(a3, L"BS05KBG00", v7);
      GetScriptFile_43(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_71;
    case 31:
      GetScriptFile_43(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_71;
    case 32:
      GetScriptFile_43(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_71;
    case 33:
      GetScriptFile_43(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_71;
    case 34:
      GetScriptFile_43(a3, Dst, SizeInWords, 47, 1);
      goto LABEL_71;
    case 35:
      GetScriptFile_43(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_71;
    case 36:
      GetScriptFile_43(a3, Dst, SizeInWords, 46, 1);
      goto LABEL_71;
    case 37:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_43(a3, Dst, SizeInWords, 39, 1);
      else
        GetScriptFile_43(a3, Dst, SizeInWords, 38, 1);
      goto LABEL_71;
    case 38:
      (a3->vtable->SetVariable)(a3, L"BS05B0A00", v7);
      v4 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05B0", v4);
      GetScriptFile_40(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 39:
      GetScriptFile_43(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_71;
    case 40:
      GetScriptFile_43(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_71;
    case 41:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_43(a3, Dst, SizeInWords, 43, 1);
      else
        GetScriptFile_43(a3, Dst, SizeInWords, 42, 1);
      goto LABEL_71;
    case 42:
      GetScriptFile_43(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_71;
    case 43:
      (a3->vtable->SetVariable)(a3, L"BS05B0A00", v7);
      v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05B0", v6);
      GetScriptFile_40(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 44:
      GetScriptFile_43(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_71;
    case 45:
      GetScriptFile_43(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_71;
    case 46:
      GetScriptFile_43(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_71;
    case 47:
      sub_336590(a3, 9);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    case 48:
      GetScriptFile_43(a3, Dst, SizeInWords, 4, 1);
LABEL_71:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 39A42C: using guessed type wchar_t asc_39A42C[6];
// 39A438: using guessed type wchar_t aBs05kbd04[10];
// 39A44C: using guessed type wchar_t aBs05kbe00[10];
// 39A460: using guessed type wchar_t aBs05kbf02[10];
// 39A474: using guessed type wchar_t aBs05kbf05[10];
// 39A488: using guessed type wchar_t aBs05kbg00[10];
// 39A49C: using guessed type wchar_t a001_19[4];
// 39A4A4: using guessed type wchar_t a002_19[4];
// 39A4AC: using guessed type wchar_t aBs05b0a00_2[10];
// 39A4C0: using guessed type wchar_t asc_39A4C0[6];
// 39A4CC: using guessed type wchar_t aBs05b0_3[7];
// 39A4DC: using guessed type wchar_t aBs05b0a00_3[10];
// 39A4F0: using guessed type wchar_t asc_39A4F0[6];
// 39A4FC: using guessed type wchar_t aBs05b0_4[7];

//----- (0036A620) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_43(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@15
  int v6; // ST18_4@17
  int v7; // ST18_4@20
  int v8; // ST18_4@22
  int v9; // ST18_4@25

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_43)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_24(a3, Dst, SizeInWords, 48, 0);
      return 1;
    case 1:
      GetScriptFile_43(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_42;
    case 2:
      GetScriptFile_43(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_42;
    case 3:
      GetScriptFile_43(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_42;
    case 4:
      GetScriptFile_43(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_42;
    case 5:
      GetScriptFile_43(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_42;
    case 6:
      GetScriptFile_43(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_42;
    case 7:
      GetScriptFile_43(a3, Dst, SizeInWords, 46, 0);
      goto LABEL_42;
    case 8:
      GetScriptFile_43(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_42;
    case 9:
      GetScriptFile_43(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_42;
    case 10:
      GetScriptFile_43(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_42;
    case 11:
      GetScriptFile_43(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_42;
    case 12:
    case 13:
    case 14:
      GetScriptFile_43(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_42;
    case 15:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05KBD04");
      GetScriptFile_43(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_42;
    case 16:
    case 17:
    case 18:
      GetScriptFile_43(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_42;
    case 19:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05KBE00");
      GetScriptFile_43(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_42;
    case 20:
      GetScriptFile_43(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_42;
    case 21:
      GetScriptFile_43(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_42;
    case 22:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05KBF02");
      GetScriptFile_43(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_42;
    case 23:
    case 24:
      GetScriptFile_43(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_42;
    case 25:
      v8 = (a3->vtable->GetVariable)(a3, L"BS05KBF05");
      GetScriptFile_43(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_42;
    case 26:
    case 27:
    case 28:
      GetScriptFile_43(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_42;
    case 29:
    case 30:
      GetScriptFile_43(a3, Dst, SizeInWords, 26, 0);
      goto LABEL_42;
    case 31:
      v9 = (a3->vtable->GetVariable)(a3, L"BS05KBG00");
      GetScriptFile_43(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_42;
    case 32:
      GetScriptFile_43(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_42;
    case 33:
      GetScriptFile_43(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_42;
    case 34:
      GetScriptFile_43(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_42;
    case 35:
      GetScriptFile_43(a3, Dst, SizeInWords, 32, 0);
      goto LABEL_42;
    case 36:
      GetScriptFile_43(a3, Dst, SizeInWords, 45, 0);
      goto LABEL_42;
    case 37:
      GetScriptFile_43(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_42;
    case 38:
    case 39:
      GetScriptFile_43(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_42;
    case 40:
      GetScriptFile_43(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_42;
    case 41:
      GetScriptFile_43(a3, Dst, SizeInWords, 39, 0);
      goto LABEL_42;
    case 42:
    case 43:
      GetScriptFile_43(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_42;
    case 44:
      GetScriptFile_43(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_42;
    case 45:
      GetScriptFile_43(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_42;
    case 46:
      GetScriptFile_43(a3, Dst, SizeInWords, 36, 0);
      goto LABEL_42;
    case 47:
      GetScriptFile_43(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_42;
    case 48:
      GetScriptFile_43(a3, Dst, SizeInWords, 0, 0);
LABEL_42:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39A50C: using guessed type wchar_t asc_39A50C[6];
// 39A518: using guessed type wchar_t aBs05kbd04_0[10];
// 39A52C: using guessed type wchar_t aBs05kbe00_0[10];
// 39A540: using guessed type wchar_t aBs05kbf02_0[10];
// 39A554: using guessed type wchar_t aBs05kbf05_0[10];
// 39A568: using guessed type wchar_t aBs05kbg00_0[10];

//----- (0036AC40) --------------------------------------------------------
signed int __cdecl searchRoot_route_5kb(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 49; ++i )
  {
    if ( !wcscmp((&route_files_43)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 43);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39A57C: using guessed type wchar_t asc_39A57C[6];
// 39A588: using guessed type wchar_t asc_39A588[6];

//----- (0036ACB0) --------------------------------------------------------
signed int __cdecl CheckScript_route_43(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 )
  {
    if ( v2 == 47 )
      v3 = 38;
    else
      v3 = CheckScript_by_flags_route_32(a1);
  }
  else
  {
    v3 = 31;
  }
  return v3;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 36ACB0: using guessed type _DWORD __cdecl CheckScript_route_43(_DWORD);
// 39A594: using guessed type wchar_t asc_39A594[6];

//----- (0036AD10) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_43(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 48; ++i )
  {
    if ( !wcscmp((&route_files_43)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0036AD60) --------------------------------------------------------
int __cdecl SetFeeling_route_43(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 11;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 13;
        else
          v3 = 14;
      }
      else
      {
        v3 = 12;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 17;
        else
          v3 = 18;
      }
      else
      {
        v3 = 16;
      }
      break;
    case 11:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 24;
      else
        v3 = 23;
      break;
    case 14:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 27;
        else
          v3 = 28;
      }
      else
      {
        v3 = 26;
      }
      break;
    case 15:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 30;
      else
        v3 = 29;
      break;
    case 30:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 43;
      else
        v3 = 42;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_43)[2 * v3], a2);
  return result;
}
// 39A5A0: using guessed type wchar_t asc_39A5A0[6];

//----- (0036AF40) --------------------------------------------------------
unsigned int __cdecl sub_36AF40(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 623;
      break;
    case 7:
      v4 = 626;
      break;
    case 12:
      v4 = 629;
      break;
    case 13:
      v4 = 628;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_44)[2 * a3], a2);
}

//----- (0036AFE0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_44(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_36AF40(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 44);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_44)[2 * a4]);
}
// 39A808: using guessed type wchar_t asc_39A808[6];
// 39A814: using guessed type wchar_t asc_39A814[6];

//----- (0036B050) --------------------------------------------------------
signed int __cdecl GetNextScript_44(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@21
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_36AF40(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      GetScriptFile_44(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_24;
    case 1:
      (a3->vtable->field_1C)(a3, L"REP05_KC_A00", 1);
      GetScriptFile_44(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_24;
    case 2:
      (a3->vtable->field_1C)(a3, L"REP05_KC_A02", 1);
      GetScriptFile_44(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_24;
    case 3:
      GetScriptFile_44(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_24;
    case 4:
      GetScriptFile_44(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_24;
    case 5:
      GetScriptFile_44(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_24;
    case 6:
      (a3->vtable->SetVariable)(a3, L"BS05KCF00", v4);
      GetScriptFile_44(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_24;
    case 7:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_44(a3, Dst, SizeInWords, 10, 1);
        else
          GetScriptFile_44(a3, Dst, SizeInWords, 8, 1);
      }
      else
      {
        GetScriptFile_44(a3, Dst, SizeInWords, 9, 1);
      }
      goto LABEL_24;
    case 8:
    case 10:
      (a3->vtable->SetVariable)(a3, L"BS05KCH00", v4);
      (a3->vtable->field_1C)(a3, L"REP05_KC_D00", 1);
      GetScriptFile_44(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_24;
    case 9:
      (a3->vtable->field_1C)(a3, L"REP05_KC_D00", 1);
      GetScriptFile_44(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_24;
    case 11:
      (a3->vtable->field_1C)(a3, L"REP05_KC_E00", 1);
      GetScriptFile_44(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_24;
    case 12:
    case 13:
      if ( v4 == 12 )
        sub_336590(a3, 10);
      else
        sub_336590(a3, 11);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    case 14:
      GetScriptFile_44(a3, Dst, SizeInWords, 1, 1);
LABEL_24:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 39A820: using guessed type wchar_t asc_39A820[6];
// 39A82C: using guessed type wchar_t aRep05_kc_a00[13];
// 39A848: using guessed type wchar_t aRep05_kc_a02[13];
// 39A864: using guessed type wchar_t aBs05kcf00[10];
// 39A878: using guessed type wchar_t aBs05kch00[10];
// 39A88C: using guessed type wchar_t aRep05_kc_d00[13];
// 39A8A8: using guessed type wchar_t aRep05_kc_d00_0[13];
// 39A8C4: using guessed type wchar_t aRep05_kc_e00[13];

//----- (0036B390) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_44(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST20_4@1
  signed int result; // eax@2
  int v5; // ST1C_4@15
  int v6; // [sp+8h] [bp-8h]@12

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_44)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_19(a3, Dst, SizeInWords, 11, 0);
      return 1;
    case 1:
      GetScriptFile_44(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_18;
    case 2:
      GetScriptFile_44(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_18;
    case 3:
      GetScriptFile_44(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_18;
    case 4:
      GetScriptFile_44(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_18;
    case 5:
      GetScriptFile_44(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_18;
    case 6:
      GetScriptFile_44(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_18;
    case 7:
      GetScriptFile_44(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_18;
    case 8:
    case 9:
    case 10:
      GetScriptFile_44(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_18;
    case 11:
      GetScriptFile_44(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_18;
    case 12:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05KCF00");
      if ( (a3->vtable->GetVariable)(a3, L"BS05KC") == 52 )
      {
        GetScriptFile_52(a3, Dst, SizeInWords, v6, 0);
        result = 1;
      }
      else
      {
        GetScriptFile_44(a3, Dst, SizeInWords, v6, 0);
LABEL_18:
        result = 1;
      }
      break;
    case 13:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05KCH00");
      GetScriptFile_44(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_18;
    case 14:
      GetScriptFile_44(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_18;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39A8E0: using guessed type wchar_t asc_39A8E0[6];
// 39A8EC: using guessed type wchar_t aBs05kcf00_0[10];
// 39A900: using guessed type wchar_t aBs05kc_0[7];
// 39A910: using guessed type wchar_t aBs05kch00_0[10];

//----- (0036B630) --------------------------------------------------------
signed int __cdecl searchRoot_route_5kc(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 15; ++i )
  {
    if ( !wcscmp((&route_files_44)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 44);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39A924: using guessed type wchar_t asc_39A924[6];
// 39A930: using guessed type wchar_t asc_39A930[6];

//----- (0036B6A0) --------------------------------------------------------
signed int __cdecl CheckScript_route_44(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 34;
      break;
    case 7:
      v2 = 37;
      break;
    case 12:
      v2 = 40;
      break;
    case 13:
      v2 = 39;
      break;
    default:
      v2 = CheckScript_by_flags_route_32(a1);
      break;
  }
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 36B6A0: using guessed type _DWORD __cdecl CheckScript_route_44(_DWORD);
// 39A93C: using guessed type wchar_t asc_39A93C[6];

//----- (0036B740) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_44(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 14; ++i )
  {
    if ( !wcscmp((&route_files_44)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0036B790) --------------------------------------------------------
int __cdecl SetFeeling_route_44(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( result == 7 )
  {
    result = (a1->vtable->GetCurrentScene)(a1);
    if ( result )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result == 1 )
        v3 = 10;
      else
        v3 = 8;
    }
    else
    {
      v3 = 9;
    }
  }
  else
  {
    v3 = -1;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_44)[2 * v3], a2);
  return result;
}
// 39A948: using guessed type wchar_t asc_39A948[6];

//----- (0036B830) --------------------------------------------------------
unsigned int __cdecl sub_36B830(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 )
  {
    if ( a3 == 24 )
      v4 = 638;
    else
      v4 = -1;
  }
  else
  {
    v4 = 635;
  }
  return sub_3367C0(a1, v4, (&route_files_45)[2 * a3], a2);
}

//----- (0036B890) --------------------------------------------------------
errno_t __cdecl GetScriptFile_45(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_36B830(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 45);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_45)[2 * a4]);
}
// 39B100: using guessed type wchar_t asc_39B100[6];
// 39B10C: using guessed type wchar_t asc_39B10C[6];

//----- (0036B900) --------------------------------------------------------
signed int __cdecl GetNextScript_45(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@60
  signed int result; // eax@60
  int v5; // esi@73
  int v6; // eax@74
  int v7; // eax@79
  int v8; // [sp+8h] [bp-4h]@1

  v8 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_36B830(a3, 1, v8);
  switch ( v8 )
  {
    case 0:
      GetScriptFile_45(a3, Dst, SizeInWords, 48, 1);
      goto LABEL_82;
    case 1:
      GetScriptFile_45(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_82;
    case 2:
      if ( (a3->vtable->IsFlagSet)(a3, L"931") )
        GetScriptFile_45(a3, Dst, SizeInWords, 3, 1);
      else
        GetScriptFile_45(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_82;
    case 3:
    case 4:
      (a3->vtable->SetVariable)(a3, L"BS05KFB04", v8);
      GetScriptFile_45(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_82;
    case 5:
      GetScriptFile_45(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_82;
    case 6:
      GetScriptFile_45(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_82;
    case 7:
      GetScriptFile_45(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_82;
    case 8:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_45(a3, Dst, SizeInWords, 10, 1);
        else
          GetScriptFile_45(a3, Dst, SizeInWords, 11, 1);
      }
      else
      {
        GetScriptFile_45(a3, Dst, SizeInWords, 9, 1);
      }
      goto LABEL_82;
    case 9:
    case 10:
    case 11:
      (a3->vtable->SetVariable)(a3, L"BS05KFC04", v8);
      GetScriptFile_45(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_82;
    case 12:
      GetScriptFile_45(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_82;
    case 13:
      GetScriptFile_45(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_82;
    case 14:
      GetScriptFile_45(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_82;
    case 15:
      GetScriptFile_45(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_82;
    case 16:
      GetScriptFile_45(a3, Dst, SizeInWords, 46, 1);
      goto LABEL_82;
    case 17:
      GetScriptFile_45(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_82;
    case 18:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_45(a3, Dst, SizeInWords, 20, 1);
        else
          GetScriptFile_45(a3, Dst, SizeInWords, 21, 1);
      }
      else
      {
        GetScriptFile_45(a3, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_82;
    case 19:
    case 20:
    case 21:
      (a3->vtable->SetVariable)(a3, L"BS05KFD04", v8);
      GetScriptFile_45(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_82;
    case 22:
      GetScriptFile_45(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_82;
    case 23:
      GetScriptFile_45(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_82;
    case 24:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_45(a3, Dst, SizeInWords, 26, 1);
        else
          GetScriptFile_45(a3, Dst, SizeInWords, 27, 1);
      }
      else
      {
        GetScriptFile_45(a3, Dst, SizeInWords, 25, 1);
      }
      goto LABEL_82;
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_45(a3, Dst, SizeInWords, 29, 1);
        else
          GetScriptFile_45(a3, Dst, SizeInWords, 30, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS05KFG04", v8);
        GetScriptFile_45(a3, Dst, SizeInWords, 28, 1);
      }
      goto LABEL_82;
    case 26:
    case 27:
    case 28:
    case 32:
    case 33:
      if ( v8 == 32 || v8 == 33 )
        (a3->vtable->SetFlagValue)(a3, L"931", 1);
      (a3->vtable->SetVariable)(a3, L"BS05KFB01", v8);
      GetScriptFile_45(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_82;
    case 29:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_45(a3, Dst, SizeInWords, 32, 1);
        else
          GetScriptFile_45(a3, Dst, SizeInWords, 33, 1);
      }
      else
      {
        GetScriptFile_45(a3, Dst, SizeInWords, 31, 1);
      }
      goto LABEL_82;
    case 30:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        GetScriptFile_45(a3, Dst, SizeInWords, 34, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS05KFG04", v8);
        GetScriptFile_45(a3, Dst, SizeInWords, 28, 1);
      }
      goto LABEL_82;
    case 31:
    case 34:
      (a3->vtable->SetVariable)(a3, L"BS05B0D00", v8);
      v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05B0", v3);
      GetScriptFile_40(a3, Dst, SizeInWords, 4, 1);
      return 1;
    case 35:
      if ( (a3->vtable->IsFlagSet)(a3, L"931") )
        GetScriptFile_45(a3, Dst, SizeInWords, 36, 1);
      else
        GetScriptFile_45(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_82;
    case 36:
    case 37:
      (a3->vtable->SetVariable)(a3, L"BS05KFH03", v8);
      GetScriptFile_45(a3, Dst, SizeInWords, 38, 1);
      goto LABEL_82;
    case 38:
      if ( (a3->vtable->IsFlagSet)(a3, L"931") )
        GetScriptFile_45(a3, Dst, SizeInWords, 39, 1);
      else
        GetScriptFile_45(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_82;
    case 39:
    case 40:
      (a3->vtable->SetVariable)(a3, L"BS05KFH06", v8);
      GetScriptFile_45(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_82;
    case 41:
      GetScriptFile_45(a3, Dst, SizeInWords, 42, 1);
      goto LABEL_82;
    case 42:
      GetScriptFile_45(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_82;
    case 43:
      v5 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v5 <= (a3->vtable->GetVariable)(a3, L"002") )
      {
        GetScriptFile_45(a3, Dst, SizeInWords, 44, 1);
LABEL_82:
        result = 1;
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS05SBE01", v8);
        v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
        (a3->vtable->SetVariable)(a3, L"BS05SB", v6);
        GetScriptFile_49(a3, Dst, SizeInWords, 13, 1);
        result = 1;
      }
      break;
    case 44:
      GetScriptFile_45(a3, Dst, SizeInWords, 47, 1);
      goto LABEL_82;
    case 45:
      GetScriptFile_45(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_82;
    case 46:
      GetScriptFile_45(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_82;
    case 47:
      (a3->vtable->SetVariable)(a3, L"BS05SBE02", v8);
      v7 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SB", v7);
      GetScriptFile_49(a3, Dst, SizeInWords, 14, 1);
      return 1;
    case 48:
      GetScriptFile_45(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_82;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39B118: using guessed type wchar_t asc_39B118[6];
// 39B124: using guessed type wchar_t a931[4];
// 39B12C: using guessed type wchar_t aBs05kfb04[10];
// 39B140: using guessed type wchar_t aBs05kfc04[10];
// 39B154: using guessed type wchar_t aBs05kfd04[10];
// 39B168: using guessed type wchar_t aBs05kfg04[10];
// 39B17C: using guessed type wchar_t a931_0[4];
// 39B184: using guessed type wchar_t aBs05kfb01[10];
// 39B198: using guessed type wchar_t aBs05kfg04_0[10];
// 39B1AC: using guessed type wchar_t aBs05b0d00_1[10];
// 39B1C0: using guessed type wchar_t asc_39B1C0[6];
// 39B1CC: using guessed type wchar_t aBs05b0_5[7];
// 39B1DC: using guessed type wchar_t a931_1[4];
// 39B1E4: using guessed type wchar_t aBs05kfh03[10];
// 39B1F8: using guessed type wchar_t a931_2[4];
// 39B200: using guessed type wchar_t aBs05kfh06[10];
// 39B214: using guessed type wchar_t a001_20[4];
// 39B21C: using guessed type wchar_t a002_20[4];
// 39B224: using guessed type wchar_t aBs05sbe01[10];
// 39B238: using guessed type wchar_t asc_39B238[6];
// 39B244: using guessed type wchar_t aBs05sb_2[7];
// 39B254: using guessed type wchar_t aBs05sbe02[10];
// 39B268: using guessed type wchar_t asc_39B268[6];
// 39B274: using guessed type wchar_t aBs05sb_3[7];

//----- (0036C2B0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_45(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@9
  int v6; // ST18_4@14
  int v7; // ST18_4@22
  int v8; // ST18_4@26
  int v9; // ST18_4@32
  int v10; // ST18_4@34
  int v11; // [sp+4h] [bp-8h]@4

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_45)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_25(a3, Dst, SizeInWords, 24, 0);
      return 1;
    case 1:
      GetScriptFile_45(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_43;
    case 2:
      v11 = (a3->vtable->GetVariable)(a3, L"BS05KFB01");
      if ( v11 == 32 || v11 == 33 )
        (a3->vtable->SetFlagValue)(a3, L"931", 0);
      GetScriptFile_45(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_43;
    case 3:
    case 4:
      GetScriptFile_45(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_43;
    case 5:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05KFB04");
      GetScriptFile_45(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_43;
    case 6:
      GetScriptFile_45(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_43;
    case 7:
      GetScriptFile_45(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_43;
    case 8:
      GetScriptFile_45(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_43;
    case 9:
    case 10:
    case 11:
      GetScriptFile_45(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_43;
    case 12:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05KFC04");
      GetScriptFile_45(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_43;
    case 13:
      GetScriptFile_45(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_43;
    case 14:
      GetScriptFile_45(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_43;
    case 15:
      GetScriptFile_45(a3, Dst, SizeInWords, 45, 0);
      goto LABEL_43;
    case 16:
      GetScriptFile_45(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_43;
    case 17:
      GetScriptFile_45(a3, Dst, SizeInWords, 46, 0);
      goto LABEL_43;
    case 18:
      GetScriptFile_45(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_43;
    case 19:
    case 20:
    case 21:
      GetScriptFile_45(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_43;
    case 22:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05KFD04");
      GetScriptFile_45(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_43;
    case 23:
      GetScriptFile_45(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_43;
    case 24:
      GetScriptFile_45(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_43;
    case 25:
    case 26:
    case 27:
      GetScriptFile_45(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_43;
    case 28:
      v8 = (a3->vtable->GetVariable)(a3, L"BS05KFG04");
      GetScriptFile_45(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_43;
    case 29:
    case 30:
      GetScriptFile_45(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_43;
    case 31:
    case 32:
    case 33:
      GetScriptFile_45(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_43;
    case 34:
      GetScriptFile_45(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_43;
    case 35:
      GetScriptFile_45(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_43;
    case 36:
    case 37:
      GetScriptFile_45(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_43;
    case 38:
      v9 = (a3->vtable->GetVariable)(a3, L"BS05KFH03");
      GetScriptFile_45(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_43;
    case 39:
    case 40:
      GetScriptFile_45(a3, Dst, SizeInWords, 38, 0);
      goto LABEL_43;
    case 41:
      v10 = (a3->vtable->GetVariable)(a3, L"BS05KFH06");
      GetScriptFile_45(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_43;
    case 42:
      GetScriptFile_45(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_43;
    case 43:
      GetScriptFile_45(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_43;
    case 44:
      GetScriptFile_45(a3, Dst, SizeInWords, 43, 0);
      goto LABEL_43;
    case 45:
      GetScriptFile_45(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_43;
    case 46:
      GetScriptFile_45(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_43;
    case 47:
      GetScriptFile_45(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_43;
    case 48:
      GetScriptFile_45(a3, Dst, SizeInWords, 0, 0);
LABEL_43:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39B284: using guessed type wchar_t asc_39B284[6];
// 39B290: using guessed type wchar_t aBs05kfb01_0[10];
// 39B2A4: using guessed type wchar_t a931_3[4];
// 39B2AC: using guessed type wchar_t aBs05kfb04_0[10];
// 39B2C0: using guessed type wchar_t aBs05kfc04_0[10];
// 39B2D4: using guessed type wchar_t aBs05kfd04_0[10];
// 39B2E8: using guessed type wchar_t aBs05kfg04_1[10];
// 39B2FC: using guessed type wchar_t aBs05kfh03_0[10];
// 39B310: using guessed type wchar_t aBs05kfh06_0[10];

//----- (0036C8E0) --------------------------------------------------------
signed int __cdecl searchRoot_route_5kf(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 49; ++i )
  {
    if ( !wcscmp((&route_files_45)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 45);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39B324: using guessed type wchar_t asc_39B324[6];
// 39B330: using guessed type wchar_t asc_39B330[6];

//----- (0036C950) --------------------------------------------------------
signed int __cdecl CheckScript_route_45(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 )
  {
    if ( v2 == 24 )
      v3 = 49;
    else
      v3 = CheckScript_by_flags_route_32(a1);
  }
  else
  {
    v3 = 46;
  }
  return v3;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 36C950: using guessed type _DWORD __cdecl CheckScript_route_45(_DWORD);
// 39B33C: using guessed type wchar_t asc_39B33C[6];

//----- (0036C9B0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_45(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 48; ++i )
  {
    if ( !wcscmp((&route_files_45)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0036CA00) --------------------------------------------------------
int __cdecl SetFeeling_route_45(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 8;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 10;
        else
          v3 = 11;
      }
      else
      {
        v3 = 9;
      }
      break;
    case 10:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 20;
        else
          v3 = 21;
      }
      else
      {
        v3 = 19;
      }
      break;
    case 16:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 26;
        else
          v3 = 27;
      }
      else
      {
        v3 = 25;
      }
      break;
    case 17:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 29;
        else
          v3 = 30;
      }
      else
      {
        v3 = 28;
      }
      break;
    case 21:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 32;
        else
          v3 = 33;
      }
      else
      {
        v3 = 31;
      }
      break;
    case 22:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 34;
      else
        v3 = 28;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_45)[2 * v3], a2);
  return result;
}
// 39B348: using guessed type wchar_t asc_39B348[6];

//----- (0036CC10) --------------------------------------------------------
unsigned int __cdecl sub_36CC10(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 )
    v4 = -1;
  else
    v4 = 601;
  return sub_3367C0(a1, v4, (&route_files_46)[2 * a3], a2);
}

//----- (0036CC60) --------------------------------------------------------
errno_t __cdecl GetScriptFile_46(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_36CC10(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 46);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_46)[2 * a4]);
}
// 39B6C8: using guessed type wchar_t asc_39B6C8[6];
// 39B6D4: using guessed type wchar_t asc_39B6D4[6];

//----- (0036CCD0) --------------------------------------------------------
signed int __cdecl GetNextScript_46(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@30
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_36CC10(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      GetScriptFile_46(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_33;
    case 1:
      GetScriptFile_46(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_33;
    case 2:
      GetScriptFile_46(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_33;
    case 3:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_46(a3, Dst, SizeInWords, 5, 1);
        else
          GetScriptFile_46(a3, Dst, SizeInWords, 6, 1);
      }
      else
      {
        GetScriptFile_46(a3, Dst, SizeInWords, 4, 1);
      }
      goto LABEL_33;
    case 4:
    case 5:
    case 6:
      (a3->vtable->SetVariable)(a3, L"BS05KGC05", v4);
      GetScriptFile_46(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_33;
    case 7:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_46(a3, Dst, SizeInWords, 9, 1);
        else
          GetScriptFile_46(a3, Dst, SizeInWords, 10, 1);
      }
      else
      {
        GetScriptFile_46(a3, Dst, SizeInWords, 8, 1);
      }
      goto LABEL_33;
    case 8:
    case 10:
      (a3->vtable->SetVariable)(a3, L"BS05KGC09", v4);
      GetScriptFile_46(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_33;
    case 9:
    case 11:
      (a3->vtable->SetVariable)(a3, L"BS05KGC10", v4);
      GetScriptFile_46(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_33;
    case 12:
      GetScriptFile_46(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_33;
    case 13:
      if ( (a3->vtable->IsFlagSet)(a3, L"944") )
        GetScriptFile_46(a3, Dst, SizeInWords, 14, 1);
      else
        GetScriptFile_46(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_33;
    case 14:
    case 15:
      (a3->vtable->SetVariable)(a3, L"BS05KGD03", v4);
      GetScriptFile_46(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_33;
    case 16:
      GetScriptFile_46(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_33;
    case 17:
      GetScriptFile_46(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_33;
    case 18:
      GetScriptFile_46(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_33;
    case 19:
      GetScriptFile_46(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_33;
    case 20:
      GetScriptFile_41(a3, Dst, SizeInWords, 0, 1);
      result = 1;
      break;
    case 21:
      GetScriptFile_46(a3, Dst, SizeInWords, 1, 1);
LABEL_33:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39B6E0: using guessed type wchar_t asc_39B6E0[6];
// 39B6EC: using guessed type wchar_t aBs05kgc05[10];
// 39B700: using guessed type wchar_t aBs05kgc09[10];
// 39B714: using guessed type wchar_t aBs05kgc10[10];
// 39B728: using guessed type wchar_t a944_3[4];
// 39B730: using guessed type wchar_t aBs05kgd03[10];

//----- (0036D0B0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_46(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@7
  int v6; // ST18_4@9
  int v7; // ST18_4@10
  int v8; // ST18_4@13

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_46)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_27(a3, Dst, SizeInWords, 43, 0);
      return 1;
    case 1:
      GetScriptFile_46(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_20;
    case 2:
      GetScriptFile_46(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_20;
    case 3:
      GetScriptFile_46(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_20;
    case 4:
    case 5:
    case 6:
      GetScriptFile_46(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_20;
    case 7:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05KGC05");
      GetScriptFile_46(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_20;
    case 8:
    case 9:
    case 10:
      GetScriptFile_46(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_20;
    case 11:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05KGC09");
      GetScriptFile_46(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_20;
    case 12:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05KGC10");
      GetScriptFile_46(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_20;
    case 13:
      GetScriptFile_46(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_20;
    case 14:
    case 15:
      GetScriptFile_46(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_20;
    case 16:
      v8 = (a3->vtable->GetVariable)(a3, L"BS05KGD03");
      GetScriptFile_46(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_20;
    case 17:
      GetScriptFile_46(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_20;
    case 18:
      GetScriptFile_46(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_20;
    case 19:
      GetScriptFile_46(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_20;
    case 20:
      GetScriptFile_46(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_20;
    case 21:
      GetScriptFile_46(a3, Dst, SizeInWords, 0, 0);
LABEL_20:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39B744: using guessed type wchar_t asc_39B744[6];
// 39B750: using guessed type wchar_t aBs05kgc05_0[10];
// 39B764: using guessed type wchar_t aBs05kgc09_0[10];
// 39B778: using guessed type wchar_t aBs05kgc10_0[10];
// 39B78C: using guessed type wchar_t aBs05kgd03_0[10];

//----- (0036D3D0) --------------------------------------------------------
signed int __cdecl searchRoot_route_5kg(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 22; ++i )
  {
    if ( !wcscmp((&route_files_46)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 46);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39B7A0: using guessed type wchar_t asc_39B7A0[6];
// 39B7AC: using guessed type wchar_t asc_39B7AC[6];

//----- (0036D440) --------------------------------------------------------
signed int __cdecl CheckScript_route_46(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") )
    v2 = CheckScript_by_flags_route_32(a1);
  else
    v2 = 12;
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 36D440: using guessed type _DWORD __cdecl CheckScript_route_46(_DWORD);
// 39B7B8: using guessed type wchar_t asc_39B7B8[6];

//----- (0036D490) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_46(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 21; ++i )
  {
    if ( !wcscmp((&route_files_46)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0036D4E0) --------------------------------------------------------
int __cdecl SetFeeling_route_46(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( result == 3 )
  {
    result = (a1->vtable->GetCurrentScene)(a1);
    if ( result )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result == 1 )
        v3 = 5;
      else
        v3 = 6;
    }
    else
    {
      v3 = 4;
    }
  }
  else
  {
    if ( result == 7 )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 9;
        else
          v3 = 10;
      }
      else
      {
        v3 = 8;
      }
    }
    else
    {
      v3 = -1;
    }
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_46)[2 * v3], a2);
  return result;
}
// 39B7C4: using guessed type wchar_t asc_39B7C4[6];

//----- (0036D5C0) --------------------------------------------------------
unsigned int __cdecl sub_36D5C0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 )
  {
    if ( a3 == 47 )
      v4 = 619;
    else
      v4 = -1;
  }
  else
  {
    v4 = 612;
  }
  return sub_3367C0(a1, v4, (&route_files_47)[2 * a3], a2);
}

//----- (0036D620) --------------------------------------------------------
errno_t __cdecl GetScriptFile_47(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_36D5C0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 47);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_47)[2 * a4]);
}
// 39BF7C: using guessed type wchar_t asc_39BF7C[6];
// 39BF88: using guessed type wchar_t asc_39BF88[6];

//----- (0036D690) --------------------------------------------------------
signed int __cdecl GetNextScript_47(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@52
  int v4; // eax@56
  signed int result; // eax@56
  int v6; // eax@64
  int v7; // [sp+8h] [bp-4h]@1

  v7 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_36D5C0(a3, 1, v7);
  switch ( v7 )
  {
    case 0:
      GetScriptFile_47(a3, Dst, SizeInWords, 48, 1);
      goto LABEL_71;
    case 1:
      GetScriptFile_47(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_71;
    case 2:
      GetScriptFile_47(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_71;
    case 3:
      GetScriptFile_47(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_71;
    case 4:
      GetScriptFile_47(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_71;
    case 5:
      GetScriptFile_47(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_71;
    case 6:
      GetScriptFile_47(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_71;
    case 7:
      GetScriptFile_47(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_71;
    case 8:
      GetScriptFile_47(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_71;
    case 9:
      GetScriptFile_47(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_71;
    case 10:
      GetScriptFile_47(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_71;
    case 11:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_47(a3, Dst, SizeInWords, 13, 1);
        else
          GetScriptFile_47(a3, Dst, SizeInWords, 14, 1);
      }
      else
      {
        GetScriptFile_47(a3, Dst, SizeInWords, 12, 1);
      }
      goto LABEL_71;
    case 12:
      GetScriptFile_47(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_71;
    case 13:
    case 14:
      (a3->vtable->SetVariable)(a3, L"BS05KID04", v7);
      GetScriptFile_47(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_71;
    case 15:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_47(a3, Dst, SizeInWords, 17, 1);
        else
          GetScriptFile_47(a3, Dst, SizeInWords, 18, 1);
      }
      else
      {
        GetScriptFile_47(a3, Dst, SizeInWords, 16, 1);
      }
      goto LABEL_71;
    case 16:
    case 17:
    case 18:
      (a3->vtable->SetVariable)(a3, L"BS05KIE00", v7);
      GetScriptFile_47(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_71;
    case 19:
      GetScriptFile_47(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_71;
    case 20:
    case 21:
      (a3->vtable->SetVariable)(a3, L"BS05KIF02", v7);
      GetScriptFile_47(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_71;
    case 22:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_47(a3, Dst, SizeInWords, 24, 1);
      else
        GetScriptFile_47(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_71;
    case 23:
    case 24:
      (a3->vtable->SetVariable)(a3, L"BS05KIF05", v7);
      GetScriptFile_47(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_71;
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_47(a3, Dst, SizeInWords, 27, 1);
        else
          GetScriptFile_47(a3, Dst, SizeInWords, 28, 1);
      }
      else
      {
        GetScriptFile_47(a3, Dst, SizeInWords, 26, 1);
      }
      goto LABEL_71;
    case 26:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_47(a3, Dst, SizeInWords, 30, 1);
      else
        GetScriptFile_47(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_71;
    case 27:
    case 28:
    case 29:
    case 30:
      (a3->vtable->SetVariable)(a3, L"BS05KIG00", v7);
      GetScriptFile_47(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_71;
    case 31:
      GetScriptFile_47(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_71;
    case 32:
      GetScriptFile_47(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_71;
    case 33:
      GetScriptFile_47(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_71;
    case 34:
      GetScriptFile_47(a3, Dst, SizeInWords, 47, 1);
      goto LABEL_71;
    case 35:
      GetScriptFile_47(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_71;
    case 36:
      GetScriptFile_47(a3, Dst, SizeInWords, 46, 1);
      goto LABEL_71;
    case 37:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_47(a3, Dst, SizeInWords, 39, 1);
      else
        GetScriptFile_47(a3, Dst, SizeInWords, 38, 1);
      goto LABEL_71;
    case 38:
      (a3->vtable->SetVariable)(a3, L"BS05B0A00", v7);
      v4 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05B0", v4);
      GetScriptFile_40(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 39:
      GetScriptFile_47(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_71;
    case 40:
      GetScriptFile_47(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_71;
    case 41:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_47(a3, Dst, SizeInWords, 43, 1);
      else
        GetScriptFile_47(a3, Dst, SizeInWords, 42, 1);
      goto LABEL_71;
    case 42:
      GetScriptFile_47(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_71;
    case 43:
      (a3->vtable->SetVariable)(a3, L"BS05B0A00", v7);
      v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05B0", v6);
      GetScriptFile_40(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 44:
      GetScriptFile_47(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_71;
    case 45:
      GetScriptFile_47(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_71;
    case 46:
      GetScriptFile_47(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_71;
    case 47:
      sub_336590(a3, 12);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    case 48:
      GetScriptFile_47(a3, Dst, SizeInWords, 4, 1);
LABEL_71:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 39BF94: using guessed type wchar_t asc_39BF94[6];
// 39BFA0: using guessed type wchar_t aBs05kid04[10];
// 39BFB4: using guessed type wchar_t aBs05kie00[10];
// 39BFC8: using guessed type wchar_t aBs05kif02[10];
// 39BFDC: using guessed type wchar_t aBs05kif05[10];
// 39BFF0: using guessed type wchar_t aBs05kig00[10];
// 39C004: using guessed type wchar_t a001_21[4];
// 39C00C: using guessed type wchar_t a002_21[4];
// 39C014: using guessed type wchar_t aBs05b0a00_4[10];
// 39C028: using guessed type wchar_t asc_39C028[6];
// 39C034: using guessed type wchar_t aBs05b0_6[7];
// 39C044: using guessed type wchar_t aBs05b0a00_5[10];
// 39C058: using guessed type wchar_t asc_39C058[6];
// 39C064: using guessed type wchar_t aBs05b0_7[7];

//----- (0036DF40) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_47(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST20_4@1
  signed int result; // eax@5
  int v5; // ST1C_4@18
  int v6; // ST1C_4@20
  int v7; // ST1C_4@23
  int v8; // ST1C_4@25
  int v9; // ST1C_4@28
  int v10; // [sp+8h] [bp-8h]@2

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_47)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      v10 = (a3->vtable->GetVariable)(a3, L"BS05KIA00");
      if ( (a3->vtable->GetVariable)(a3, L"BS05KI") == 19 )
        GetScriptFile_19(a3, Dst, SizeInWords, v10, 0);
      else
        GetScriptFile_23(a3, Dst, SizeInWords, v10, 0);
      return 1;
    case 1:
      GetScriptFile_47(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_45;
    case 2:
      GetScriptFile_47(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_45;
    case 3:
      GetScriptFile_47(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_45;
    case 4:
      GetScriptFile_47(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_45;
    case 5:
      GetScriptFile_47(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_45;
    case 6:
      GetScriptFile_47(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_45;
    case 7:
      GetScriptFile_47(a3, Dst, SizeInWords, 46, 0);
      goto LABEL_45;
    case 8:
      GetScriptFile_47(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_45;
    case 9:
      GetScriptFile_47(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_45;
    case 10:
      GetScriptFile_47(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_45;
    case 11:
      GetScriptFile_47(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_45;
    case 12:
    case 13:
    case 14:
      GetScriptFile_47(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_45;
    case 15:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05KID04");
      GetScriptFile_47(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_45;
    case 16:
    case 17:
    case 18:
      GetScriptFile_47(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_45;
    case 19:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05KIE00");
      GetScriptFile_47(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_45;
    case 20:
      GetScriptFile_47(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_45;
    case 21:
      GetScriptFile_47(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_45;
    case 22:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05KIF02");
      GetScriptFile_47(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_45;
    case 23:
    case 24:
      GetScriptFile_47(a3, Dst, SizeInWords, 22, 0);
      goto LABEL_45;
    case 25:
      v8 = (a3->vtable->GetVariable)(a3, L"BS05KIF05");
      GetScriptFile_47(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_45;
    case 26:
    case 27:
    case 28:
      GetScriptFile_47(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_45;
    case 29:
    case 30:
      GetScriptFile_47(a3, Dst, SizeInWords, 26, 0);
      goto LABEL_45;
    case 31:
      v9 = (a3->vtable->GetVariable)(a3, L"BS05KIG00");
      GetScriptFile_47(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_45;
    case 32:
      GetScriptFile_47(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_45;
    case 33:
      GetScriptFile_47(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_45;
    case 34:
      GetScriptFile_47(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_45;
    case 35:
      GetScriptFile_47(a3, Dst, SizeInWords, 32, 0);
      goto LABEL_45;
    case 36:
      GetScriptFile_47(a3, Dst, SizeInWords, 45, 0);
      goto LABEL_45;
    case 37:
      GetScriptFile_47(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_45;
    case 38:
    case 39:
      GetScriptFile_47(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_45;
    case 40:
      GetScriptFile_47(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_45;
    case 41:
      GetScriptFile_47(a3, Dst, SizeInWords, 39, 0);
      goto LABEL_45;
    case 42:
    case 43:
      GetScriptFile_47(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_45;
    case 44:
      GetScriptFile_47(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_45;
    case 45:
      GetScriptFile_47(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_45;
    case 46:
      GetScriptFile_47(a3, Dst, SizeInWords, 36, 0);
      goto LABEL_45;
    case 47:
      GetScriptFile_47(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_45;
    case 48:
      GetScriptFile_47(a3, Dst, SizeInWords, 0, 0);
LABEL_45:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39C074: using guessed type wchar_t asc_39C074[6];
// 39C080: using guessed type wchar_t aBs05kia00_2[10];
// 39C094: using guessed type wchar_t aBs05ki_2[7];
// 39C0A4: using guessed type wchar_t aBs05kid04_0[10];
// 39C0B8: using guessed type wchar_t aBs05kie00_0[10];
// 39C0CC: using guessed type wchar_t aBs05kif02_0[10];
// 39C0E0: using guessed type wchar_t aBs05kif05_0[10];
// 39C0F4: using guessed type wchar_t aBs05kig00_0[10];

//----- (0036E5B0) --------------------------------------------------------
signed int __cdecl searchRoot_route_5ki(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 49; ++i )
  {
    if ( !wcscmp((&route_files_47)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 47);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39C108: using guessed type wchar_t asc_39C108[6];
// 39C114: using guessed type wchar_t asc_39C114[6];

//----- (0036E620) --------------------------------------------------------
signed int __cdecl CheckScript_route_47(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 )
  {
    if ( v2 == 47 )
      v3 = 30;
    else
      v3 = CheckScript_by_flags_route_32(a1);
  }
  else
  {
    v3 = 23;
  }
  return v3;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 36E620: using guessed type _DWORD __cdecl CheckScript_route_47(_DWORD);
// 39C120: using guessed type wchar_t asc_39C120[6];

//----- (0036E680) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_47(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 48; ++i )
  {
    if ( !wcscmp((&route_files_47)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0036E6D0) --------------------------------------------------------
int __cdecl SetFeeling_route_47(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 11;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 13;
        else
          v3 = 14;
      }
      else
      {
        v3 = 12;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 17;
        else
          v3 = 18;
      }
      else
      {
        v3 = 16;
      }
      break;
    case 11:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 24;
      else
        v3 = 23;
      break;
    case 14:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 27;
        else
          v3 = 28;
      }
      else
      {
        v3 = 26;
      }
      break;
    case 15:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 30;
      else
        v3 = 29;
      break;
    case 30:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 43;
      else
        v3 = 42;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_47)[2 * v3], a2);
  return result;
}
// 39C12C: using guessed type wchar_t asc_39C12C[6];

//----- (0036E8B0) --------------------------------------------------------
unsigned int __cdecl sub_36E8B0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@4

  if ( a3 )
  {
    if ( a3 == 12 )
    {
      v4 = 618;
    }
    else
    {
      if ( a3 == 22 )
        v4 = 617;
      else
        v4 = -1;
    }
  }
  else
  {
    v4 = 611;
  }
  return sub_3367C0(a1, v4, (&route_files_48)[2 * a3], a2);
}

//----- (0036E920) --------------------------------------------------------
errno_t __cdecl GetScriptFile_48(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_36E8B0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 48);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_48)[2 * a4]);
}
// 39C4FC: using guessed type wchar_t asc_39C4FC[6];
// 39C508: using guessed type wchar_t asc_39C508[6];

//----- (0036E990) --------------------------------------------------------
signed int __cdecl GetNextScript_48(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@14
  signed int result; // eax@22
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_36E8B0(a3, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_48(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_43;
    case 1:
      GetScriptFile_48(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_43;
    case 2:
      GetScriptFile_48(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_43;
    case 3:
      GetScriptFile_48(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_43;
    case 4:
      GetScriptFile_48(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_43;
    case 5:
      GetScriptFile_48(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_43;
    case 6:
      GetScriptFile_48(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_43;
    case 7:
      if ( (a3->vtable->IsFlagSet)(a3, L"955") )
        GetScriptFile_48(a3, Dst, SizeInWords, 8, 1);
      else
        GetScriptFile_48(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_43;
    case 8:
    case 9:
      (a3->vtable->SetVariable)(a3, L"BS05SAC02", v5);
      GetScriptFile_48(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_43;
    case 10:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_48(a3, Dst, SizeInWords, 12, 1);
      else
        GetScriptFile_48(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_43;
    case 11:
      GetScriptFile_48(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_43;
    case 12:
      sub_336590(a3, 13);
      if ( (a3->vtable->IsFlagSet)(a3, L"942") )
      {
        (a3->vtable->SetVariable)(a3, L"BS059HA00", v5);
        GetScriptFile_34(a3, Dst, SizeInWords, 0, 1);
      }
      else
      {
        (a3->vtable->field_38)(a3, 1);
        sub_336760(a3, Dst, SizeInWords, 1);
      }
      return 1;
    case 13:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_48(a3, Dst, SizeInWords, 15, 1);
        else
          GetScriptFile_48(a3, Dst, SizeInWords, 16, 1);
      }
      else
      {
        GetScriptFile_48(a3, Dst, SizeInWords, 14, 1);
      }
      goto LABEL_43;
    case 14:
    case 16:
    case 17:
    case 18:
      (a3->vtable->SetVariable)(a3, L"BS05SAI00", v5);
      GetScriptFile_48(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_43;
    case 15:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_48(a3, Dst, SizeInWords, 18, 1);
      else
        GetScriptFile_48(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_43;
    case 19:
      (a3->vtable->field_1C)(a3, L"REP05_SA_I00", 1);
      GetScriptFile_48(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_43;
    case 20:
      GetScriptFile_48(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_43;
    case 21:
      GetScriptFile_48(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_43;
    case 22:
      sub_336590(a3, 14);
      if ( (a3->vtable->IsFlagSet)(a3, L"942") )
      {
        (a3->vtable->SetVariable)(a3, L"BS059HA00", v5);
        (a3->vtable->SetFlagValue)(a3, L"804", 1);
        GetScriptFile_34(a3, Dst, SizeInWords, 0, 1);
      }
      else
      {
        (a3->vtable->field_38)(a3, 1);
        sub_336760(a3, Dst, SizeInWords, 1);
      }
      result = 1;
      break;
    case 23:
      (a3->vtable->SetVariable)(a3, L"BS05SAB00", v5);
      GetScriptFile_48(a3, Dst, SizeInWords, 1, 1);
LABEL_43:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 39C514: using guessed type wchar_t asc_39C514[6];
// 39C520: using guessed type wchar_t a955_1[4];
// 39C528: using guessed type wchar_t aBs05sac02[10];
// 39C53C: using guessed type wchar_t a001_22[4];
// 39C544: using guessed type wchar_t a002_22[4];
// 39C54C: using guessed type wchar_t a942_1[4];
// 39C554: using guessed type wchar_t aBs059ha00_0[10];
// 39C568: using guessed type wchar_t aBs05sai00[10];
// 39C57C: using guessed type wchar_t aRep05_sa_i00[13];
// 39C598: using guessed type wchar_t a942_2[4];
// 39C5A0: using guessed type wchar_t aBs059ha00_1[10];
// 39C5B4: using guessed type wchar_t a804_1[4];
// 39C5BC: using guessed type wchar_t aBs05sab00[10];

//----- (0036EED0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_48(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST20_4@1
  signed int result; // eax@5
  int v5; // ST1C_4@14
  int v6; // ST1C_4@23
  int v7; // [sp+4h] [bp-Ch]@6
  int v8; // [sp+8h] [bp-8h]@2
  int v9; // [sp+8h] [bp-8h]@6

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_48)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      v8 = (a3->vtable->GetVariable)(a3, L"BS05SAA00");
      if ( (a3->vtable->GetVariable)(a3, L"BS05SA") == 24 )
        GetScriptFile_24(a3, Dst, SizeInWords, v8, 0);
      else
        GetScriptFile_26(a3, Dst, SizeInWords, v8, 0);
      return 1;
    case 1:
      v9 = (a3->vtable->GetVariable)(a3, L"BS05SAB00");
      v7 = (a3->vtable->GetVariable)(a3, L"BS05SA");
      if ( v7 == 53 )
      {
        GetScriptFile_53(a3, Dst, SizeInWords, v9, 0);
        result = 1;
      }
      else
      {
        if ( v7 != 54 )
        {
          GetScriptFile_48(a3, Dst, SizeInWords, v9, 0);
          goto LABEL_29;
        }
        GetScriptFile_54(a3, Dst, SizeInWords, v9, 0);
        result = 1;
      }
      return result;
    case 2:
      GetScriptFile_48(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_29;
    case 3:
      GetScriptFile_48(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_29;
    case 4:
      GetScriptFile_48(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_29;
    case 5:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05SAC02");
      GetScriptFile_48(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_29;
    case 6:
      GetScriptFile_48(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_29;
    case 7:
      GetScriptFile_48(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_29;
    case 8:
    case 9:
      GetScriptFile_48(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_29;
    case 10:
      GetScriptFile_48(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_29;
    case 11:
    case 12:
      GetScriptFile_48(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_29;
    case 13:
      GetScriptFile_48(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_29;
    case 14:
    case 15:
    case 16:
      GetScriptFile_48(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_29;
    case 17:
    case 18:
      GetScriptFile_48(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_29;
    case 19:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05SAI00");
      GetScriptFile_48(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_29;
    case 20:
      GetScriptFile_48(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_29;
    case 21:
      GetScriptFile_48(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_29;
    case 22:
      GetScriptFile_48(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_29;
    case 23:
      GetScriptFile_48(a3, Dst, SizeInWords, 0, 0);
LABEL_29:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39C5D0: using guessed type wchar_t asc_39C5D0[6];
// 39C5DC: using guessed type wchar_t aBs05saa00_3[10];
// 39C5F0: using guessed type wchar_t aBs05sa_3[7];
// 39C600: using guessed type wchar_t aBs05sab00_0[10];
// 39C614: using guessed type wchar_t aBs05sa_4[7];
// 39C624: using guessed type wchar_t aBs05sac02_0[10];
// 39C638: using guessed type wchar_t aBs05sai00_0[10];

//----- (0036F2D0) --------------------------------------------------------
signed int __cdecl searchRoot_route_5sa(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 24; ++i )
  {
    if ( !wcscmp((&route_files_48)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 48);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39C64C: using guessed type wchar_t asc_39C64C[6];
// 39C658: using guessed type wchar_t asc_39C658[6];

//----- (0036F340) --------------------------------------------------------
signed int __cdecl CheckScript_route_48(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@4

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 )
  {
    if ( v2 == 12 )
    {
      v3 = 29;
    }
    else
    {
      if ( v2 == 22 )
        v3 = 28;
      else
        v3 = CheckScript_by_flags_route_32(a1);
    }
  }
  else
  {
    v3 = 22;
  }
  return v3;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 36F340: using guessed type _DWORD __cdecl CheckScript_route_48(_DWORD);
// 39C664: using guessed type wchar_t asc_39C664[6];

//----- (0036F3B0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_48(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 23; ++i )
  {
    if ( !wcscmp((&route_files_48)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (0036F400) --------------------------------------------------------
int __cdecl SetFeeling_route_48(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( result == 13 )
  {
    result = (a1->vtable->GetCurrentScene)(a1);
    if ( result )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result == 1 )
        v3 = 15;
      else
        v3 = 16;
    }
    else
    {
      v3 = 14;
    }
  }
  else
  {
    if ( result == 15 )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 18;
      else
        v3 = 17;
    }
    else
    {
      v3 = -1;
    }
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_48)[2 * v3], a2);
  return result;
}
// 39C670: using guessed type wchar_t asc_39C670[6];

//----- (0036F4D0) --------------------------------------------------------
unsigned int __cdecl sub_36F4D0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@4

  if ( a3 )
  {
    if ( a3 == 13 )
    {
      v4 = 644;
    }
    else
    {
      if ( a3 == 28 )
        v4 = 631;
      else
        v4 = -1;
    }
  }
  else
  {
    v4 = 621;
  }
  return sub_3367C0(a1, v4, (&route_files_49)[2 * a3], a2);
}

//----- (0036F540) --------------------------------------------------------
errno_t __cdecl GetScriptFile_49(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_36F4D0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 49);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_49)[2 * a4]);
}
// 39CB30: using guessed type wchar_t asc_39CB30[6];
// 39CB3C: using guessed type wchar_t asc_39CB3C[6];

//----- (0036F5B0) --------------------------------------------------------
signed int __cdecl GetNextScript_49(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@20
  int v4; // esi@24
  int v5; // [sp+8h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_36F4D0(a3, 1, v5);
  switch ( v5 )
  {
    case 0:
      GetScriptFile_49(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_44;
    case 1:
      GetScriptFile_49(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_44;
    case 2:
      GetScriptFile_49(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_44;
    case 3:
      (a3->vtable->SetVariable)(a3, L"BS05SBD04", v5);
      GetScriptFile_49(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_44;
    case 4:
      GetScriptFile_49(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_44;
    case 5:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_49(a3, Dst, SizeInWords, 7, 1);
        else
          GetScriptFile_49(a3, Dst, SizeInWords, 8, 1);
      }
      else
      {
        GetScriptFile_49(a3, Dst, SizeInWords, 6, 1);
      }
      goto LABEL_44;
    case 6:
      GetScriptFile_49(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_44;
    case 7:
      (a3->vtable->SetVariable)(a3, L"BS05SBD05", v5);
      GetScriptFile_49(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_44;
    case 8:
      (a3->vtable->SetVariable)(a3, L"BS05SBD04", v5);
      GetScriptFile_49(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_44;
    case 9:
      GetScriptFile_49(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_44;
    case 10:
      GetScriptFile_49(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_44;
    case 11:
      GetScriptFile_49(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_44;
    case 12:
      GetScriptFile_49(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_44;
    case 13:
      sub_336590(a3, 15);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      return 1;
    case 14:
      (a3->vtable->SetVariable)(a3, L"BS05SBI01", v5);
      GetScriptFile_49(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_44;
    case 15:
      GetScriptFile_49(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_44;
    case 16:
      GetScriptFile_49(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_44;
    case 17:
      v4 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v4 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_49(a3, Dst, SizeInWords, 19, 1);
      else
        GetScriptFile_49(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_44;
    case 18:
      (a3->vtable->SetVariable)(a3, L"BS05SBE01", v5);
      GetScriptFile_49(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_44;
    case 19:
      GetScriptFile_49(a3, Dst, SizeInWords, 26, 1);
      goto LABEL_44;
    case 20:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_49(a3, Dst, SizeInWords, 22, 1);
        else
          GetScriptFile_49(a3, Dst, SizeInWords, 23, 1);
      }
      else
      {
        GetScriptFile_49(a3, Dst, SizeInWords, 21, 1);
      }
      goto LABEL_44;
    case 21:
    case 22:
    case 23:
      (a3->vtable->SetVariable)(a3, L"BS05SBH04", v5);
      GetScriptFile_49(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_44;
    case 24:
      GetScriptFile_49(a3, Dst, SizeInWords, 17, 1);
      goto LABEL_44;
    case 25:
      (a3->vtable->SetVariable)(a3, L"BS05SBD05", v5);
      GetScriptFile_49(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_44;
    case 26:
      (a3->vtable->SetVariable)(a3, L"BS05SBI01", v5);
      GetScriptFile_49(a3, Dst, SizeInWords, 27, 1);
      goto LABEL_44;
    case 27:
      GetScriptFile_49(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_44;
    case 28:
      sub_336590(a3, 16);
      (a3->vtable->field_1C)(a3, L"REP05_SB_I01", 1);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    case 29:
      GetScriptFile_49(a3, Dst, SizeInWords, 2, 1);
LABEL_44:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 39CB48: using guessed type wchar_t asc_39CB48[6];
// 39CB54: using guessed type wchar_t aBs05sbd04[10];
// 39CB68: using guessed type wchar_t aBs05sbd05[10];
// 39CB7C: using guessed type wchar_t aBs05sbd04_0[10];
// 39CB90: using guessed type wchar_t aBs05sbi01[10];
// 39CBA4: using guessed type wchar_t a001_23[4];
// 39CBAC: using guessed type wchar_t a002_23[4];
// 39CBB4: using guessed type wchar_t aBs05sbe01_0[10];
// 39CBC8: using guessed type wchar_t aBs05sbh04[10];
// 39CBDC: using guessed type wchar_t aBs05sbd05_0[10];
// 39CBF0: using guessed type wchar_t aBs05sbi01_0[10];
// 39CC04: using guessed type wchar_t aRep05_sb_i01[13];

//----- (0036FBB0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_49(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST20_4@1
  signed int result; // eax@7
  int v5; // ST1C_4@14
  int v6; // ST1C_4@15
  int v7; // ST1C_4@28
  int v8; // ST1C_4@31
  int v9; // [sp+4h] [bp-Ch]@2
  int v10; // [sp+8h] [bp-8h]@2
  int v11; // [sp+8h] [bp-8h]@18

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_49)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      v10 = (a3->vtable->GetVariable)(a3, L"BS05SBA00");
      v9 = (a3->vtable->GetVariable)(a3, L"BS05SB");
      if ( v9 == 23 )
      {
        GetScriptFile_23(a3, Dst, SizeInWords, v10, 0);
      }
      else
      {
        if ( v9 == 24 )
          GetScriptFile_24(a3, Dst, SizeInWords, v10, 0);
        else
          GetScriptFile_25(a3, Dst, SizeInWords, v10, 0);
      }
      return 1;
    case 1:
      GetScriptFile_49(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_35;
    case 2:
      GetScriptFile_49(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_35;
    case 3:
      GetScriptFile_49(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_35;
    case 4:
      GetScriptFile_49(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_35;
    case 5:
      GetScriptFile_49(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_35;
    case 6:
    case 7:
    case 8:
      GetScriptFile_49(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_35;
    case 9:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05SBD04");
      GetScriptFile_49(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_35;
    case 10:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05SBD05");
      GetScriptFile_49(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_35;
    case 11:
      GetScriptFile_49(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_35;
    case 12:
      GetScriptFile_49(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_35;
    case 13:
      v11 = (a3->vtable->GetVariable)(a3, L"BS05SBE01");
      if ( (a3->vtable->GetVariable)(a3, L"BS05SB") == 45 )
      {
        GetScriptFile_45(a3, Dst, SizeInWords, v11, 0);
        result = 1;
      }
      else
      {
        GetScriptFile_49(a3, Dst, SizeInWords, v11, 0);
LABEL_35:
        result = 1;
      }
      break;
    case 14:
      GetScriptFile_45(a3, Dst, SizeInWords, 47, 0);
      return 1;
    case 15:
      GetScriptFile_49(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_35;
    case 16:
      GetScriptFile_49(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_35;
    case 17:
      GetScriptFile_49(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_35;
    case 18:
    case 19:
      GetScriptFile_49(a3, Dst, SizeInWords, 17, 0);
      goto LABEL_35;
    case 20:
      GetScriptFile_49(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_35;
    case 21:
    case 22:
    case 23:
      GetScriptFile_49(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_35;
    case 24:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05SBH04");
      GetScriptFile_49(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_35;
    case 25:
      GetScriptFile_49(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_35;
    case 26:
      GetScriptFile_49(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_35;
    case 27:
      v8 = (a3->vtable->GetVariable)(a3, L"BS05SBI01");
      GetScriptFile_49(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_35;
    case 28:
      GetScriptFile_49(a3, Dst, SizeInWords, 27, 0);
      goto LABEL_35;
    case 29:
      GetScriptFile_49(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_35;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39CC20: using guessed type wchar_t asc_39CC20[6];
// 39CC2C: using guessed type wchar_t aBs05sba00_2[10];
// 39CC40: using guessed type wchar_t aBs05sb_4[7];
// 39CC50: using guessed type wchar_t aBs05sbd04_1[10];
// 39CC64: using guessed type wchar_t aBs05sbd05_1[10];
// 39CC78: using guessed type wchar_t aBs05sbe01_1[10];
// 39CC8C: using guessed type wchar_t aBs05sb_5[7];
// 39CC9C: using guessed type wchar_t aBs05sbh04_0[10];
// 39CCB0: using guessed type wchar_t aBs05sbi01_1[10];

//----- (003700A0) --------------------------------------------------------
signed int __cdecl searchRoot_route_5sb(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 30; ++i )
  {
    if ( !wcscmp((&route_files_49)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 49);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39CCC4: using guessed type wchar_t asc_39CCC4[6];
// 39CCD0: using guessed type wchar_t asc_39CCD0[6];

//----- (00370110) --------------------------------------------------------
signed int __cdecl CheckScript_route_49(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@4

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 )
  {
    if ( v2 == 13 )
    {
      v3 = 55;
    }
    else
    {
      if ( v2 == 28 )
        v3 = 42;
      else
        v3 = CheckScript_by_flags_route_32(a1);
    }
  }
  else
  {
    v3 = 32;
  }
  return v3;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 370110: using guessed type _DWORD __cdecl CheckScript_route_49(_DWORD);
// 39CCDC: using guessed type wchar_t asc_39CCDC[6];

//----- (00370180) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_49(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 29; ++i )
  {
    if ( !wcscmp((&route_files_49)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003701D0) --------------------------------------------------------
int __cdecl SetFeeling_route_49(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( result == 5 )
  {
    result = (a1->vtable->GetCurrentScene)(a1);
    if ( result )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result == 1 )
        v3 = 7;
      else
        v3 = 8;
    }
    else
    {
      v3 = 6;
    }
  }
  else
  {
    if ( result == 20 )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 22;
        else
          v3 = 23;
      }
      else
      {
        v3 = 21;
      }
    }
    else
    {
      v3 = -1;
    }
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_49)[2 * v3], a2);
  return result;
}
// 39CCE8: using guessed type wchar_t asc_39CCE8[6];

//----- (003702B0) --------------------------------------------------------
unsigned int __cdecl sub_3702B0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@3

  if ( a3 )
  {
    if ( a3 == 46 )
      v4 = 630;
    else
      v4 = -1;
  }
  else
  {
    v4 = 624;
  }
  return sub_3367C0(a1, v4, (&route_files_50)[2 * a3], a2);
}

//----- (00370310) --------------------------------------------------------
errno_t __cdecl GetScriptFile_50(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3702B0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 50);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_50)[2 * a4]);
}
// 39D478: using guessed type wchar_t asc_39D478[6];
// 39D484: using guessed type wchar_t asc_39D484[6];

//----- (00370380) --------------------------------------------------------
signed int __cdecl GetNextScript_50(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // esi@51
  int v4; // eax@55
  signed int result; // eax@55
  int v6; // eax@63
  int v7; // [sp+8h] [bp-4h]@1

  v7 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_3702B0(a3, 1, v7);
  switch ( v7 )
  {
    case 0:
      GetScriptFile_50(a3, Dst, SizeInWords, 47, 1);
      goto LABEL_70;
    case 1:
      GetScriptFile_50(a3, Dst, SizeInWords, 39, 1);
      goto LABEL_70;
    case 2:
      GetScriptFile_50(a3, Dst, SizeInWords, 43, 1);
      goto LABEL_70;
    case 3:
      GetScriptFile_50(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_70;
    case 4:
      GetScriptFile_50(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_70;
    case 5:
      GetScriptFile_50(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_70;
    case 6:
      GetScriptFile_50(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_70;
    case 7:
      GetScriptFile_50(a3, Dst, SizeInWords, 32, 1);
      goto LABEL_70;
    case 8:
      GetScriptFile_50(a3, Dst, SizeInWords, 33, 1);
      goto LABEL_70;
    case 9:
      GetScriptFile_50(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_70;
    case 10:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_50(a3, Dst, SizeInWords, 12, 1);
        else
          GetScriptFile_50(a3, Dst, SizeInWords, 13, 1);
      }
      else
      {
        GetScriptFile_50(a3, Dst, SizeInWords, 11, 1);
      }
      goto LABEL_70;
    case 11:
      GetScriptFile_50(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_70;
    case 12:
    case 13:
      (a3->vtable->SetVariable)(a3, L"BS05SCD04", v7);
      GetScriptFile_50(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_70;
    case 14:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_50(a3, Dst, SizeInWords, 16, 1);
        else
          GetScriptFile_50(a3, Dst, SizeInWords, 17, 1);
      }
      else
      {
        GetScriptFile_50(a3, Dst, SizeInWords, 15, 1);
      }
      goto LABEL_70;
    case 15:
    case 16:
    case 17:
      (a3->vtable->SetVariable)(a3, L"BS05SCE00", v7);
      GetScriptFile_50(a3, Dst, SizeInWords, 18, 1);
      goto LABEL_70;
    case 18:
      GetScriptFile_50(a3, Dst, SizeInWords, 19, 1);
      goto LABEL_70;
    case 19:
    case 20:
      (a3->vtable->SetVariable)(a3, L"BS05SCF02", v7);
      GetScriptFile_50(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_70;
    case 21:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_50(a3, Dst, SizeInWords, 23, 1);
      else
        GetScriptFile_50(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_70;
    case 22:
    case 23:
      (a3->vtable->SetVariable)(a3, L"BS05SCF05", v7);
      GetScriptFile_50(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_70;
    case 24:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_50(a3, Dst, SizeInWords, 26, 1);
        else
          GetScriptFile_50(a3, Dst, SizeInWords, 27, 1);
      }
      else
      {
        GetScriptFile_50(a3, Dst, SizeInWords, 25, 1);
      }
      goto LABEL_70;
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_50(a3, Dst, SizeInWords, 29, 1);
      else
        GetScriptFile_50(a3, Dst, SizeInWords, 28, 1);
      goto LABEL_70;
    case 26:
    case 27:
    case 28:
    case 29:
      (a3->vtable->SetVariable)(a3, L"BS05SCG00", v7);
      GetScriptFile_50(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_70;
    case 30:
      GetScriptFile_50(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_70;
    case 31:
      GetScriptFile_50(a3, Dst, SizeInWords, 34, 1);
      goto LABEL_70;
    case 32:
      GetScriptFile_50(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_70;
    case 33:
      GetScriptFile_50(a3, Dst, SizeInWords, 46, 1);
      goto LABEL_70;
    case 34:
      GetScriptFile_50(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_70;
    case 35:
      GetScriptFile_50(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_70;
    case 36:
      v3 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v3 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_50(a3, Dst, SizeInWords, 38, 1);
      else
        GetScriptFile_50(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_70;
    case 37:
      (a3->vtable->SetVariable)(a3, L"BS05B0A00", v7);
      v4 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05B0", v4);
      GetScriptFile_40(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 38:
      GetScriptFile_50(a3, Dst, SizeInWords, 40, 1);
      goto LABEL_70;
    case 39:
      GetScriptFile_50(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_70;
    case 40:
      if ( (a3->vtable->GetCurrentScene)(a3) )
        GetScriptFile_50(a3, Dst, SizeInWords, 42, 1);
      else
        GetScriptFile_50(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_70;
    case 41:
      GetScriptFile_50(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_70;
    case 42:
      (a3->vtable->SetVariable)(a3, L"BS05B0A00", v7);
      v6 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05B0", v6);
      GetScriptFile_40(a3, Dst, SizeInWords, 0, 1);
      return 1;
    case 43:
      GetScriptFile_50(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_70;
    case 44:
      GetScriptFile_50(a3, Dst, SizeInWords, 35, 1);
      goto LABEL_70;
    case 45:
      GetScriptFile_50(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_70;
    case 46:
      sub_336590(a3, 17);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    case 47:
      GetScriptFile_50(a3, Dst, SizeInWords, 3, 1);
LABEL_70:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 39D490: using guessed type wchar_t asc_39D490[6];
// 39D49C: using guessed type wchar_t aBs05scd04[10];
// 39D4B0: using guessed type wchar_t aBs05sce00[10];
// 39D4C4: using guessed type wchar_t aBs05scf02[10];
// 39D4D8: using guessed type wchar_t aBs05scf05[10];
// 39D4EC: using guessed type wchar_t aBs05scg00[10];
// 39D500: using guessed type wchar_t a001_24[4];
// 39D508: using guessed type wchar_t a002_24[4];
// 39D510: using guessed type wchar_t aBs05b0a00_6[10];
// 39D524: using guessed type wchar_t asc_39D524[6];
// 39D530: using guessed type wchar_t aBs05b0_8[7];
// 39D540: using guessed type wchar_t aBs05b0a00_7[10];
// 39D554: using guessed type wchar_t asc_39D554[6];
// 39D560: using guessed type wchar_t aBs05b0_9[7];

//----- (00370C10) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_50(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int scene; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@14
  int v6; // ST18_4@16
  int v7; // ST18_4@19
  int v8; // ST18_4@21
  int v9; // ST18_4@24

  scene = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_50)[2 * scene], 0);
  switch ( scene )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_29(a3, Dst, SizeInWords, 35, 0);
      return 1;
    case 1:
      GetScriptFile_50(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_41;
    case 2:
      GetScriptFile_50(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_41;
    case 3:
      GetScriptFile_50(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_41;
    case 4:
      GetScriptFile_50(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_41;
    case 5:
      GetScriptFile_50(a3, Dst, SizeInWords, 39, 0);
      goto LABEL_41;
    case 6:
      GetScriptFile_50(a3, Dst, SizeInWords, 45, 0);
      goto LABEL_41;
    case 7:
      GetScriptFile_50(a3, Dst, SizeInWords, 43, 0);
      goto LABEL_41;
    case 8:
      GetScriptFile_50(a3, Dst, SizeInWords, 32, 0);
      goto LABEL_41;
    case 9:
      GetScriptFile_50(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_41;
    case 10:
      GetScriptFile_50(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_41;
    case 11:
    case 12:
    case 13:
      GetScriptFile_50(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_41;
    case 14:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05SCD04");
      GetScriptFile_50(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_41;
    case 15:
    case 16:
    case 17:
      GetScriptFile_50(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_41;
    case 18:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05SCE00");
      GetScriptFile_50(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_41;
    case 19:
      GetScriptFile_50(a3, Dst, SizeInWords, 18, 0);
      goto LABEL_41;
    case 20:
      GetScriptFile_50(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_41;
    case 21:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05SCF02");
      GetScriptFile_50(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_41;
    case 22:
    case 23:
      GetScriptFile_50(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_41;
    case 24:
      v8 = (a3->vtable->GetVariable)(a3, L"BS05SCF05");
      GetScriptFile_50(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_41;
    case 25:
    case 26:
    case 27:
      GetScriptFile_50(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_41;
    case 28:
    case 29:
      GetScriptFile_50(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_41;
    case 30:
      v9 = (a3->vtable->GetVariable)(a3, L"BS05SCG00");
      GetScriptFile_50(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_41;
    case 31:
      GetScriptFile_50(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_41;
    case 32:
      GetScriptFile_50(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_41;
    case 33:
      GetScriptFile_50(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_41;
    case 34:
      GetScriptFile_50(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_41;
    case 35:
      GetScriptFile_50(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_41;
    case 36:
      GetScriptFile_50(a3, Dst, SizeInWords, 34, 0);
      goto LABEL_41;
    case 37:
    case 38:
      GetScriptFile_50(a3, Dst, SizeInWords, 36, 0);
      goto LABEL_41;
    case 39:
      GetScriptFile_50(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_41;
    case 40:
      GetScriptFile_50(a3, Dst, SizeInWords, 38, 0);
      goto LABEL_41;
    case 41:
    case 42:
      GetScriptFile_50(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_41;
    case 43:
      GetScriptFile_50(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_41;
    case 44:
      GetScriptFile_50(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_41;
    case 45:
      GetScriptFile_50(a3, Dst, SizeInWords, 35, 0);
      goto LABEL_41;
    case 46:
      GetScriptFile_50(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_41;
    case 47:
      GetScriptFile_50(a3, Dst, SizeInWords, 0, 0);
LABEL_41:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39D570: using guessed type wchar_t asc_39D570[6];
// 39D57C: using guessed type wchar_t aBs05scd04_0[10];
// 39D590: using guessed type wchar_t aBs05sce00_0[10];
// 39D5A4: using guessed type wchar_t aBs05scf02_0[10];
// 39D5B8: using guessed type wchar_t aBs05scf05_0[10];
// 39D5CC: using guessed type wchar_t aBs05scg00_0[10];

//----- (00371210) --------------------------------------------------------
signed int __cdecl searchRoot_route_5sc(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 48; ++i )
  {
    if ( !wcscmp((&route_files_50)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 50);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39D5E0: using guessed type wchar_t asc_39D5E0[6];
// 39D5EC: using guessed type wchar_t asc_39D5EC[6];

//----- (00371280) --------------------------------------------------------
signed int __cdecl CheckScript_route_50(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@3

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 )
  {
    if ( v2 == 46 )
      v3 = 41;
    else
      v3 = CheckScript_by_flags_route_32(a1);
  }
  else
  {
    v3 = 35;
  }
  return v3;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 371280: using guessed type _DWORD __cdecl CheckScript_route_50(_DWORD);
// 39D5F8: using guessed type wchar_t asc_39D5F8[6];

//----- (003712E0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_50(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 47; ++i )
  {
    if ( !wcscmp((&route_files_50)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00371330) --------------------------------------------------------
int __cdecl SetFeeling_route_50(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 10;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 12;
        else
          v3 = 13;
      }
      else
      {
        v3 = 11;
      }
      break;
    case 4:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 16;
        else
          v3 = 17;
      }
      else
      {
        v3 = 15;
      }
      break;
    case 11:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 23;
      else
        v3 = 22;
      break;
    case 14:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 26;
        else
          v3 = 27;
      }
      else
      {
        v3 = 25;
      }
      break;
    case 15:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 29;
      else
        v3 = 28;
      break;
    case 30:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 42;
      else
        v3 = 41;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_50)[2 * v3], a2);
  return result;
}
// 39D604: using guessed type wchar_t asc_39D604[6];

//----- (00371510) --------------------------------------------------------
unsigned int __cdecl sub_371510(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  switch ( a3 )
  {
    case 0:
      v4 = 603;
      break;
    case 15:
      v4 = 613;
      break;
    case 8:
      v4 = 614;
      break;
    case 1:
      v4 = 615;
      break;
    case 22:
      v4 = 616;
      break;
    default:
      v4 = -1;
      break;
  }
  return sub_3367C0(a1, v4, (&route_files_51)[2 * a3], a2);
}

//----- (003715D0) --------------------------------------------------------
errno_t __cdecl GetScriptFile_51(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_371510(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 51);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_51)[2 * a4]);
}
// 39DA4C: using guessed type wchar_t asc_39DA4C[6];
// 39DA58: using guessed type wchar_t asc_39DA58[6];

//----- (00371640) --------------------------------------------------------
signed int __cdecl GetNextScript_51(wchar_t *Dst, rsize_t SizeInWords, int a3)
{
  signed int result; // eax@3
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (*(*a3 + 8))(a3, L"SCENE");
  sub_371510(a3, 1, v4);
  switch ( v4 )
  {
    case 0:
      GetScriptFile_51(a3, Dst, SizeInWords, 26, 1);
      goto LABEL_40;
    case 1:
      sub_336590(a3, 18);
      (*(*a3 + 56))(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      return 1;
    case 2:
      GetScriptFile_51(a3, Dst, SizeInWords, 8, 1);
      goto LABEL_40;
    case 3:
      GetScriptFile_51(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_40;
    case 4:
      (*(*a3 + 12))(a3, L"BS05SDA01", v4);
      (*(*a3 + 28))(a3, L"REP05_SD_A02", 1);
      GetScriptFile_51(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_40;
    case 5:
      GetScriptFile_51(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_40;
    case 6:
      GetScriptFile_51(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_40;
    case 7:
      GetScriptFile_51(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_40;
    case 8:
      if ( sub_336000(a3, (&route_files_51)[2 * v4]) )
        GetScriptFile_51(a3, Dst, SizeInWords, 9, 1);
      else
        GetScriptFile_51(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_40;
    case 9:
      GetScriptFile_51(a3, Dst, SizeInWords, 3, 1);
      goto LABEL_40;
    case 10:
      GetScriptFile_51(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_40;
    case 11:
      GetScriptFile_51(a3, Dst, SizeInWords, 6, 1);
      goto LABEL_40;
    case 12:
      GetScriptFile_51(a3, Dst, SizeInWords, 15, 1);
      goto LABEL_40;
    case 13:
      GetScriptFile_51(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_40;
    case 14:
      GetScriptFile_51(a3, Dst, SizeInWords, 7, 1);
      goto LABEL_40;
    case 15:
      if ( (*(*a3 + 4))(a3) )
      {
        if ( (*(*a3 + 4))(a3) == 1 )
          GetScriptFile_51(a3, Dst, SizeInWords, 17, 1);
        else
          GetScriptFile_51(a3, Dst, SizeInWords, 18, 1);
      }
      else
      {
        GetScriptFile_51(a3, Dst, SizeInWords, 16, 1);
      }
      goto LABEL_40;
    case 16:
      (*(*a3 + 12))(a3, L"BS05SDD05", v4);
      GetScriptFile_51(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_40;
    case 17:
    case 18:
      if ( (*(*a3 + 4))(a3) )
      {
        (*(*a3 + 12))(a3, L"BS05SDD05", v4);
        GetScriptFile_51(a3, Dst, SizeInWords, 20, 1);
      }
      else
      {
        (*(*a3 + 12))(a3, L"BS05SDD04", v4);
        GetScriptFile_51(a3, Dst, SizeInWords, 19, 1);
      }
      goto LABEL_40;
    case 19:
      GetScriptFile_51(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_40;
    case 20:
      (*(*a3 + 28))(a3, L"REP05_SD_D05", 1);
      GetScriptFile_51(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_40;
    case 21:
      (*(*a3 + 12))(a3, L"BS05SDA01", v4);
      GetScriptFile_51(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_40;
    case 22:
      sub_336590(a3, 19);
      (*(*a3 + 56))(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      return 1;
    case 23:
      GetScriptFile_51(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_40;
    case 24:
      GetScriptFile_51(a3, Dst, SizeInWords, 14, 1);
      goto LABEL_40;
    case 25:
      GetScriptFile_51(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_40;
    case 26:
      GetScriptFile_51(a3, Dst, SizeInWords, 5, 1);
LABEL_40:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 39DA64: using guessed type wchar_t asc_39DA64[6];
// 39DA70: using guessed type wchar_t aBs05sda01[10];
// 39DA84: using guessed type wchar_t aRep05_sd_a02[13];
// 39DAA0: using guessed type wchar_t aBs05sdd05[10];
// 39DAB4: using guessed type wchar_t aBs05sdd04[10];
// 39DAC8: using guessed type wchar_t aBs05sdd05_0[10];
// 39DADC: using guessed type wchar_t aRep05_sd_d05[13];
// 39DAF8: using guessed type wchar_t aBs05sda01_0[10];

//----- (00371B90) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_51(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@3
  int v6; // ST18_4@18
  int v7; // ST18_4@19

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_51)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_27(a3, Dst, SizeInWords, 44, 0);
      return 1;
    case 1:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05SDA01");
      GetScriptFile_51(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_27;
    case 2:
      GetScriptFile_51(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_27;
    case 3:
      GetScriptFile_51(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_27;
    case 4:
      GetScriptFile_51(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_27;
    case 5:
      GetScriptFile_51(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_27;
    case 6:
      GetScriptFile_51(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_27;
    case 7:
      GetScriptFile_51(a3, Dst, SizeInWords, 14, 0);
      goto LABEL_27;
    case 8:
      GetScriptFile_51(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_27;
    case 9:
    case 10:
      GetScriptFile_51(a3, Dst, SizeInWords, 8, 0);
      goto LABEL_27;
    case 11:
      GetScriptFile_51(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_27;
    case 12:
      GetScriptFile_51(a3, Dst, SizeInWords, 6, 0);
      goto LABEL_27;
    case 13:
      GetScriptFile_51(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_27;
    case 14:
      GetScriptFile_51(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_27;
    case 15:
      GetScriptFile_51(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_27;
    case 16:
    case 17:
    case 18:
      GetScriptFile_51(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_27;
    case 19:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05SDD04");
      GetScriptFile_51(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_27;
    case 20:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05SDD05");
      GetScriptFile_51(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_27;
    case 21:
      GetScriptFile_51(a3, Dst, SizeInWords, 19, 0);
      goto LABEL_27;
    case 22:
      GetScriptFile_51(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_27;
    case 23:
      GetScriptFile_51(a3, Dst, SizeInWords, 13, 0);
      goto LABEL_27;
    case 24:
      GetScriptFile_51(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_27;
    case 25:
      GetScriptFile_51(a3, Dst, SizeInWords, 7, 0);
      goto LABEL_27;
    case 26:
      GetScriptFile_51(a3, Dst, SizeInWords, 0, 0);
LABEL_27:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39DB0C: using guessed type wchar_t asc_39DB0C[6];
// 39DB18: using guessed type wchar_t aBs05sda01_1[10];
// 39DB2C: using guessed type wchar_t aBs05sdd04_0[10];
// 39DB40: using guessed type wchar_t aBs05sdd05_1[10];

//----- (00371F70) --------------------------------------------------------
signed int __cdecl searchRoot_route_5sd(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 27; ++i )
  {
    if ( !wcscmp((&route_files_51)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 51);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39DB54: using guessed type wchar_t asc_39DB54[6];
// 39DB60: using guessed type wchar_t asc_39DB60[6];

//----- (00371FE0) --------------------------------------------------------
signed int __cdecl CheckScript_route_51(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  switch ( (*(*a1 + 8))(a1, L"SCENE") )
  {
    case 0:
      v2 = 14;
      break;
    case 15:
      v2 = 24;
      break;
    case 8:
      v2 = 25;
      break;
    case 1:
      v2 = 26;
      break;
    case 22:
      v2 = 27;
      break;
    default:
      v2 = CheckScript_by_flags_route_32(a1);
      break;
  }
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 371FE0: using guessed type _DWORD __cdecl CheckScript_route_51(_DWORD);
// 39DB6C: using guessed type wchar_t asc_39DB6C[6];

//----- (003720A0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_51(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 26; ++i )
  {
    if ( !wcscmp((&route_files_51)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003720F0) --------------------------------------------------------
int __cdecl SetFeeling_route_51(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@6

  result = (a1->vtable->GetVariable)(a1, L"SCENE");
  if ( result == 15 )
  {
    result = (a1->vtable->GetCurrentScene)(a1);
    if ( result )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result == 1 )
        v3 = 17;
      else
        v3 = 18;
    }
    else
    {
      v3 = 16;
    }
  }
  else
  {
    if ( result > 16 && result <= 18 )
    {
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 20;
      else
        v3 = 19;
    }
    else
    {
      v3 = -1;
    }
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_51)[2 * v3], a2);
  return result;
}
// 39DB78: using guessed type wchar_t asc_39DB78[6];

//----- (003721C0) --------------------------------------------------------
unsigned int __cdecl sub_3721C0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@4

  if ( a3 )
  {
    if ( a3 == 12 )
    {
      v4 = 637;
    }
    else
    {
      if ( a3 == 45 )
        v4 = 640;
      else
        v4 = -1;
    }
  }
  else
  {
    v4 = 634;
  }
  return sub_3367C0(a1, v4, (&route_files_52)[2 * a3], a2);
}

//----- (00372230) --------------------------------------------------------
errno_t __cdecl GetScriptFile_52(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3721C0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 52);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_52)[2 * a4]);
}
// 39E2E0: using guessed type wchar_t asc_39E2E0[6];
// 39E2EC: using guessed type wchar_t asc_39E2EC[6];

//----- (003722A0) --------------------------------------------------------
signed int __cdecl GetNextScript_52(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@64
  signed int result; // eax@64
  int v5; // esi@67
  int v6; // [sp+8h] [bp-4h]@1

  v6 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_3721C0(a3, 1, v6);
  switch ( v6 )
  {
    case 0:
      GetScriptFile_52(a3, Dst, SizeInWords, 46, 1);
      goto LABEL_77;
    case 1:
      GetScriptFile_52(a3, Dst, SizeInWords, 30, 1);
      goto LABEL_77;
    case 2:
      GetScriptFile_52(a3, Dst, SizeInWords, 12, 1);
      goto LABEL_77;
    case 3:
      GetScriptFile_52(a3, Dst, SizeInWords, 5, 1);
      goto LABEL_77;
    case 4:
      GetScriptFile_52(a3, Dst, SizeInWords, 25, 1);
      goto LABEL_77;
    case 5:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_52(a3, Dst, SizeInWords, 7, 1);
        else
          GetScriptFile_52(a3, Dst, SizeInWords, 8, 1);
      }
      else
      {
        GetScriptFile_52(a3, Dst, SizeInWords, 6, 1);
      }
      goto LABEL_77;
    case 6:
    case 7:
    case 8:
      (a3->vtable->SetVariable)(a3, L"BS05SEC04", v6);
      GetScriptFile_52(a3, Dst, SizeInWords, 9, 1);
      goto LABEL_77;
    case 9:
      GetScriptFile_52(a3, Dst, SizeInWords, 16, 1);
      goto LABEL_77;
    case 10:
      GetScriptFile_52(a3, Dst, SizeInWords, 24, 1);
      goto LABEL_77;
    case 11:
      GetScriptFile_52(a3, Dst, SizeInWords, 29, 1);
      goto LABEL_77;
    case 12:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          (a3->vtable->SetVariable)(a3, L"BS05SEC09", v6);
          GetScriptFile_52(a3, Dst, SizeInWords, 14, 1);
        }
        else
        {
          GetScriptFile_52(a3, Dst, SizeInWords, 15, 1);
        }
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS05SEC08", v6);
        GetScriptFile_52(a3, Dst, SizeInWords, 13, 1);
      }
      goto LABEL_77;
    case 13:
    case 14:
      (a3->vtable->SetVariable)(a3, L"BS05SEM00", v6);
      GetScriptFile_52(a3, Dst, SizeInWords, 31, 1);
      goto LABEL_77;
    case 15:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_52(a3, Dst, SizeInWords, 39, 1);
        else
          GetScriptFile_52(a3, Dst, SizeInWords, 40, 1);
      }
      else
      {
        (a3->vtable->SetVariable)(a3, L"BS05SEC09", v6);
        GetScriptFile_52(a3, Dst, SizeInWords, 14, 1);
      }
      goto LABEL_77;
    case 16:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_52(a3, Dst, SizeInWords, 18, 1);
        else
          GetScriptFile_52(a3, Dst, SizeInWords, 19, 1);
      }
      else
      {
        GetScriptFile_52(a3, Dst, SizeInWords, 17, 1);
      }
      goto LABEL_77;
    case 17:
    case 18:
    case 19:
      (a3->vtable->SetVariable)(a3, L"BS05SED04", v6);
      GetScriptFile_52(a3, Dst, SizeInWords, 20, 1);
      goto LABEL_77;
    case 20:
      GetScriptFile_52(a3, Dst, SizeInWords, 21, 1);
      goto LABEL_77;
    case 21:
      GetScriptFile_52(a3, Dst, SizeInWords, 23, 1);
      goto LABEL_77;
    case 22:
      (a3->vtable->SetVariable)(a3, L"BS05SEN00", v6);
      GetScriptFile_52(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_77;
    case 23:
      GetScriptFile_52(a3, Dst, SizeInWords, 10, 1);
      goto LABEL_77;
    case 24:
      GetScriptFile_52(a3, Dst, SizeInWords, 4, 1);
      goto LABEL_77;
    case 25:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
          GetScriptFile_52(a3, Dst, SizeInWords, 27, 1);
        else
          GetScriptFile_52(a3, Dst, SizeInWords, 28, 1);
      }
      else
      {
        GetScriptFile_52(a3, Dst, SizeInWords, 26, 1);
      }
      goto LABEL_77;
    case 26:
    case 27:
    case 28:
      (a3->vtable->SetVariable)(a3, L"BS05SEC06", v6);
      GetScriptFile_52(a3, Dst, SizeInWords, 11, 1);
      goto LABEL_77;
    case 29:
      GetScriptFile_52(a3, Dst, SizeInWords, 1, 1);
      goto LABEL_77;
    case 30:
      GetScriptFile_52(a3, Dst, SizeInWords, 2, 1);
      goto LABEL_77;
    case 31:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        if ( (a3->vtable->GetCurrentScene)(a3) == 1 )
        {
          GetScriptFile_52(a3, Dst, SizeInWords, 33, 1);
        }
        else
        {
          (a3->vtable->SetVariable)(a3, L"BS05SEM03", v6);
          GetScriptFile_52(a3, Dst, SizeInWords, 34, 1);
        }
      }
      else
      {
        GetScriptFile_52(a3, Dst, SizeInWords, 32, 1);
      }
      goto LABEL_77;
    case 32:
    case 34:
    case 35:
      (a3->vtable->SetVariable)(a3, L"BS05SEM06", v6);
      GetScriptFile_52(a3, Dst, SizeInWords, 36, 1);
      goto LABEL_77;
    case 33:
      if ( (a3->vtable->GetCurrentScene)(a3) )
      {
        (a3->vtable->SetVariable)(a3, L"BS05SEM03", v6);
        GetScriptFile_52(a3, Dst, SizeInWords, 34, 1);
      }
      else
      {
        GetScriptFile_52(a3, Dst, SizeInWords, 35, 1);
      }
      goto LABEL_77;
    case 36:
      GetScriptFile_52(a3, Dst, SizeInWords, 22, 1);
      goto LABEL_77;
    case 37:
      (a3->vtable->field_1C)(a3, L"REP05_SE_N00", 1);
      GetScriptFile_52(a3, Dst, SizeInWords, 38, 1);
      goto LABEL_77;
    case 38:
      (a3->vtable->SetVariable)(a3, L"BS05KCF00", v6);
      v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05KC", v3);
      GetScriptFile_44(a3, Dst, SizeInWords, 12, 1);
      return 1;
    case 39:
      (a3->vtable->SetVariable)(a3, L"BS05SEC08", v6);
      GetScriptFile_52(a3, Dst, SizeInWords, 13, 1);
      goto LABEL_77;
    case 40:
      GetScriptFile_52(a3, Dst, SizeInWords, 41, 1);
      goto LABEL_77;
    case 41:
      v5 = (a3->vtable->GetVariable)(a3, L"001");
      if ( v5 <= (a3->vtable->GetVariable)(a3, L"002") )
        GetScriptFile_52(a3, Dst, SizeInWords, 43, 1);
      else
        GetScriptFile_52(a3, Dst, SizeInWords, 42, 1);
      goto LABEL_77;
    case 42:
      GetScriptFile_52(a3, Dst, SizeInWords, 44, 1);
      goto LABEL_77;
    case 43:
      (a3->vtable->SetVariable)(a3, L"BS05SEN00", v6);
      GetScriptFile_52(a3, Dst, SizeInWords, 37, 1);
      goto LABEL_77;
    case 44:
      GetScriptFile_52(a3, Dst, SizeInWords, 45, 1);
      goto LABEL_77;
    case 45:
      sub_336590(a3, 20);
      (a3->vtable->field_38)(a3, 1);
      sub_336760(a3, Dst, SizeInWords, 1);
      result = 1;
      break;
    case 46:
      GetScriptFile_52(a3, Dst, SizeInWords, 3, 1);
LABEL_77:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 336590: using guessed type _DWORD __cdecl sub_336590(_DWORD, _DWORD);
// 39E2F8: using guessed type wchar_t asc_39E2F8[6];
// 39E304: using guessed type wchar_t aBs05sec04[10];
// 39E318: using guessed type wchar_t aBs05sec08[10];
// 39E32C: using guessed type wchar_t aBs05sec09[10];
// 39E340: using guessed type wchar_t aBs05sem00[10];
// 39E354: using guessed type wchar_t aBs05sec09_0[10];
// 39E368: using guessed type wchar_t aBs05sed04[10];
// 39E37C: using guessed type wchar_t aBs05sen00[10];
// 39E390: using guessed type wchar_t aBs05sec06[10];
// 39E3A4: using guessed type wchar_t aBs05sem03[10];
// 39E3B8: using guessed type wchar_t aBs05sem06[10];
// 39E3CC: using guessed type wchar_t aBs05sem03_0[10];
// 39E3E0: using guessed type wchar_t aRep05_se_n00[13];
// 39E3FC: using guessed type wchar_t aBs05kcf00_1[10];
// 39E410: using guessed type wchar_t asc_39E410[6];
// 39E41C: using guessed type wchar_t aBs05kc_1[7];
// 39E42C: using guessed type wchar_t aBs05sec08_0[10];
// 39E440: using guessed type wchar_t a001_25[4];
// 39E448: using guessed type wchar_t a002_25[4];
// 39E450: using guessed type wchar_t aBs05sen00_0[10];

//----- (00372C20) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_52(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // ST1C_4@1
  signed int result; // eax@2
  int v5; // ST18_4@9
  int v6; // ST18_4@11
  int v7; // ST18_4@13
  int v8; // ST18_4@14
  int v9; // ST18_4@18
  int v10; // ST18_4@27
  int v11; // ST18_4@29
  int v12; // ST18_4@31
  int v13; // ST18_4@32

  v3 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_52)[2 * v3], 0);
  switch ( v3 )
  {
    case 0:
      (a3->vtable->field_2C)(a3);
      GetScriptFile_25(a3, Dst, SizeInWords, 24, 0);
      return 1;
    case 1:
      GetScriptFile_52(a3, Dst, SizeInWords, 29, 0);
      goto LABEL_41;
    case 2:
      GetScriptFile_52(a3, Dst, SizeInWords, 30, 0);
      goto LABEL_41;
    case 3:
      GetScriptFile_52(a3, Dst, SizeInWords, 0, 0);
      goto LABEL_41;
    case 4:
      GetScriptFile_52(a3, Dst, SizeInWords, 24, 0);
      goto LABEL_41;
    case 5:
      GetScriptFile_52(a3, Dst, SizeInWords, 3, 0);
      goto LABEL_41;
    case 6:
    case 7:
    case 8:
      GetScriptFile_52(a3, Dst, SizeInWords, 5, 0);
      goto LABEL_41;
    case 9:
      v5 = (a3->vtable->GetVariable)(a3, L"BS05SEC04");
      GetScriptFile_52(a3, Dst, SizeInWords, v5, 0);
      goto LABEL_41;
    case 10:
      GetScriptFile_52(a3, Dst, SizeInWords, 23, 0);
      goto LABEL_41;
    case 11:
      v6 = (a3->vtable->GetVariable)(a3, L"BS05SEC06");
      GetScriptFile_52(a3, Dst, SizeInWords, v6, 0);
      goto LABEL_41;
    case 12:
      GetScriptFile_52(a3, Dst, SizeInWords, 2, 0);
      goto LABEL_41;
    case 13:
      v7 = (a3->vtable->GetVariable)(a3, L"BS05SEC08");
      GetScriptFile_52(a3, Dst, SizeInWords, v7, 0);
      goto LABEL_41;
    case 14:
      v8 = (a3->vtable->GetVariable)(a3, L"BS05SEC09");
      GetScriptFile_52(a3, Dst, SizeInWords, v8, 0);
      goto LABEL_41;
    case 15:
      GetScriptFile_52(a3, Dst, SizeInWords, 12, 0);
      goto LABEL_41;
    case 16:
      GetScriptFile_52(a3, Dst, SizeInWords, 9, 0);
      goto LABEL_41;
    case 17:
    case 18:
    case 19:
      GetScriptFile_52(a3, Dst, SizeInWords, 16, 0);
      goto LABEL_41;
    case 20:
      v9 = (a3->vtable->GetVariable)(a3, L"BS05SED04");
      GetScriptFile_52(a3, Dst, SizeInWords, v9, 0);
      goto LABEL_41;
    case 21:
      GetScriptFile_52(a3, Dst, SizeInWords, 20, 0);
      goto LABEL_41;
    case 22:
      GetScriptFile_52(a3, Dst, SizeInWords, 36, 0);
      goto LABEL_41;
    case 23:
      GetScriptFile_52(a3, Dst, SizeInWords, 21, 0);
      goto LABEL_41;
    case 24:
      GetScriptFile_52(a3, Dst, SizeInWords, 10, 0);
      goto LABEL_41;
    case 25:
      GetScriptFile_52(a3, Dst, SizeInWords, 4, 0);
      goto LABEL_41;
    case 26:
    case 27:
    case 28:
      GetScriptFile_52(a3, Dst, SizeInWords, 25, 0);
      goto LABEL_41;
    case 29:
      GetScriptFile_52(a3, Dst, SizeInWords, 11, 0);
      goto LABEL_41;
    case 30:
      GetScriptFile_52(a3, Dst, SizeInWords, 1, 0);
      goto LABEL_41;
    case 31:
      v10 = (a3->vtable->GetVariable)(a3, L"BS05SEM00");
      GetScriptFile_52(a3, Dst, SizeInWords, v10, 0);
      goto LABEL_41;
    case 32:
    case 33:
      GetScriptFile_52(a3, Dst, SizeInWords, 31, 0);
      goto LABEL_41;
    case 34:
      v11 = (a3->vtable->GetVariable)(a3, L"BS05SEM03");
      GetScriptFile_52(a3, Dst, SizeInWords, v11, 0);
      goto LABEL_41;
    case 35:
      GetScriptFile_52(a3, Dst, SizeInWords, 33, 0);
      goto LABEL_41;
    case 36:
      v12 = (a3->vtable->GetVariable)(a3, L"BS05SEM06");
      GetScriptFile_52(a3, Dst, SizeInWords, v12, 0);
      goto LABEL_41;
    case 37:
      v13 = (a3->vtable->GetVariable)(a3, L"BS05SEN00");
      GetScriptFile_52(a3, Dst, SizeInWords, v13, 0);
      goto LABEL_41;
    case 38:
      GetScriptFile_52(a3, Dst, SizeInWords, 37, 0);
      goto LABEL_41;
    case 39:
    case 40:
      GetScriptFile_52(a3, Dst, SizeInWords, 15, 0);
      goto LABEL_41;
    case 41:
      GetScriptFile_52(a3, Dst, SizeInWords, 40, 0);
      goto LABEL_41;
    case 42:
    case 43:
      GetScriptFile_52(a3, Dst, SizeInWords, 41, 0);
      goto LABEL_41;
    case 44:
      GetScriptFile_52(a3, Dst, SizeInWords, 42, 0);
      goto LABEL_41;
    case 45:
      GetScriptFile_52(a3, Dst, SizeInWords, 44, 0);
      goto LABEL_41;
    case 46:
      GetScriptFile_52(a3, Dst, SizeInWords, 0, 0);
LABEL_41:
      result = 1;
      break;
    default:
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
      break;
  }
  return result;
}
// 39E464: using guessed type wchar_t asc_39E464[6];
// 39E470: using guessed type wchar_t aBs05sec04_0[10];
// 39E484: using guessed type wchar_t aBs05sec06_0[10];
// 39E498: using guessed type wchar_t aBs05sec08_1[10];
// 39E4AC: using guessed type wchar_t aBs05sec09_1[10];
// 39E4C0: using guessed type wchar_t aBs05sed04_0[10];
// 39E4D4: using guessed type wchar_t aBs05sem00_0[10];
// 39E4E8: using guessed type wchar_t aBs05sem03_1[10];
// 39E4FC: using guessed type wchar_t aBs05sem06_0[10];
// 39E510: using guessed type wchar_t aBs05sen00_1[10];

//----- (00373270) --------------------------------------------------------
signed int __cdecl searchRoot_route_5se(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 47; ++i )
  {
    if ( !wcscmp((&route_files_52)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 52);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39E524: using guessed type wchar_t asc_39E524[6];
// 39E530: using guessed type wchar_t asc_39E530[6];

//----- (003732E0) --------------------------------------------------------
signed int __cdecl CheckScript_route_52(int a1)
{
  int v2; // [sp+0h] [bp-Ch]@1
  signed int v3; // [sp+8h] [bp-4h]@4

  v2 = (*(*a1 + 8))(a1, L"SCENE");
  if ( v2 )
  {
    if ( v2 == 12 )
    {
      v3 = 48;
    }
    else
    {
      if ( v2 == 45 )
        v3 = 51;
      else
        v3 = CheckScript_by_flags_route_32(a1);
    }
  }
  else
  {
    v3 = 45;
  }
  return v3;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 3732E0: using guessed type _DWORD __cdecl CheckScript_route_52(_DWORD);
// 39E53C: using guessed type wchar_t asc_39E53C[6];

//----- (00373350) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_52(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 46; ++i )
  {
    if ( !wcscmp((&route_files_52)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (003733A0) --------------------------------------------------------
int __cdecl SetFeeling_route_52(ScriptObject *a1, int a2)
{
  int result; // eax@1
  signed int v3; // [sp+4h] [bp-8h]@3

  result = (a1->vtable->GetVariable)(a1, L"SCENE") - 5;
  switch ( result )
  {
    case 0:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 7;
        else
          v3 = 8;
      }
      else
      {
        v3 = 6;
      }
      break;
    case 7:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 14;
        else
          v3 = 15;
      }
      else
      {
        v3 = 13;
      }
      break;
    case 10:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 39;
        else
          v3 = 40;
      }
      else
      {
        v3 = 14;
      }
      break;
    case 11:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 18;
        else
          v3 = 19;
      }
      else
      {
        v3 = 17;
      }
      break;
    case 20:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 27;
        else
          v3 = 28;
      }
      else
      {
        v3 = 26;
      }
      break;
    case 26:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
      {
        result = (a1->vtable->GetCurrentScene)(a1);
        if ( result == 1 )
          v3 = 33;
        else
          v3 = 34;
      }
      else
      {
        v3 = 32;
      }
      break;
    case 28:
      result = (a1->vtable->GetCurrentScene)(a1);
      if ( result )
        v3 = 34;
      else
        v3 = 35;
      break;
    default:
      v3 = -1;
      break;
  }
  if ( v3 > -1 )
    result = sub_335EB0(a1, (&route_files_52)[2 * v3], a2);
  return result;
}
// 39E548: using guessed type wchar_t asc_39E548[6];

//----- (00373600) --------------------------------------------------------
unsigned int __cdecl sub_373600(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 )
    v4 = -1;
  else
    v4 = 625;
  return sub_3367C0(a1, v4, (&route_files_53)[2 * a3], a2);
}

//----- (00373650) --------------------------------------------------------
errno_t __cdecl GetScriptFile_53(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_373600(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 53);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_53)[2 * a4]);
}
// 39E5A8: using guessed type wchar_t asc_39E5A8[6];
// 39E5B4: using guessed type wchar_t asc_39E5B4[6];

//----- (003736C0) --------------------------------------------------------
signed int __cdecl GetNextScript_53(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@5
  signed int result; // eax@3
  int v5; // [sp+4h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_373600(a3, 1, v5);
  if ( v5 )
  {
    if ( v5 == 1 )
    {
      (a3->vtable->SetVariable)(a3, L"BS05SAB00", 1);
      v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SA", v3);
      GetScriptFile_48(a3, Dst, SizeInWords, 1, 1);
      result = 1;
    }
    else
    {
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
    }
  }
  else
  {
    GetScriptFile_53(a3, Dst, SizeInWords, 1, 1);
    result = 1;
  }
  return result;
}
// 39E5C0: using guessed type wchar_t asc_39E5C0[6];
// 39E5CC: using guessed type wchar_t aBs05sab00_1[10];
// 39E5E0: using guessed type wchar_t asc_39E5E0[6];
// 39E5EC: using guessed type wchar_t aBs05sa_5[7];

//----- (003737A0) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_53(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@3
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_53)[2 * v4], 0);
  if ( v4 )
  {
    if ( v4 == 1 )
    {
      GetScriptFile_53(a3, Dst, SizeInWords, 0, 0);
      result = 1;
    }
    else
    {
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
    }
  }
  else
  {
    (a3->vtable->field_2C)(a3);
    GetScriptFile_28(a3, Dst, SizeInWords, 16, 0);
    result = 1;
  }
  return result;
}
// 39E5FC: using guessed type wchar_t asc_39E5FC[6];

//----- (00373860) --------------------------------------------------------
signed int __cdecl searchRoot_route_5sg(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 2; ++i )
  {
    if ( !wcscmp((&route_files_53)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 53);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39E608: using guessed type wchar_t asc_39E608[6];
// 39E614: using guessed type wchar_t asc_39E614[6];

//----- (003738D0) --------------------------------------------------------
signed int __cdecl CheckScript_route_53(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") )
    v2 = CheckScript_by_flags_route_32(a1);
  else
    v2 = 36;
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 3738D0: using guessed type _DWORD __cdecl CheckScript_route_53(_DWORD);
// 39E620: using guessed type wchar_t asc_39E620[6];

//----- (00373920) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_53(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_53)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00373970) --------------------------------------------------------
int __cdecl SetFeeling_route_53(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 39E62C: using guessed type wchar_t asc_39E62C[6];

//----- (003739C0) --------------------------------------------------------
unsigned int __cdecl sub_3739C0(ScriptObject *a1, int a2, int a3)
{
  int v4; // [sp+4h] [bp-4h]@2

  if ( a3 )
    v4 = -1;
  else
    v4 = 622;
  return sub_3367C0(a1, v4, (&route_files_54)[2 * a3], a2);
}

//----- (00373A10) --------------------------------------------------------
errno_t __cdecl GetScriptFile_54(ScriptObject *a1, wchar_t *Dst, rsize_t SizeInWords, int a4, int a5)
{
  if ( !a5 )
    sub_3739C0(a1, 0, a4);
  (a1->vtable->SetVariable)(a1, L"ROUTE", 54);
  (a1->vtable->SetVariable)(a1, L"SCENE", a4);
  return wcscpy_s(Dst, SizeInWords, (&route_files_54)[2 * a4]);
}
// 39E68C: using guessed type wchar_t asc_39E68C[6];
// 39E698: using guessed type wchar_t asc_39E698[6];

//----- (00373A80) --------------------------------------------------------
signed int __cdecl GetNextScript_54(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  int v3; // eax@5
  signed int result; // eax@3
  int v5; // [sp+4h] [bp-4h]@1

  v5 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_3739C0(a3, 1, v5);
  if ( v5 )
  {
    if ( v5 == 1 )
    {
      (a3->vtable->SetVariable)(a3, L"BS05SAB00", 1);
      v3 = (a3->vtable->GetVariable)(a3, L"ROUTE");
      (a3->vtable->SetVariable)(a3, L"BS05SA", v3);
      GetScriptFile_48(a3, Dst, SizeInWords, 1, 1);
      result = 1;
    }
    else
    {
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
    }
  }
  else
  {
    GetScriptFile_54(a3, Dst, SizeInWords, 1, 1);
    result = 1;
  }
  return result;
}
// 39E6A4: using guessed type wchar_t asc_39E6A4[6];
// 39E6B0: using guessed type wchar_t aBs05sab00_2[10];
// 39E6C4: using guessed type wchar_t asc_39E6C4[6];
// 39E6D0: using guessed type wchar_t aBs05sa_6[7];

//----- (00373B60) --------------------------------------------------------
signed int __cdecl GetBackScriptFile_route_54(wchar_t *Dst, rsize_t SizeInWords, ScriptObject *a3)
{
  signed int result; // eax@3
  int v4; // [sp+4h] [bp-4h]@1

  v4 = (a3->vtable->GetVariable)(a3, L"SCENE");
  sub_335EB0(a3, (&route_files_54)[2 * v4], 0);
  if ( v4 )
  {
    if ( v4 == 1 )
    {
      GetScriptFile_54(a3, Dst, SizeInWords, 0, 0);
      result = 1;
    }
    else
    {
      sub_336760(a3, Dst, SizeInWords, 0);
      result = 0;
    }
  }
  else
  {
    (a3->vtable->field_2C)(a3);
    GetScriptFile_20(a3, Dst, SizeInWords, 5, 0);
    result = 1;
  }
  return result;
}
// 39E6E0: using guessed type wchar_t asc_39E6E0[6];

//----- (00373C20) --------------------------------------------------------
signed int __cdecl searchRoot_route_5sh(const wchar_t *a1, int a2)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 2; ++i )
  {
    if ( !wcscmp((&route_files_54)[2 * i], a1) )
    {
      (*(*a2 + 12))(a2, L"ROUTE", 54);
      (*(*a2 + 12))(a2, L"SCENE", i);
      return 1;
    }
  }
  return 0;
}
// 39E6EC: using guessed type wchar_t asc_39E6EC[6];
// 39E6F8: using guessed type wchar_t asc_39E6F8[6];

//----- (00373C90) --------------------------------------------------------
signed int __cdecl CheckScript_route_54(int a1)
{
  signed int v2; // [sp+8h] [bp-4h]@2

  if ( (*(*a1 + 8))(a1, L"SCENE") )
    v2 = CheckScript_by_flags_route_32(a1);
  else
    v2 = 33;
  return v2;
}
// 334B70: using guessed type _DWORD __cdecl CheckScript_by_flags_route_32(_DWORD);
// 373C90: using guessed type _DWORD __cdecl CheckScript_route_54(_DWORD);
// 39E704: using guessed type wchar_t asc_39E704[6];

//----- (00373CE0) --------------------------------------------------------
signed int __cdecl CheckInputScript_route_54(const wchar_t *a1)
{
  signed int i; // [sp+0h] [bp-4h]@1

  for ( i = 0; i < 1; ++i )
  {
    if ( !wcscmp((&route_files_54)[2 * i], a1) )
      return 1;
  }
  return 0;
}

//----- (00373D30) --------------------------------------------------------
int __cdecl SetFeeling_route_54(int a1)
{
  return (*(*a1 + 8))(a1, L"SCENE");
}
// 39E710: using guessed type wchar_t asc_39E710[6];

//----- (0037418A) --------------------------------------------------------
void __cdecl sub_37418A(void *a1)
{
  operator delete(a1);
}

//----- (0037433C) --------------------------------------------------------
int __cdecl sub_37433C(int a1)
{
  int result; // eax@1

  result = a1;
  dword_3A6FC8 = a1;
  return result;
}
// 3A6FC8: using guessed type int dword_3A6FC8;

//----- (00374649) --------------------------------------------------------
void __thiscall sub_374649(void *this)
{
  *this = &off_39E750;
  sub_377662(this);
}
// 39E750: using guessed type int (__thiscall *off_39E750)(void *, char);

//----- (00374659) --------------------------------------------------------
void *__thiscall sub_374659(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_374649(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (0037469A) --------------------------------------------------------
int __thiscall sub_37469A(int this)
{
  int result; // eax@1

  result = this;
  *(this + 4) = 0;
  *(this + 8) = 0;
  *this = &off_39E758;
  return result;
}
// 39E758: using guessed type int (__thiscall *off_39E758)(void *, char);

//----- (00374778) --------------------------------------------------------
void __thiscall sub_374778(int this)
{
  bool v1; // zf@1

  v1 = *(this + 8) == 0;
  *this = &off_39E758;
  if ( !v1 )
    free(*(this + 4));
}
// 39E758: using guessed type int (__thiscall *off_39E758)(void *, char);

//----- (0037479B) --------------------------------------------------------
void *__thiscall sub_37479B(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_374778(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}

//----- (00374B72) --------------------------------------------------------
int __cdecl sub_374B72(int a1)
{
  return sub_378726(a1, 0, 10);
}

//----- (00374B88) --------------------------------------------------------
int __cdecl sub_374B88(int a1)
{
  return sub_374B72(a1);
}
// 374B88: using guessed type int __cdecl sub_374B88(_DWORD);

//----- (00374E65) --------------------------------------------------------
void *__thiscall sub_374E65(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  std::exception::exception(&a2);
  *v2 = &off_39E78C;
  return v2;
}
// 3746AB: using guessed type _DWORD __stdcall std__exception__exception(_DWORD);
// 39E78C: using guessed type int (__thiscall *off_39E78C)(void *, char);

//----- (00374E83) --------------------------------------------------------
void __thiscall sub_374E83(int this)
{
  *this = &off_39E78C;
  sub_374778(this);
}
// 39E78C: using guessed type int (__thiscall *off_39E78C)(void *, char);

//----- (00374E8E) --------------------------------------------------------
void *__thiscall sub_374E8E(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *this = &off_39E78C;
  sub_374778(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}
// 39E78C: using guessed type int (__thiscall *off_39E78C)(void *, char);

//----- (003751AD) --------------------------------------------------------
void __usercall sub_3751AD(int a1<ebp>)
{
  *(_getptd() + 148) = *(a1 + 8);
  _CxxThrowException(0, 0);
}
// 3742F0: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 375DE5: using guessed type int _getptd(void);

//----- (0037672F) --------------------------------------------------------
int __cdecl sub_37672F(int a1)
{
  int result; // eax@1

  result = a1;
  dword_3A7324 = a1;
  return result;
}
// 3A7324: using guessed type int dword_3A7324;

//----- (0037698E) --------------------------------------------------------
void __cdecl sub_37698E()
{
  dword_3A8BD4 = 0;
}
// 3A8BD4: using guessed type int dword_3A8BD4;

//----- (00377662) --------------------------------------------------------
void __cdecl sub_377662(int a1)
{
  int v1; // ecx@1
  void *v2; // eax@2
  void *i; // edx@2

  _lock(14);
  v1 = *(a1 + 4);
  if ( v1 )
  {
    v2 = dword_3A732C;
    for ( i = &unk_3A7328; ; i = dword_3A732C )
    {
      if ( !dword_3A732C )
        goto LABEL_6;
      if ( *dword_3A732C == v1 )
        break;
    }
    *(i + 1) = *(dword_3A732C + 1);
    free(v2);
LABEL_6:
    free(*(a1 + 4));
    *(a1 + 4) = 0;
  }
  JUMPOUT(loc_3776C9);
}
// 3776C9: using guessed type int __cdecl loc_3776C9(int);
// 379EE8: using guessed type _DWORD __cdecl _lock(_DWORD);

//----- (00378726) --------------------------------------------------------
int __cdecl sub_378726(int a1, int a2, int a3)
{
  void **v4; // [sp-14h] [bp-14h]@2

  if ( dword_3A75C8 )
    v4 = 0;
  else
    v4 = &off_3A6108;
  return _LN31(v4, a1, a2, a3, 0);
}
// 37852C: using guessed type _DWORD __cdecl $LN31(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 3A6108: using guessed type void *off_3A6108;
// 3A75C8: using guessed type int dword_3A75C8;

//----- (003799EB) --------------------------------------------------------
int (*__cdecl sub_3799EB())(void)
{
  int (*result)(void); // eax@1
  unsigned int v1; // edi@1

  result = &unk_3A0498;
  v1 = &unk_3A0498;
  if ( &unk_3A0498 < &unk_3A0498 )
  {
    do
    {
      result = *v1;
      if ( *v1 )
        result = result();
      v1 += 4;
    }
    while ( v1 < &unk_3A0498 );
  }
  return result;
}

//----- (00379A11) --------------------------------------------------------
int (*__cdecl sub_379A11())(void)
{
  int (*result)(void); // eax@1
  unsigned int v1; // edi@1

  result = &unk_3A04A0;
  v1 = &unk_3A04A0;
  if ( &unk_3A04A0 < &unk_3A04A0 )
  {
    do
    {
      result = *v1;
      if ( *v1 )
        result = result();
      v1 += 4;
    }
    while ( v1 < &unk_3A04A0 );
  }
  return result;
}

//----- (0037B444) --------------------------------------------------------
signed int __cdecl sub_37B444(int a1, int a2, DWORD nNumberOfBytesToWrite)
{
  int *v4; // ebx@7
  int v5; // esi@7

  if ( a1 == -2 )
  {
    *__doserrno() = 0;
    *_errno() = 9;
  }
  else
  {
    if ( a1 >= 0 )
    {
      if ( a1 < uNumber )
      {
        v4 = &dword_3A8AC0[a1 >> 5];
        v5 = (a1 & 0x1F) << 6;
        if ( *(*v4 + v5 + 4) & 1 )
        {
          __lock_fhandle(a1);
          if ( *(*v4 + v5 + 4) & 1 )
          {
            _write_nolock(a1, a2, nNumberOfBytesToWrite);
          }
          else
          {
            *_errno() = 9;
            *__doserrno() = 0;
          }
          JUMPOUT(loc_37B516);
        }
      }
    }
    *__doserrno() = 0;
    *_errno() = 9;
    _invalid_parameter(0, 0, 0, 0, 0);
  }
  return -1;
}
// 374473: using guessed type int __cdecl _invalid_parameter(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 37B516: using guessed type int __cdecl loc_37B516(int, int, DWORD nNumberOfBytesToWrite);
// 37F6A7: using guessed type _DWORD __cdecl __lock_fhandle(_DWORD);

//----- (0037B5CD) --------------------------------------------------------
void **__cdecl sub_37B5CD()
{
  return &off_3A6648;
}
// 3A6648: using guessed type void *off_3A6648;

//----- (0037D7A4) --------------------------------------------------------
int __cdecl sub_37D7A4()
{
  dword_3A7A78 = unknown_libname_100();
  return 0;
}
// 37D742: using guessed type int unknown_libname_100(void);
// 3A7A78: using guessed type int dword_3A7A78;

//----- (0037DF52) --------------------------------------------------------
int __cdecl sub_37DF52()
{
  return _decode_pointer(dword_3A7974);
}
// 375B99: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 3A7974: using guessed type int dword_3A7974;

//----- (0037E11E) --------------------------------------------------------
int __cdecl sub_37E11E(int a1)
{
  int result; // eax@1

  result = a1;
  dword_3A798C = a1;
  return result;
}
// 3A798C: using guessed type int dword_3A798C;

//----- (0037E12D) --------------------------------------------------------
int __cdecl sub_37E12D(int a1)
{
  int result; // eax@1

  result = a1;
  dword_3A7990 = a1;
  return result;
}
// 3A7990: using guessed type int dword_3A7990;

//----- (0037E63D) --------------------------------------------------------
signed int __cdecl sub_37E63D(int a1, int a2, int a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1
  unsigned int v12; // [sp+30h] [bp-4h]@1
  int v13; // [sp+34h] [bp+0h]@1

  v12 = &v13 ^ __security_cookie;
  _LocaleUpdate::_LocaleUpdate(a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_38012B(&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(v8 + 112) &= 0xFFFFFFFDu;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(v8 + 112) &= 0xFFFFFFFDu;
      return 4;
    }
  }
  if ( v9 )
    *(v8 + 112) &= 0xFFFFFFFDu;
  return 0;
}
// 376476: using guessed type _DWORD __stdcall _LocaleUpdate___LocaleUpdate(_DWORD);
// 380BB3: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 3A5C70: using guessed type int __security_cookie;

//----- (0037E6E5) --------------------------------------------------------
signed int __cdecl sub_37E6E5(int a1, int a2, int a3)
{
  signed int v3; // eax@1
  char v6; // [sp+Ch] [bp-28h]@1
  char v7; // [sp+10h] [bp-24h]@1
  int v8; // [sp+18h] [bp-1Ch]@4
  char v9; // [sp+1Ch] [bp-18h]@3
  int v10; // [sp+20h] [bp-14h]@1
  char v11; // [sp+24h] [bp-10h]@1
  unsigned int v12; // [sp+30h] [bp-4h]@1
  int v13; // [sp+34h] [bp+0h]@1

  v12 = &v13 ^ __security_cookie;
  _LocaleUpdate::_LocaleUpdate(a3);
  v10 = __strgtold12_l(&v11, &v6, a2, 0, 0, 0, 0, &v7);
  v3 = sub_38066F(&v11, a1);
  if ( v10 & 3 )
  {
    if ( v10 & 1 )
      goto LABEL_8;
    if ( v10 & 2 )
      goto LABEL_3;
  }
  else
  {
    if ( v3 == 1 )
    {
LABEL_3:
      if ( v9 )
        *(v8 + 112) &= 0xFFFFFFFDu;
      return 3;
    }
    if ( v3 == 2 )
    {
LABEL_8:
      if ( v9 )
        *(v8 + 112) &= 0xFFFFFFFDu;
      return 4;
    }
  }
  if ( v9 )
    *(v8 + 112) &= 0xFFFFFFFDu;
  return 0;
}
// 376476: using guessed type _DWORD __stdcall _LocaleUpdate___LocaleUpdate(_DWORD);
// 380BB3: using guessed type _DWORD __cdecl __strgtold12_l(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 3A5C70: using guessed type int __security_cookie;

//----- (0037FA94) --------------------------------------------------------
int __cdecl sub_37FA94()
{
  return flsall(1);
}
// 37F9BA: using guessed type _DWORD __cdecl flsall(_DWORD);

//----- (0037FC11) --------------------------------------------------------
int __cdecl load_procs(int a1, int a2, int a3)
{
  int v3; // ebx@1
  HMODULE v4; // eax@2
  HMODULE v5; // edi@2
  FARPROC v6; // eax@3
  FARPROC v7; // eax@4
  FARPROC v8; // eax@4
  FARPROC v9; // eax@4
  FARPROC v10; // eax@5
  int (*v11)(void); // esi@8
  int (__stdcall *v12)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // eax@8
  int (__stdcall *v13)(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // edi@8
  int v14; // eax@10
  int (*v15)(void); // eax@15
  int (__stdcall *v16)(_DWORD); // eax@18
  int (__stdcall *v17)(_DWORD, _DWORD, _DWORD, _DWORD); // eax@20
  char v19; // [sp+10h] [bp-14h]@11
  char v20; // [sp+18h] [bp-Ch]@12
  char v21; // [sp+1Ch] [bp-8h]@11
  int v22; // [sp+20h] [bp-4h]@1

  v22 = 0;
  v3 = _encoded_null();
  if ( !dword_3A79AC )
  {
    v4 = LoadLibraryA("USER32.DLL");
    v5 = v4;
    if ( !v4 || (v6 = GetProcAddress(v4, "MessageBoxA")) == 0 )
      return 0;
    dword_3A79AC = _encode_pointer(v6);
    v7 = GetProcAddress(v5, "GetActiveWindow");
    dword_3A79B0 = _encode_pointer(v7);
    v8 = GetProcAddress(v5, "GetLastActivePopup");
    dword_3A79B4 = _encode_pointer(v8);
    v9 = GetProcAddress(v5, "GetUserObjectInformationA");
    dword_3A79BC = _encode_pointer(v9);
    if ( dword_3A79BC )
    {
      v10 = GetProcAddress(v5, "GetProcessWindowStation");
      dword_3A79B8 = _encode_pointer(v10);
    }
  }
  if ( dword_3A79B8 == v3
    || dword_3A79BC == v3
    || (v11 = _decode_pointer(dword_3A79B8), v12 = _decode_pointer(dword_3A79BC), v13 = v12, !v11)
    || !v12
    || (v14 = v11()) != 0 && v13(v14, 1, &v19, 12, &v21) && v20 & 1 )
  {
    if ( dword_3A79B0 != v3 )
    {
      v15 = _decode_pointer(dword_3A79B0);
      if ( v15 )
      {
        v22 = v15();
        if ( v22 )
        {
          if ( dword_3A79B4 != v3 )
          {
            v16 = _decode_pointer(dword_3A79B4);
            if ( v16 )
              v22 = v16(v22);
          }
        }
      }
    }
  }
  else
  {
    a3 |= 0x200000u;
  }
  v17 = _decode_pointer(dword_3A79AC);
  if ( v17 )
    return v17(v22, a1, a2, a3);
  return 0;
}
// 375B1E: using guessed type _DWORD __cdecl _encode_pointer(_DWORD);
// 375B90: using guessed type int _encoded_null(void);
// 375B99: using guessed type _DWORD __cdecl _decode_pointer(_DWORD);
// 3A79AC: using guessed type int dword_3A79AC;
// 3A79B0: using guessed type int dword_3A79B0;
// 3A79B4: using guessed type int dword_3A79B4;
// 3A79B8: using guessed type int dword_3A79B8;
// 3A79BC: using guessed type int dword_3A79BC;

//----- (0038012B) --------------------------------------------------------
signed int __cdecl sub_38012B(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  signed int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  signed int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  int v14; // esi@13
  signed int v15; // edx@15
  int *v16; // ecx@15
  bool v17; // cf@16
  int v18; // esi@18
  int v19; // eax@31
  int v20; // edx@31
  int *v21; // ebx@32
  unsigned int v22; // esi@32
  char v23; // cl@32
  signed int v24; // edx@33
  int *v25; // ecx@33
  signed int v26; // esi@38
  int v27; // eax@38
  int v28; // edx@38
  int *v29; // ebx@38
  bool j; // zf@39
  int v31; // eax@44
  int v32; // esi@44
  signed int v33; // edx@46
  int *v34; // ecx@46
  int v35; // edi@46
  signed int k; // ecx@49
  int *v37; // ecx@51
  int v38; // esi@51
  signed int v39; // edi@51
  int v40; // eax@58
  int v41; // edx@58
  int *v42; // ebx@59
  unsigned int v43; // esi@59
  char v44; // cl@59
  signed int v45; // edx@60
  int *v46; // ecx@60
  int v47; // eax@67
  int v48; // edx@67
  int *v49; // ebx@68
  unsigned int v50; // esi@68
  char v51; // cl@68
  signed int v52; // edx@69
  int *v53; // ecx@69
  int v54; // eax@75
  int v55; // edx@75
  unsigned int v56; // edi@76
  signed int v57; // edx@77
  int *v58; // ecx@77
  int v59; // ebx@83
  int v60; // edx@84
  int v61; // [sp+8h] [bp-2Ch]@7
  int v62; // [sp+Ch] [bp-28h]@7
  int v63; // [sp+10h] [bp-24h]@7
  int v64; // [sp+14h] [bp-20h]@1
  int v65; // [sp+18h] [bp-1Ch]@1
  int v66; // [sp+1Ch] [bp-18h]@1
  int v67; // [sp+20h] [bp-14h]@1
  int v68; // [sp+24h] [bp-10h]@7
  int v69; // [sp+28h] [bp-Ch]@7
  int v70; // [sp+2Ch] [bp-8h]@7
  int v71; // [sp+30h] [bp-4h]@15
  int v72; // [sp+3Ch] [bp+8h]@7
  int v73; // [sp+3Ch] [bp+8h]@15
  signed int v74; // [sp+3Ch] [bp+8h]@31
  signed int v75; // [sp+3Ch] [bp+8h]@46
  signed int v76; // [sp+3Ch] [bp+8h]@58
  signed int v77; // [sp+3Ch] [bp+8h]@67
  signed int v78; // [sp+3Ch] [bp+8h]@75

  v2 = *(a1 + 10);
  v67 = *(a1 + 10) & 0x8000;
  v64 = *(a1 + 6);
  v3 = (v2 & 0x7FFF) - 16383;
  v4 = *a1 << 16;
  v65 = *(a1 + 2);
  v66 = v4;
  if ( v3 != -16383 )
  {
    v72 = 0;
    v61 = v64;
    v62 = v65;
    v63 = v66;
    v8 = dword_3A6AB8 - 1;
    v68 = v3;
    v69 = dword_3A6AB8 / 32;
    v9 = dword_3A6AB8 % 32;
    v10 = &v64 + dword_3A6AB8 / 32;
    v70 = 31 - dword_3A6AB8 % 32;
    if ( (1 << (31 - dword_3A6AB8 % 32)) & *v10 )
    {
      v11 = v69;
      for ( i = (~(-1 << (31 - v9)) & *(&v64 + v69)) == 0; i; i = *(&v64 + v11) == 0 )
      {
        ++v11;
        if ( v11 >= 3 )
          goto LABEL_24;
      }
      v13 = v8 / 32;
      v14 = v8 & 0x8000001F;
      if ( v14 < 0 )
        LOBYTE(v14) = ((v14 - 1) | 0xE0) + 1;
      v71 = 0;
      v15 = 1 << (31 - v14);
      v16 = &v64 + v13;
      v73 = v15 + *v16;
      if ( v73 >= *v16 )
      {
        v17 = v73 < v15;
        goto LABEL_20;
      }
LABEL_21:
      v71 = 1;
      while ( 1 )
      {
        --v13;
        *v16 = v73;
        if ( v13 < 0 )
          break;
        if ( !v71 )
          break;
        v71 = 0;
        v16 = &v64 + v13;
        v18 = *v16 + 1;
        v73 = v18;
        if ( v18 >= *v16 )
        {
          v17 = v18 < 1;
LABEL_20:
          if ( !v17 )
            continue;
        }
        goto LABEL_21;
      }
      v72 = v71;
    }
LABEL_24:
    *v10 &= -1 << v70;
    if ( v69 + 1 < 3 )
      memset(&v64 + v69 + 1, 0, 4 * (3 - (v69 + 1)));
    if ( v72 )
      ++v3;
    if ( v3 >= dword_3A6AB4 - dword_3A6AB8 )
    {
      if ( v3 > dword_3A6AB4 )
      {
        if ( v3 < dword_3A6AB0 )
        {
          v64 &= 0x7FFFFFFFu;
          v5 = dword_3A6AC4 + v3;
          v54 = dword_3A6ABC / 32;
          v55 = dword_3A6ABC % 32;
          v69 = 0;
          v78 = 0;
          v71 = 32 - dword_3A6ABC % 32;
          do
          {
            v56 = *(&v64 + v78);
            v68 = ~(-1 << v55) & *(&v64 + v78);
            *(&v64 + v78++) = v69 | (v56 >> v55);
            v69 = v68 << v71;
          }
          while ( v78 < 3 );
          v57 = 2;
          v58 = &v66 - v54;
          do
          {
            if ( v57 < v54 )
              *(&v64 + v57) = 0;
            else
              *(&v64 + v57) = *v58;
            --v57;
            --v58;
          }
          while ( v57 >= 0 );
          result = 0;
        }
        else
        {
          v65 = 0;
          v66 = 0;
          v64 = -2147483648;
          v47 = dword_3A6ABC / 32;
          v48 = dword_3A6ABC % 32;
          v69 = 0;
          v77 = 0;
          v71 = 32 - dword_3A6ABC % 32;
          do
          {
            v49 = &v64 + v77;
            v50 = *v49;
            v68 = ~(-1 << v48) & *v49;
            v51 = v71;
            *v49 = v69 | (v50 >> v48);
            ++v77;
            v69 = v68 << v51;
          }
          while ( v77 < 3 );
          v52 = 2;
          v53 = &v66 - v47;
          do
          {
            if ( v52 < v47 )
              *(&v64 + v52) = 0;
            else
              *(&v64 + v52) = *v53;
            --v52;
            --v53;
          }
          while ( v52 >= 0 );
          v5 = dword_3A6AC4 + dword_3A6AB0;
          result = 1;
        }
        goto LABEL_83;
      }
      v64 = v61;
      v65 = v62;
      v19 = (dword_3A6AB4 - v68) / 32;
      v66 = v63;
      v20 = (dword_3A6AB4 - v68) % 32;
      v69 = 0;
      v74 = 0;
      v71 = 32 - v20;
      do
      {
        v21 = &v64 + v74;
        v22 = *v21;
        v68 = ~(-1 << v20) & *v21;
        v23 = v71;
        *v21 = v69 | (v22 >> v20);
        ++v74;
        v69 = v68 << v23;
      }
      while ( v74 < 3 );
      v24 = 2;
      v25 = &v66 - v19;
      do
      {
        if ( v24 < v19 )
          *(&v64 + v24) = 0;
        else
          *(&v64 + v24) = *v25;
        --v24;
        --v25;
      }
      while ( v24 >= 0 );
      v26 = dword_3A6AB8 - 1;
      v27 = dword_3A6AB8 / 32;
      v69 = dword_3A6AB8 / 32;
      v28 = dword_3A6AB8 % 32;
      v29 = &v64 + dword_3A6AB8 / 32;
      v68 = 31 - dword_3A6AB8 % 32;
      if ( (1 << (31 - dword_3A6AB8 % 32)) & *v29 )
      {
        for ( j = (~(-1 << (31 - v28)) & *(&v64 + v27)) == 0; j; j = *(&v64 + v27) == 0 )
        {
          ++v27;
          if ( v27 >= 3 )
            goto LABEL_56;
        }
        v31 = v26 / 32;
        v32 = v26 & 0x8000001F;
        if ( v32 < 0 )
          LOBYTE(v32) = ((v32 - 1) | 0xE0) + 1;
        v75 = 0;
        v33 = 1 << (31 - v32);
        v34 = &v64 + v31;
        v35 = *v34 + v33;
        if ( v35 < *v34 || v35 < v33 )
          v75 = 1;
        *v34 = v35;
        for ( k = v75; ; k = v39 )
        {
          --v31;
          if ( v31 < 0 )
            break;
          if ( !k )
            break;
          v37 = &v64 + v31;
          v38 = *v37 + 1;
          v39 = 0;
          if ( v38 < *v37 || v38 < 1 )
            v39 = 1;
          *v37 = v38;
        }
      }
LABEL_56:
      *v29 &= -1 << v68;
      if ( v69 + 1 < 3 )
        memset(&v64 + v69 + 1, 0, 4 * (3 - (v69 + 1)));
      v40 = (dword_3A6ABC + 1) / 32;
      v41 = (dword_3A6ABC + 1) % 32;
      v69 = 0;
      v76 = 0;
      v71 = 32 - v41;
      do
      {
        v42 = &v64 + v76;
        v43 = *v42;
        v68 = ~(-1 << v41) & *v42;
        v44 = v71;
        *v42 = v69 | (v43 >> v41);
        ++v76;
        v69 = v68 << v44;
      }
      while ( v76 < 3 );
      v45 = 2;
      v46 = &v66 - v40;
      do
      {
        if ( v45 < v40 )
          *(&v64 + v45) = 0;
        else
          *(&v64 + v45) = *v46;
        --v45;
        --v46;
      }
      while ( v45 >= 0 );
    }
    else
    {
      v64 = 0;
      v65 = 0;
      v66 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_83;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v64 + v6) )
  {
    ++v6;
    if ( v6 >= 3 )
    {
      result = 0;
      goto LABEL_83;
    }
  }
  v64 = 0;
  v65 = 0;
  v66 = 0;
  result = 2;
LABEL_83:
  v59 = v64 | (v67 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_3A6ABC));
  if ( dword_3A6AC0 == 64 )
  {
    v60 = v65;
    *(a2 + 4) = v59;
    *a2 = v60;
  }
  else
  {
    if ( dword_3A6AC0 == 32 )
      *a2 = v59;
  }
  return result;
}
// 3A6AB0: using guessed type int dword_3A6AB0;
// 3A6AB4: using guessed type int dword_3A6AB4;
// 3A6AB8: using guessed type int dword_3A6AB8;
// 3A6ABC: using guessed type int dword_3A6ABC;
// 3A6AC0: using guessed type int dword_3A6AC0;
// 3A6AC4: using guessed type int dword_3A6AC4;

//----- (0038066F) --------------------------------------------------------
signed int __cdecl sub_38066F(int a1, int a2)
{
  __int16 v2; // bx@1
  int v3; // ebx@1
  int v4; // eax@1
  int v5; // ebx@2
  signed int v6; // eax@2
  signed int result; // eax@5
  signed int v8; // esi@7
  int v9; // edx@7
  int *v10; // edi@7
  signed int v11; // eax@8
  bool i; // zf@8
  int v13; // eax@13
  int v14; // esi@13
  signed int v15; // edx@15
  int *v16; // ecx@15
  bool v17; // cf@16
  int v18; // esi@18
  int v19; // eax@31
  int v20; // edx@31
  int *v21; // ebx@32
  unsigned int v22; // esi@32
  char v23; // cl@32
  signed int v24; // edx@33
  int *v25; // ecx@33
  signed int v26; // esi@38
  int v27; // eax@38
  int v28; // edx@38
  int *v29; // ebx@38
  bool j; // zf@39
  int v31; // eax@44
  int v32; // esi@44
  signed int v33; // edx@46
  int *v34; // ecx@46
  int v35; // edi@46
  signed int k; // ecx@49
  int *v37; // ecx@51
  int v38; // esi@51
  signed int v39; // edi@51
  int v40; // eax@58
  int v41; // edx@58
  int *v42; // ebx@59
  unsigned int v43; // esi@59
  char v44; // cl@59
  signed int v45; // edx@60
  int *v46; // ecx@60
  int v47; // eax@67
  int v48; // edx@67
  int *v49; // ebx@68
  unsigned int v50; // esi@68
  char v51; // cl@68
  signed int v52; // edx@69
  int *v53; // ecx@69
  int v54; // eax@75
  int v55; // edx@75
  unsigned int v56; // edi@76
  signed int v57; // edx@77
  int *v58; // ecx@77
  int v59; // ebx@83
  int v60; // edx@84
  int v61; // [sp+8h] [bp-2Ch]@7
  int v62; // [sp+Ch] [bp-28h]@7
  int v63; // [sp+10h] [bp-24h]@7
  int v64; // [sp+14h] [bp-20h]@1
  int v65; // [sp+18h] [bp-1Ch]@1
  int v66; // [sp+1Ch] [bp-18h]@1
  int v67; // [sp+20h] [bp-14h]@1
  int v68; // [sp+24h] [bp-10h]@7
  int v69; // [sp+28h] [bp-Ch]@7
  int v70; // [sp+2Ch] [bp-8h]@7
  int v71; // [sp+30h] [bp-4h]@15
  int v72; // [sp+3Ch] [bp+8h]@7
  int v73; // [sp+3Ch] [bp+8h]@15
  signed int v74; // [sp+3Ch] [bp+8h]@31
  signed int v75; // [sp+3Ch] [bp+8h]@46
  signed int v76; // [sp+3Ch] [bp+8h]@58
  signed int v77; // [sp+3Ch] [bp+8h]@67
  signed int v78; // [sp+3Ch] [bp+8h]@75

  v2 = *(a1 + 10);
  v67 = *(a1 + 10) & 0x8000;
  v64 = *(a1 + 6);
  v3 = (v2 & 0x7FFF) - 16383;
  v4 = *a1 << 16;
  v65 = *(a1 + 2);
  v66 = v4;
  if ( v3 != -16383 )
  {
    v72 = 0;
    v61 = v64;
    v62 = v65;
    v63 = v66;
    v8 = dword_3A6AD0 - 1;
    v68 = v3;
    v69 = dword_3A6AD0 / 32;
    v9 = dword_3A6AD0 % 32;
    v10 = &v64 + dword_3A6AD0 / 32;
    v70 = 31 - dword_3A6AD0 % 32;
    if ( (1 << (31 - dword_3A6AD0 % 32)) & *v10 )
    {
      v11 = v69;
      for ( i = (~(-1 << (31 - v9)) & *(&v64 + v69)) == 0; i; i = *(&v64 + v11) == 0 )
      {
        ++v11;
        if ( v11 >= 3 )
          goto LABEL_24;
      }
      v13 = v8 / 32;
      v14 = v8 & 0x8000001F;
      if ( v14 < 0 )
        LOBYTE(v14) = ((v14 - 1) | 0xE0) + 1;
      v71 = 0;
      v15 = 1 << (31 - v14);
      v16 = &v64 + v13;
      v73 = v15 + *v16;
      if ( v73 >= *v16 )
      {
        v17 = v73 < v15;
        goto LABEL_20;
      }
LABEL_21:
      v71 = 1;
      while ( 1 )
      {
        --v13;
        *v16 = v73;
        if ( v13 < 0 )
          break;
        if ( !v71 )
          break;
        v71 = 0;
        v16 = &v64 + v13;
        v18 = *v16 + 1;
        v73 = v18;
        if ( v18 >= *v16 )
        {
          v17 = v18 < 1;
LABEL_20:
          if ( !v17 )
            continue;
        }
        goto LABEL_21;
      }
      v72 = v71;
    }
LABEL_24:
    *v10 &= -1 << v70;
    if ( v69 + 1 < 3 )
      memset(&v64 + v69 + 1, 0, 4 * (3 - (v69 + 1)));
    if ( v72 )
      ++v3;
    if ( v3 >= dword_3A6ACC - dword_3A6AD0 )
    {
      if ( v3 > dword_3A6ACC )
      {
        if ( v3 < dword_3A6AC8 )
        {
          v64 &= 0x7FFFFFFFu;
          v5 = dword_3A6ADC + v3;
          v54 = dword_3A6AD4 / 32;
          v55 = dword_3A6AD4 % 32;
          v69 = 0;
          v78 = 0;
          v71 = 32 - dword_3A6AD4 % 32;
          do
          {
            v56 = *(&v64 + v78);
            v68 = ~(-1 << v55) & *(&v64 + v78);
            *(&v64 + v78++) = v69 | (v56 >> v55);
            v69 = v68 << v71;
          }
          while ( v78 < 3 );
          v57 = 2;
          v58 = &v66 - v54;
          do
          {
            if ( v57 < v54 )
              *(&v64 + v57) = 0;
            else
              *(&v64 + v57) = *v58;
            --v57;
            --v58;
          }
          while ( v57 >= 0 );
          result = 0;
        }
        else
        {
          v65 = 0;
          v66 = 0;
          v64 = -2147483648;
          v47 = dword_3A6AD4 / 32;
          v48 = dword_3A6AD4 % 32;
          v69 = 0;
          v77 = 0;
          v71 = 32 - dword_3A6AD4 % 32;
          do
          {
            v49 = &v64 + v77;
            v50 = *v49;
            v68 = ~(-1 << v48) & *v49;
            v51 = v71;
            *v49 = v69 | (v50 >> v48);
            ++v77;
            v69 = v68 << v51;
          }
          while ( v77 < 3 );
          v52 = 2;
          v53 = &v66 - v47;
          do
          {
            if ( v52 < v47 )
              *(&v64 + v52) = 0;
            else
              *(&v64 + v52) = *v53;
            --v52;
            --v53;
          }
          while ( v52 >= 0 );
          v5 = dword_3A6ADC + dword_3A6AC8;
          result = 1;
        }
        goto LABEL_83;
      }
      v64 = v61;
      v65 = v62;
      v19 = (dword_3A6ACC - v68) / 32;
      v66 = v63;
      v20 = (dword_3A6ACC - v68) % 32;
      v69 = 0;
      v74 = 0;
      v71 = 32 - v20;
      do
      {
        v21 = &v64 + v74;
        v22 = *v21;
        v68 = ~(-1 << v20) & *v21;
        v23 = v71;
        *v21 = v69 | (v22 >> v20);
        ++v74;
        v69 = v68 << v23;
      }
      while ( v74 < 3 );
      v24 = 2;
      v25 = &v66 - v19;
      do
      {
        if ( v24 < v19 )
          *(&v64 + v24) = 0;
        else
          *(&v64 + v24) = *v25;
        --v24;
        --v25;
      }
      while ( v24 >= 0 );
      v26 = dword_3A6AD0 - 1;
      v27 = dword_3A6AD0 / 32;
      v69 = dword_3A6AD0 / 32;
      v28 = dword_3A6AD0 % 32;
      v29 = &v64 + dword_3A6AD0 / 32;
      v68 = 31 - dword_3A6AD0 % 32;
      if ( (1 << (31 - dword_3A6AD0 % 32)) & *v29 )
      {
        for ( j = (~(-1 << (31 - v28)) & *(&v64 + v27)) == 0; j; j = *(&v64 + v27) == 0 )
        {
          ++v27;
          if ( v27 >= 3 )
            goto LABEL_56;
        }
        v31 = v26 / 32;
        v32 = v26 & 0x8000001F;
        if ( v32 < 0 )
          LOBYTE(v32) = ((v32 - 1) | 0xE0) + 1;
        v75 = 0;
        v33 = 1 << (31 - v32);
        v34 = &v64 + v31;
        v35 = *v34 + v33;
        if ( v35 < *v34 || v35 < v33 )
          v75 = 1;
        *v34 = v35;
        for ( k = v75; ; k = v39 )
        {
          --v31;
          if ( v31 < 0 )
            break;
          if ( !k )
            break;
          v37 = &v64 + v31;
          v38 = *v37 + 1;
          v39 = 0;
          if ( v38 < *v37 || v38 < 1 )
            v39 = 1;
          *v37 = v38;
        }
      }
LABEL_56:
      *v29 &= -1 << v68;
      if ( v69 + 1 < 3 )
        memset(&v64 + v69 + 1, 0, 4 * (3 - (v69 + 1)));
      v40 = (dword_3A6AD4 + 1) / 32;
      v41 = (dword_3A6AD4 + 1) % 32;
      v69 = 0;
      v76 = 0;
      v71 = 32 - v41;
      do
      {
        v42 = &v64 + v76;
        v43 = *v42;
        v68 = ~(-1 << v41) & *v42;
        v44 = v71;
        *v42 = v69 | (v43 >> v41);
        ++v76;
        v69 = v68 << v44;
      }
      while ( v76 < 3 );
      v45 = 2;
      v46 = &v66 - v40;
      do
      {
        if ( v45 < v40 )
          *(&v64 + v45) = 0;
        else
          *(&v64 + v45) = *v46;
        --v45;
        --v46;
      }
      while ( v45 >= 0 );
    }
    else
    {
      v64 = 0;
      v65 = 0;
      v66 = 0;
    }
    v5 = 0;
    result = 2;
    goto LABEL_83;
  }
  v5 = 0;
  v6 = 0;
  while ( !*(&v64 + v6) )
  {
    ++v6;
    if ( v6 >= 3 )
    {
      result = 0;
      goto LABEL_83;
    }
  }
  v64 = 0;
  v65 = 0;
  v66 = 0;
  result = 2;
LABEL_83:
  v59 = v64 | (v67 != 0 ? 0x80000000 : 0) | (v5 << (31 - dword_3A6AD4));
  if ( dword_3A6AD8 == 64 )
  {
    v60 = v65;
    *(a2 + 4) = v59;
    *a2 = v60;
  }
  else
  {
    if ( dword_3A6AD8 == 32 )
      *a2 = v59;
  }
  return result;
}
// 3A6AC8: using guessed type int dword_3A6AC8;
// 3A6ACC: using guessed type int dword_3A6ACC;
// 3A6AD0: using guessed type int dword_3A6AD0;
// 3A6AD4: using guessed type int dword_3A6AD4;
// 3A6AD8: using guessed type int dword_3A6AD8;
// 3A6ADC: using guessed type int dword_3A6ADC;

//----- (003828A0) --------------------------------------------------------
void __stdcall sub_3828A0(int a1)
{
  off_3A6EE0(a1, 0);
  JUMPOUT(unk_3828B1);
}

//----- (003828C0) --------------------------------------------------------
int __userpurge sub_3828C0<eax>(int a1<eax>, LPCSTR lpMultiByteStr)
{
  int v2; // eax@2
  int v3; // edi@2
  signed int v4; // esi@2
  int v5; // eax@3
  void *v6; // ebx@7
  int v7; // eax@14
  BSTR v8; // edi@17
  unsigned int v10; // [sp-10h] [bp-38h]@1
  int v11; // [sp+0h] [bp-28h]@2
  void *v12; // [sp+4h] [bp-24h]@7
  int v13; // [sp+8h] [bp-20h]@2
  unsigned int v14; // [sp+Ch] [bp-1Ch]@1
  unsigned int *v15; // [sp+10h] [bp-18h]@1
  int v16; // [sp+18h] [bp-10h]@1
  int (__cdecl *v17)(int, PVOID, int); // [sp+1Ch] [bp-Ch]@1
  unsigned int v18; // [sp+20h] [bp-8h]@1
  int v19; // [sp+24h] [bp-4h]@1
  int v20; // [sp+28h] [bp+0h]@1

  v19 = -2;
  v17 = _except_handler4;
  v16 = a1;
  v18 = __security_cookie ^ &unk_3A1018;
  v14 = &v20 ^ __security_cookie;
  v10 = &v20 ^ __security_cookie;
  v15 = &v10;
  if ( lpMultiByteStr )
  {
    v2 = lstrlenA(lpMultiByteStr);
    v3 = v2 + 1;
    v13 = v2 + 1;
    v4 = MultiByteToWideChar(0, 0, lpMultiByteStr, v2 + 1, 0, 0);
    v11 = v4;
    if ( !v4 )
    {
      v5 = GetLastError();
      if ( v5 > 0 )
        v5 = v5 | 0x80070000;
      sub_3828A0(v5);
    }
    v19 = 0;
    if ( v4 >= 4096 )
    {
      v6 = malloc(2 * v4);
      v12 = v6;
      v19 = -2;
    }
    else
    {
      _alloca_probe_16(v10);
      v15 = &v10;
      v6 = &v10;
      v12 = &v10;
      v19 = -2;
    }
    if ( !v6 )
      sub_3828A0(-2147024882);
    if ( !MultiByteToWideChar(0, 0, lpMultiByteStr, v3, v6, v4) )
    {
      if ( v4 >= 4096 )
        free(v6);
      v7 = GetLastError();
      if ( v7 > 0 )
        v7 = v7 | 0x80070000;
      sub_3828A0(v7);
    }
    v8 = SysAllocString(v6);
    if ( v4 >= 4096 )
      free(v6);
    if ( !v8 )
      sub_3828A0(-2147024882);
  }
  return __security_check_cookie(&v20 ^ v14);
}
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);
// 382010: using guessed type _DWORD __cdecl _alloca_probe_16(char);
// 3A5C70: using guessed type int __security_cookie;

//----- (00382A80) --------------------------------------------------------
void __cdecl sub_382A80(int a1, int a2)
{
  int (__thiscall **v2)(void *, char); // [sp+0h] [bp-10h]@1
  int v3; // [sp+4h] [bp-Ch]@1
  int v4; // [sp+8h] [bp-8h]@1
  int v5; // [sp+Ch] [bp-4h]@1

  v2 = &off_3A0140;
  v3 = a1;
  v4 = a2;
  v5 = 0;
  _CxxThrowException(&v2, &unk_3A1034);
}
// 3742F0: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);
// 3A0140: using guessed type int (__thiscall *off_3A0140)(void *, char);

//----- (00382AC0) --------------------------------------------------------
int __thiscall sub_382AC0(int this, int a2)
{
  int v2; // esi@1
  int v3; // edx@1

  v2 = this;
  *this = &off_3A0140;
  *(this + 4) = *(a2 + 4);
  v3 = *(a2 + 8);
  *(this + 8) = v3;
  *(this + 12) = 0;
  if ( v3 )
    (*(*v3 + 4))(v3);
  return v2;
}
// 3A0140: using guessed type int (__thiscall *off_3A0140)(void *, char);

//----- (00382B00) --------------------------------------------------------
void *__thiscall sub_382B00(void *this, char a2)
{
  void *v2; // esi@1
  int v3; // eax@1
  HANDLE v4; // eax@4

  v2 = this;
  v3 = *(this + 2);
  *this = &off_3A0140;
  if ( v3 )
    (*(*v3 + 8))(v3);
  if ( *(v2 + 3) )
  {
    v4 = GetProcessHeap();
    if ( v4 )
      HeapFree(v4, 0, *(v2 + 3));
  }
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}
// 3A0140: using guessed type int (__thiscall *off_3A0140)(void *, char);

//----- (00382B50) --------------------------------------------------------
int __thiscall sub_382B50(int this, int a2)
{
  int v2; // esi@1

  v2 = this;
  sub_332E70(this, a2);
  *v2 = &off_3A0148;
  return v2;
}
// 3A0148: using guessed type int (__thiscall *off_3A0148)(void *, char);

//----- (00382B6D) --------------------------------------------------------
void __thiscall sub_382B6D(void *this)
{
  *this = &off_3A0148;
  sub_332F30(this);
}
// 3A0148: using guessed type int (__thiscall *off_3A0148)(void *, char);

//----- (00382B78) --------------------------------------------------------
void *__thiscall sub_382B78(void *this, char a2)
{
  void *v2; // esi@1

  v2 = this;
  *this = &off_3A0148;
  sub_332F30(this);
  if ( a2 & 1 )
    operator delete(v2);
  return v2;
}
// 3A0148: using guessed type int (__thiscall *off_3A0148)(void *, char);

//----- (00382B9F) --------------------------------------------------------
void __cdecl sub_382B9F()
{
  char v0; // [sp+0h] [bp-50h]@1
  char v1; // [sp+28h] [bp-28h]@1
  int v2; // [sp+4Ch] [bp-4h]@1

  sub_333020(&v1, "string too long");
  v2 = 0;
  sub_332E40(&v0, &v1);
  _CxxThrowException(&v0, &unk_3A0674);
}
// 3742F0: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (00382BD7) --------------------------------------------------------
void __stdcall sub_382BD7(int a1)
{
  char v1; // [sp+0h] [bp-50h]@1
  char v2; // [sp+28h] [bp-28h]@1
  int v3; // [sp+4Ch] [bp-4h]@1

  sub_333020(&v2, "invalid string position");
  v3 = 0;
  sub_382B50(&v1, &v2);
  _CxxThrowException(&v1, &unk_3A1068);
}
// 3742F0: using guessed type _DWORD __stdcall _CxxThrowException(_DWORD, _DWORD);

//----- (00382C0F) --------------------------------------------------------
void *__thiscall sub_382C0F(void *this, int a2)
{
  void *v2; // esi@1

  v2 = this;
  sub_332FB0(this, a2);
  *v2 = &off_3A0148;
  return v2;
}
// 3A0148: using guessed type int (__thiscall *off_3A0148)(void *, char);

//----- (00382C40) --------------------------------------------------------
int __usercall sub_382C40<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 40);
}

//----- (00382C48) --------------------------------------------------------
int __usercall sub_382C48<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 68);
}

//----- (00382C6B) --------------------------------------------------------
LONG __usercall sub_382C6B<eax>(int a1<ebp>)
{
  return sub_331680((a1 - 376));
}

//----- (00382C76) --------------------------------------------------------
int __usercall sub_382C76<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 404);
}

//----- (00382C81) --------------------------------------------------------
int __cdecl sub_382C81(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  int v4; // eax@1
  int v5; // edx@1

  v4 = __security_check_cookie((a2 + 12) ^ *(a2 - 103));
  __security_check_cookie(v4 ^ *(v5 - 8));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382CB0) --------------------------------------------------------
void __usercall sub_382CB0(int a1<ebp>)
{
  operator delete(*(a1 - 20));
}

//----- (00382CBB) --------------------------------------------------------
int __cdecl sub_382CBB(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 5));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382CE0) --------------------------------------------------------
int __cdecl sub_382CE0(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 10));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382D00) --------------------------------------------------------
int __usercall sub_382D00<eax>(int a1<ebp>)
{
  return sub_332C40(*(a1 - 20));
}

//----- (00382D08) --------------------------------------------------------
int __cdecl sub_382D08(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 3));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382D30) --------------------------------------------------------
int __usercall sub_382D30<eax>(int a1<ebp>)
{
  return std::_Init_locks::__Init_locks(*(a1 - 16));
}
// 332D80: using guessed type int __thiscall std___Init_locks____Init_locks(_DWORD);

//----- (00382D38) --------------------------------------------------------
int __cdecl sub_382D38(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 2));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382D60) --------------------------------------------------------
int __usercall sub_382D60<eax>(int a1<ebp>)
{
  return sub_3330A0(a1 - 80);
}

//----- (00382D68) --------------------------------------------------------
int __cdecl sub_382D68(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 18));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382D90) --------------------------------------------------------
void __usercall sub_382D90(int a1<ebp>)
{
  sub_374778(*(a1 - 16));
}

//----- (00382D98) --------------------------------------------------------
int __cdecl sub_382D98(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 2));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382DC0) --------------------------------------------------------
int __usercall sub_382DC0<eax>(int a1<ebp>)
{
  return std::_Init_locks::__Init_locks(*(a1 - 28));
}
// 332D80: using guessed type int __thiscall std___Init_locks____Init_locks(_DWORD);

//----- (00382DC8) --------------------------------------------------------
int __usercall sub_382DC8<eax>(int a1<ebp>)
{
  return _initp_misc_winxfltr(*(a1 - 20), *(a1 - 24));
}
// 333590: using guessed type int __cdecl _initp_misc_winxfltr(_DWORD, _DWORD);

//----- (00382DD9) --------------------------------------------------------
int __cdecl sub_382DD9(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 6));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382E00) --------------------------------------------------------
int __cdecl sub_382E00(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 10));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382E20) --------------------------------------------------------
int __usercall sub_382E20<eax>(int a1<ebp>)
{
  return sub_332C40(*(a1 - 16));
}

//----- (00382E28) --------------------------------------------------------
int __cdecl sub_382E28(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 2));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382E50) --------------------------------------------------------
int __usercall sub_382E50<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 48);
}

//----- (00382E58) --------------------------------------------------------
int __cdecl sub_382E58(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  int v4; // eax@1
  int v5; // edx@1

  v4 = __security_check_cookie((a2 + 12) ^ *(a2 - 20));
  __security_check_cookie(v4 ^ *(v5 - 8));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382E7D) --------------------------------------------------------
int __usercall sub_382E7D<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 120);
}

//----- (00382E85) --------------------------------------------------------
int __cdecl sub_382E85(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  int v4; // eax@1
  int v5; // edx@1

  v4 = __security_check_cookie((a2 + 12) ^ *(a2 - 35));
  __security_check_cookie(v4 ^ *(v5 - 16));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382EAD) --------------------------------------------------------
int __usercall sub_382EAD<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 120);
}

//----- (00382EB5) --------------------------------------------------------
int __cdecl sub_382EB5(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  int v4; // eax@1
  int v5; // edx@1

  v4 = __security_check_cookie((a2 + 12) ^ *(a2 - 37));
  __security_check_cookie(v4 ^ *(v5 - 12));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382F00) --------------------------------------------------------
int __usercall sub_382F00<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 52);
}

//----- (00382F08) --------------------------------------------------------
int __usercall sub_382F08<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 156);
}

//----- (00382F13) --------------------------------------------------------
int __cdecl sub_382F13(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  int v4; // eax@1
  int v5; // edx@1

  v4 = __security_check_cookie((a2 + 12) ^ *(a2 - 39));
  __security_check_cookie(v4 ^ *(v5 - 12));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382F3B) --------------------------------------------------------
int __usercall sub_382F3B<eax>(int a1<ebp>)
{
  return sub_33C570((a1 - 16));
}

//----- (00382F43) --------------------------------------------------------
LONG __usercall sub_382F43<eax>(int a1<ebp>)
{
  return sub_331680((a1 - 60));
}

//----- (00382F4B) --------------------------------------------------------
int __usercall sub_382F4B<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 56);
}

//----- (00382F53) --------------------------------------------------------
int __cdecl sub_382F53(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  int v4; // eax@1
  int v5; // edx@1

  v4 = __security_check_cookie((a2 + 12) ^ *(a2 - 18));
  __security_check_cookie(v4 ^ *(v5 - 16));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382F80) --------------------------------------------------------
int __usercall sub_382F80<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 60);
}

//----- (00382F88) --------------------------------------------------------
int __usercall sub_382F88<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 92);
}

//----- (00382F90) --------------------------------------------------------
int __cdecl sub_382F90(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  int v4; // eax@1
  int v5; // edx@1

  v4 = __security_check_cookie((a2 + 12) ^ *(a2 - 28));
  __security_check_cookie(v4 ^ *(v5 - 20));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382FC0) --------------------------------------------------------
int __cdecl sub_382FC0(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 6));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00382FE0) --------------------------------------------------------
int __usercall sub_382FE0<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 52);
}

//----- (00382FE8) --------------------------------------------------------
int __cdecl sub_382FE8(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  int v4; // eax@1
  int v5; // edx@1

  v4 = __security_check_cookie((a2 + 12) ^ *(a2 - 15));
  __security_check_cookie(v4 ^ *(v5 - 12));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00383010) --------------------------------------------------------
int __usercall sub_383010<eax>(int a1<ebp>)
{
  return _initp_misc_winxfltr(*(a1 - 24), *(a1 - 16));
}
// 333590: using guessed type int __cdecl _initp_misc_winxfltr(_DWORD, _DWORD);

//----- (00383021) --------------------------------------------------------
int __cdecl sub_383021(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 5));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00383040) --------------------------------------------------------
int __usercall sub_383040<eax>(int a1<ebp>)
{
  return sub_331A00(a1 - 68);
}

//----- (00383048) --------------------------------------------------------
int __cdecl sub_383048(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  int v4; // eax@1
  int v5; // edx@1

  v4 = __security_check_cookie((a2 + 12) ^ *(a2 - 16));
  __security_check_cookie(v4 ^ *(v5 - 8));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (0038306D) --------------------------------------------------------
int __cdecl sub_38306D(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 5));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (00383088) --------------------------------------------------------
int __usercall sub_383088<eax>(int a1<ebp>)
{
  return sub_3330A0(a1 - 40);
}

//----- (00383090) --------------------------------------------------------
int __cdecl sub_383090(EXCEPTION_RECORD *a1, struct EHRegistrationNode *a2, struct EHRegistrationNode *a3, struct _CONTEXT *a4)
{
  __security_check_cookie((a2 + 12) ^ *(a2 - 21));
  return __CxxFrameHandler3(a1, a2, a3, a4);
}
// 373E04: using guessed type _DWORD __cdecl __CxxFrameHandler3(PEXCEPTION_RECORD ExceptionRecord, struct EHRegistrationNode *, struct EHRegistrationNode *, struct _CONTEXT *);
// 37415D: using guessed type int __thiscall __security_check_cookie(_DWORD);

//----- (003830B0) --------------------------------------------------------
int __cdecl sub_3830B0()
{
  sub_331950(&Script_Feeling);
  return atexit(sub_383140);
}

//----- (003830D0) --------------------------------------------------------
int __cdecl sub_3830D0()
{
  sub_331950(&Scripr_Standerd);
  return atexit(sub_383150);
}

//----- (003830F0) --------------------------------------------------------
int __cdecl sub_3830F0()
{
  sub_331950(&unk_3A6F48);
  return atexit(sub_383160);
}

//----- (00383110) --------------------------------------------------------
int __cdecl sub_383110()
{
  sub_332BD0(&unk_3A6F9C);
  return atexit(sub_383170);
}

//----- (00383130) --------------------------------------------------------
int __cdecl sub_383130()
{
  return atexit(VarianClear);
}

//----- (00383140) --------------------------------------------------------
int __cdecl sub_383140()
{
  return sub_331A00(&Script_Feeling);
}

//----- (00383150) --------------------------------------------------------
int __cdecl sub_383150()
{
  return sub_331A00(&Scripr_Standerd);
}

//----- (00383160) --------------------------------------------------------
int __cdecl sub_383160()
{
  return sub_331A00(&unk_3A6F48);
}

//----- (00383170) --------------------------------------------------------
int __cdecl sub_383170()
{
  return sub_333AA0(&unk_3A6F9C);
}

//----- (0038317F) --------------------------------------------------------
void __cdecl sub_38317F()
{
  dword_3A6FB8 = &off_384460;
  sub_374778(&dword_3A6FB8);
}
// 384460: using guessed type int (__stdcall *off_384460)(int);
// 3A6FB8: using guessed type int dword_3A6FB8;

//----- (003831A0) --------------------------------------------------------
HRESULT __cdecl VarianClear()
{
  return VariantClear(&pvarg);
}

// ALL OK, 737 function(s) have been successfully decompiled
